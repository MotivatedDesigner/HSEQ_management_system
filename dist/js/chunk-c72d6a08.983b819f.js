(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c72d6a08"],{"045e":function(t,e,s){t.exports=s.p+"img/6.5e6ef87d.png"},"09d5":function(t,e,s){t.exports=s.p+"img/8-small.f49338b2.png"},"0b7b":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{attrs:{title:"Hazards logs"}},[s("vue-good-table",{attrs:{columns:t.columns,rows:t.rows,"search-options":{enabled:!0,externalQuery:t.searchTerm},"pagination-options":{enabled:!0,perPage:t.pageLength}},on:{"on-row-click":t.onRowClick},scopedSlots:t._u([{key:"table-row",fn:function(e){return["location"===e.column.field?s("span",{staticClass:"text-nowrap"},[t._v(" "+t._s(e.row.location.name)+" ")]):"state"===e.column.field?s("span",[s("b-badge",{attrs:{variant:t.statusVariant(e.row.state.name)}},[t._v(" "+t._s(e.row.state.name)+" ")])],1):"createdBy"===e.column.field?s("span",{staticClass:"text-nowrap"},[t._v(" "+t._s(e.row.createdBy.name)+" ")]):"source"===e.column.field?s("span",{staticClass:"text-nowrap"},[t._v(" "+t._s(e.row.source.name)+" ")]):s("span",[t._v(" "+t._s(e.formattedRow[e.column.field])+" ")])]}},{key:"pagination-bottom",fn:function(e){return[s("div",{staticClass:"d-flex justify-content-between flex-wrap"},[s("div",{staticClass:"d-flex align-items-center mb-0 mt-1"},[s("span",{staticClass:"text-nowrap "},[t._v(" Showing 1 to ")]),s("b-form-select",{staticClass:"mx-1",attrs:{options:["3","5","10"]},on:{input:function(t){return e.perPageChanged({currentPerPage:t})}},model:{value:t.pageLength,callback:function(e){t.pageLength=e},expression:"pageLength"}}),s("span",{staticClass:"text-nowrap"},[t._v(" of "+t._s(e.total)+" entries ")])],1),s("div",[s("b-pagination",{staticClass:"mt-1 mb-0",attrs:{value:1,"total-rows":e.total,"per-page":t.pageLength,"first-number":"","last-number":"",align:"right","prev-class":"prev-item","next-class":"next-item"},on:{input:function(t){return e.pageChanged({currentPage:t})}},scopedSlots:t._u([{key:"prev-text",fn:function(){return[s("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})]},proxy:!0},{key:"next-text",fn:function(){return[s("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})]},proxy:!0}],null,!0)})],1)])]}}])}),s("b-modal",{attrs:{id:"modal-add-alert",title:"Alert","no-close-on-esc":"",centered:"","ok-title":"Add"},on:{ok:function(e){t.showAlert=!0}}},[s("b-row",[s("b-col",{staticClass:"pt-1",attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Title","label-for":"alrt-title"}},[s("b-form-input",{attrs:{id:"alrt-title",placeholder:"ie: Boiling water in Area 2",autocomplete:"off"},model:{value:t.alertTitle,callback:function(e){t.alertTitle=e},expression:"alertTitle"}})],1)],1),s("b-col",{attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Description","label-for":"altr-name"}},[s("b-form-textarea",{attrs:{id:"alrt-description",placeholder:"Includs who, what & where",rows:"1",autocomplete:"off"},model:{value:t.alertDescription,callback:function(e){t.alertDescription=e},expression:"alertDescription"}})],1)],1),s("b-col",{attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Risk","label-for":"risk"}},[s("v-select",{attrs:{id:"risk",options:t.risks},model:{value:t.risk,callback:function(e){t.risk=e},expression:"risk"}})],1)],1)],1)],1),s("b-modal",{attrs:{id:"modal-add-action",title:"Action","no-close-on-esc":"",centered:"","ok-title":"Add"},on:{ok:function(e){t.showAction=!0}}},[s("b-row",[s("b-col",{staticClass:"pt-1",attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Title","label-for":"act-title"}},[s("b-form-input",{attrs:{id:"act-title",placeholder:"ie: Cut the Power",autocomplete:"off"},model:{value:t.actionTitle,callback:function(e){t.actionTitle=e},expression:"actionTitle"}})],1)],1),s("b-col",{attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Is There First Aid Required?","label-for":"sup-name"}},[s("b-form-textarea",{attrs:{id:"action-description",placeholder:"Includs who, what & where",rows:"1",autocomplete:"off"},model:{value:t.actionDescription,callback:function(e){t.actionDescription=e},expression:"actionDescription"}})],1)],1),s("b-col",{attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Assigned To","label-for":"assign-name"}},[s("vue-autosuggest",{attrs:{suggestions:t.filteredOptionsAction,"render-suggestion":t.renderSuggestion,"get-suggestion-value":t.getSuggestionValue2,limit:10,"input-props":{id:"autosuggest__input",class:"form-control",placeholder:"Employee name"}},on:{input:t.onInputChangeAction},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.suggestion;return[s("span",{staticClass:"my-suggestion-item",staticStyle:{border:"1px solid red"}},[t._v(t._s(n.item.name))])]}}])})],1)],1),s("b-col",{attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Due Date","label-for":"date-time"}},[s("flat-pickr",{staticClass:"form-control",attrs:{placeholder:"Due Date",autocomplete:"off",config:{enableTime:!0,dateFormat:"Y-m-d H:i"}},model:{value:t.actionDate,callback:function(e){t.actionDate=e},expression:"actionDate"}})],1)],1)],1)],1),s("b-modal",{attrs:{id:"modal-controll-hazard",title:"Hazard Controll","no-close-on-esc":"",centered:"","ok-title":"Save"},on:{ok:function(e){t.showControll=!0}}},[s("b-row",[s("b-col",{staticClass:"pt-1",attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Controll Title","label-for":"controll-title"}},[s("b-form-input",{attrs:{id:"controll-title",placeholder:"ie: Cut the Power",autocomplete:"off"},model:{value:t.controllTitle,callback:function(e){t.controllTitle=e},expression:"controllTitle"}})],1)],1),s("b-col",{attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Description","label-for":"controll-description"}},[s("b-form-textarea",{attrs:{id:"controll-description",placeholder:"Includs who, what & where",rows:"1",autocomplete:"off"}})],1)],1),s("b-col",{attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Controll Type","label-for":"Controll-type"}},[s("v-select",{attrs:{id:"Controll-type",label:"name",options:t.controllTypes},scopedSlots:t._u([{key:"option",fn:function(e){var n=e.name;return[s("span",[t._v(" "+t._s(n))])]}}]),model:{value:t.controllType,callback:function(e){t.controllType=e},expression:"controllType"}})],1)],1),s("b-col",{attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Due Date","label-for":"date-time"}},[s("flat-pickr",{staticClass:"form-control",attrs:{placeholder:"Due Date",autocomplete:"off",config:{enableTime:!0,dateFormat:"Y-m-d H:i"}},model:{value:t.HazardDateTime,callback:function(e){t.HazardDateTime=e},expression:"HazardDateTime"}})],1)],1)],1)],1),s("b-modal",{attrs:{id:"modal-review-hazard",title:"Hazard Review","no-close-on-esc":"",centered:"","ok-title":"Save"},on:{ok:function(e){t.showReview=!0}}},[s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.review-hazard-1",modifiers:{"review-hazard-1":!0}}],staticClass:"card",on:{click:function(e){return t.toggleAns(t.ans1Visible)}}},[s("div",{staticClass:"card-header py-1"},[s("h4",{staticClass:" mb-0"},[t._v("Supervisor Review")]),s("h4",{staticClass:"text-muted mb-0"},[t._v("1 / 3")])])]),s("b-collapse",{attrs:{id:"review-hazard-1"},model:{value:t.ans1Visible,callback:function(e){t.ans1Visible=e},expression:"ans1Visible"}},[s("div",{staticClass:"card my-card"},[s("b-row",[s("b-col",{staticClass:"pt-1",attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Supervisor Name","label-for":"sup-name"}},[s("vue-autosuggest",{attrs:{suggestions:t.filteredOptions,"render-suggestion":t.renderSuggestion,"get-suggestion-value":t.getSuggestionValue,limit:10,se:"","input-props":{id:"autosuggest__input",class:"form-control",placeholder:"Supervisor name"}},on:{input:t.onInputChange},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.suggestion;return[s("span",{staticClass:"my-suggestion-item",staticStyle:{border:"1px solid red"}},[t._v(t._s(n.item.name))])]}}])})],1)],1)],1)],1)]),s("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.review-hazard-2",modifiers:{"review-hazard-2":!0}}],staticClass:"card",on:{click:function(e){return t.toggleAns(t.ans2Visible)}}},[s("div",{staticClass:"card-header py-1"},[s("h4",{staticClass:" mb-0"},[t._v("Risk Assessment")]),s("h4",{staticClass:"text-muted mb-0"},[t._v("2 / 3")])])]),s("b-collapse",{attrs:{id:"review-hazard-2"},model:{value:t.ans2Visible,callback:function(e){t.ans2Visible=e},expression:"ans2Visible"}},[s("div",{staticClass:"card my-card"},[s("b-row",[s("b-col",{staticClass:"pt-1",attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Hazard Type","label-for":"Hazard-type"}},[s("v-select",{attrs:{id:"Hazard-type",label:"name",options:t.hazardTypes},scopedSlots:t._u([{key:"option",fn:function(e){var n=e.name;return[s("span",[t._v(" "+t._s(n))])]}}]),model:{value:t.hazardType,callback:function(e){t.hazardType=e},expression:"hazardType"}})],1)],1),s("b-col",{attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Description","label-for":"rev-description"}},[s("b-form-textarea",{attrs:{id:"rev-description",placeholder:"Includs who, what & where",rows:"1",autocomplete:"off"}})],1)],1),s("b-col",{attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Hazard Likelihood","label-for":"Hazard-likelihood"}},[s("v-select",{attrs:{id:"Hazard-likelihood",label:"name",options:t.hazardLikelies},scopedSlots:t._u([{key:"option",fn:function(e){var n=e.name;return[s("span",[t._v(" "+t._s(n))])]}}]),model:{value:t.hazardLikely,callback:function(e){t.hazardLikely=e},expression:"hazardLikely"}})],1)],1),s("b-col",{attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Hazard Seriousness","label-for":"Hazard-Seriousness"}},[s("v-select",{attrs:{id:"Hazard-Seriousness",label:"name",options:t.hazardSerious},scopedSlots:t._u([{key:"option",fn:function(e){var n=e.name;return[s("span",[t._v(" "+t._s(n))])]}}]),model:{value:t.hazardSeriou,callback:function(e){t.hazardSeriou=e},expression:"hazardSeriou"}})],1)],1)],1)],1)]),s("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.review-hazard-3",modifiers:{"review-hazard-3":!0}}],staticClass:"card",on:{click:function(e){return t.toggleAns(t.ans3Visible)}}},[s("div",{staticClass:"card-header py-1"},[s("h4",{staticClass:" mb-0"},[t._v("Equipments")]),s("h4",{staticClass:"text-muted mb-0"},[t._v("3 / 3")])])]),s("b-collapse",{attrs:{id:"review-hazard-3"},model:{value:t.ans3Visible,callback:function(e){t.ans3Visible=e},expression:"ans3Visible"}},[s("div",{staticClass:"card my-card"},[s("b-row",[s("b-col",{staticClass:"pt-1",attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{label:"Was There any Assets Involved?","label-for":"sup-name"}},[s("input",{staticStyle:{display:"none"},attrs:{id:"ans3-y",name:"ans3",type:"radio",value:"Yes"}}),s("label",{staticClass:"btn btn-secondary mr-1",attrs:{for:"ans3-y"},on:{click:function(e){t.showAns3a1=!0}}},[t._v("Yes")]),s("input",{staticStyle:{display:"none"},attrs:{id:"ans3-n",name:"ans3",type:"radio",value:"No"}}),s("label",{staticClass:"btn btn-secondary mr-1",attrs:{for:"ans3-n"}},[t._v("No")])])],1),t.showAns3a1?s("b-col",{attrs:{cols:"10",offset:"1"}},[s("b-form-group",{attrs:{"label-for":"Hazard-assets"}},[s("v-select",{attrs:{id:"Hazard-assets",label:"name",options:t.Assets},scopedSlots:t._u([{key:"option",fn:function(e){var n=e.name;return[s("span",[t._v(" "+t._s(n))])]}}],null,!1,342856073),model:{value:t.Asset,callback:function(e){t.Asset=e},expression:"Asset"}})],1)],1):t._e()],1)],1)])],1)],1)],1),s("b-modal",{attrs:{id:"modal-add-sign",title:"Please Sign Off","no-close-on-esc":"","ok-title":"Save",centered:""},on:{ok:t.addSign}},[s("b-row",{staticClass:"justify-content-around",on:{click:t.setMiddleState}},[s("b-col",{attrs:{cols:"12"}},[s("div",{staticClass:"wrapper"},[s("canvas",{staticClass:"signature-pad",attrs:{id:"signature-pad",width:"400",height:"200"}})]),t._v(" "),s("div")])],1)],1),s("b-modal",{attrs:{id:"modal-select-state-hazard",title:"Please Select a State","no-close-on-esc":"",centered:""}},[s("b-row",{staticClass:"justify-content-around",on:{click:t.setMiddleState}},[s("button",{staticClass:"btn btn-outline-warning",attrs:{"data-state":"Active"}},[t._v("Active")]),s("button",{staticClass:"btn btn-outline-success",attrs:{"data-state":"Closed"}},[t._v(" Case Closed ")])])],1),t.clickedRow?s("b-modal",{attrs:{id:"modal-hazard",title:"Hazard","ok-title":"Save","no-close-on-esc":"",centered:""},on:{ok:t.addAction}},[s("b-row",[s("b-col",{attrs:{cols:"3"}},[s("b-card",{attrs:{title:"Hazard Details"}},[s("h5",{staticClass:"card-subtitle text-muted mt-2"},[t._v("Title")]),s("p",[t._v(t._s(t.clickedRow.title))]),s("h5",{staticClass:"card-subtitle text-muted mt-1"},[t._v("Description")]),s("p",[t._v(t._s(t.clickedRow.description))]),s("h5",{staticClass:"card-subtitle text-muted mt-1"},[t._v("Date & Time")]),s("p",[t._v(t._s(t.clickedRow.createdAt))]),s("h5",{staticClass:"card-subtitle text-muted mt-1"},[t._v("Source")]),s("p",[t._v(t._s(t.clickedRow.source.name))]),s("h5",{staticClass:"card-subtitle text-muted mt-1"},[t._v("Location")]),s("p",[t._v(t._s(t.clickedRow.location.name))])])],1),s("b-col",{attrs:{cols:"6"}},[s("b-card",{staticClass:"mb-1",attrs:{title:"Hazard Management"}},[s("div",{staticClass:"d-flex justify-content-around align-items-center pt-1"},[s("div",{staticClass:"arrow-state",class:{"active-step":"Logged"!=t.clickedRow.state.name},on:{click:t.previewsState}},[s("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"32"}})],1),s("h4",[t._v(" State : "),s("b-badge",{attrs:{variant:t.statusVariant(t.clickedRow.state.name)}},[t._v(" "+t._s(t.clickedRow.state.name)+" ")])],1),s("button",{staticClass:"arrow-state",class:{"active-step":"Closed"!=t.clickedRow.state.name},on:{click:t.nextState}},[s("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"32"}})],1)])]),"Logged"!=t.clickedRow.state.name?s("b-card",[s("b-tabs",[s("b-tab",{attrs:{title:"Supervisor Review"}},[s("div",{staticClass:"d-flex justify-content-end"},[s("button",{staticClass:"btn btn-sm btn-outline-dark",on:{click:function(e){return t.$bvModal.show("modal-review-hazard")}}},[s("feather-icon",{attrs:{icon:"PlusIcon"}})],1)]),t.showReview?s("div",{staticClass:"mt-2 d-flex align-items-center justify-content-between my-rev"},[s("div",{staticClass:"d-flex align-items-center"},[s("b-avatar",{staticClass:"mr-50",attrs:{src:"/13-small.png"}}),s("div",{staticClass:"detail"},[s("b-card-text",{staticClass:"mb-0"},[t._v(t._s(t.inspectorName))])],1)],1),s("div",{staticClass:"d-flex text-muted align-items-center"},[s("h5",{staticClass:"mr-2 text-muted my-title mb-0"},[s("feather-icon",{attrs:{icon:"ClockIcon"}}),t._v(" "+t._s(t.clickedRow.date)+" ")],1),s("feather-icon",{staticStyle:{"margin-right":"4px"},attrs:{size:"18",icon:"Edit2Icon"}}),s("feather-icon",{attrs:{size:"20",icon:"XIcon"}})],1)]):t._e()]),t.showActiveTabs?s("b-tab",{attrs:{title:"Controlls"}},[s("div",{staticClass:"d-flex justify-content-end"},[s("button",{staticClass:"btn btn-sm btn-outline-dark",on:{click:function(e){return t.$bvModal.show("modal-controll-hazard")}}},[s("feather-icon",{attrs:{icon:"PlusIcon"}})],1)]),t.showControll?s("div",{staticClass:"mt-2 d-flex align-items-center justify-content-between my-rev"},[s("div",{staticClass:"d-flex align-items-center"},[s("div",{staticClass:"detail"},[s("b-card-text",{staticClass:"mb-0"},[t._v(t._s(t.controllTitle))]),s("b-card-text",{staticClass:"mb-0 text-muted"},[t._v(t._s(t.controllType.name))])],1)]),s("div",{staticClass:"d-flex text-muted align-items-center"},[s("h5",{staticClass:"mr-2 text-muted my-title mb-0"},[s("feather-icon",{attrs:{icon:"ClockIcon"}}),t._v(" "+t._s(t.clickedRow.date)+" ")],1),s("feather-icon",{staticStyle:{"margin-right":"4px"},attrs:{size:"18",icon:"Edit2Icon"}}),s("feather-icon",{attrs:{size:"20",icon:"XIcon"}})],1)]):t._e()]):t._e()],1)],1):t._e()],1),s("b-col",{attrs:{cols:"3"}},[s("b-card",{attrs:{title:"More"}},[s("h5",{staticClass:"card-subtitle mt-2 mb-1"},[t._v("Actions")]),0==t.showAction?s("div",{staticClass:"btn btn-light w-100",on:{click:function(e){return t.$bvModal.show("modal-add-action")}}},[s("feather-icon",{attrs:{icon:"PlusIcon"}})],1):t._e(),1==t.showAction?s("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.action",modifiers:{action:!0}}],staticClass:"card mb-1"},[s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("div",{staticClass:"d-flex align-items-center"},[s("b-avatar",{staticClass:"mr-50",attrs:{src:"/13-small.png"}}),s("div",{staticClass:"detail"},[s("b-card-text",{staticClass:"mb-0"},[t._v("Lisa Abdo")])],1)],1),s("div",{staticClass:"d-flex text-muted align-items-center"},[s("feather-icon",{staticStyle:{"margin-right":"4px"},attrs:{size:"20",icon:"PlusIcon"}}),s("feather-icon",{staticStyle:{"margin-right":"4px"},attrs:{size:"18",icon:"Edit2Icon"}}),s("feather-icon",{attrs:{size:"20",icon:"XIcon"}})],1)]),s("b-collapse",{attrs:{id:"action"}},[s("div",{staticClass:"card mb-0"},[s("h5",{staticClass:"card-subtitle text-muted mt-2"},[t._v("Title")]),s("p",[t._v("Cut the power")]),s("h5",{staticClass:"card-subtitle text-muted mt-1"},[t._v("Description")]),s("p",[t._v("Cut the power on the 6 stage area 2")]),s("h5",{staticClass:"card-subtitle text-muted mt-1"},[t._v("Due Date")]),s("p",[t._v("2021/09/12 12:00 PM")])])])],1):t._e(),s("h5",{staticClass:"card-subtitle mt-2 mb-1"},[t._v("Alerts")]),0==t.showAlert?s("div",{staticClass:"btn btn-light w-100",on:{click:function(e){return t.$bvModal.show("modal-add-alert")}}},[s("feather-icon",{attrs:{icon:"PlusIcon"}})],1):t._e(),1==t.showAlert?s("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.action",modifiers:{action:!0}}],staticClass:"card mb-1"},[s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("div",{staticClass:"d-flex align-items-center"},[s("b-avatar",{staticClass:"mr-50",attrs:{src:"/risk.png"}}),s("div",{staticClass:"detail"},[s("b-card-text",{staticClass:"mb-0"},[t._v(t._s(t.alertTitle))])],1)],1),s("div",{staticClass:"d-flex text-muted align-items-center"},[s("feather-icon",{staticStyle:{"margin-right":"4px"},attrs:{size:"20",icon:"PlusIcon"}}),s("feather-icon",{staticStyle:{"margin-right":"4px"},attrs:{size:"18",icon:"Edit2Icon"}}),s("feather-icon",{attrs:{size:"20",icon:"XIcon"}})],1)]),s("b-collapse",{attrs:{id:"action"}},[s("div",{staticClass:"card mb-0"},[s("h5",{staticClass:"card-subtitle text-muted mt-2"},[t._v("Title")]),s("p",[t._v("Cut the power")]),s("h5",{staticClass:"card-subtitle text-muted mt-1"},[t._v("Description")]),s("p",[t._v("Cut the power on the 6 stage area 2")]),s("h5",{staticClass:"card-subtitle text-muted mt-1"},[t._v("Due Date")]),s("p",[t._v("2021/09/12 12:00 PM")])])])],1):t._e(),s("h5",{staticClass:"card-subtitle mt-2 mb-1"},[t._v("Atachments")]),t.attachment?t._e():s("label",{staticClass:"btn btn-light w-100",attrs:{for:"attachment"}},[s("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"attachment"},on:{change:t.addAttachment}}),s("feather-icon",{attrs:{icon:"PlusIcon"}})],1),t.attachment?s("div",{staticClass:"card mb-0"},[s("img",{attrs:{src:t.attachment,alt:""}})]):t._e(),s("h5",{staticClass:"card-subtitle mt-2 mb-1"},[t._v("Sign Offs")]),t.signData?t._e():s("div",{staticClass:"btn btn-light w-100",on:{click:t.signOff}},[s("feather-icon",{attrs:{icon:"PlusIcon"}})],1),t.signData?s("div",{staticClass:"card mb-0"},[s("img",{attrs:{src:t.signData,alt:""}})]):t._e()])],1)],1)],1):t._e()],1)},i=[],a=(s("ac1f"),s("5319"),s("b0c0"),s("fb6a"),s("4de4"),s("39ba")),o=s("205f"),r=s("9c7d"),l=s("e8a3"),c=s("d6e4"),d=s("6aac"),u=s("5843"),h=s("b28b"),m=s("a15b"),p=s("e98b"),f=s("f902"),g=s("6190"),b=s("26d2"),v=s("8226"),_=s("4797"),x=s("8361"),w=s("dd9a"),y=s("9eaa"),C=s("2831"),S=s("f617"),k=(s("4360"),s("07e4")),I=s("bc3a"),A=s.n(I),D=s("c38f"),T=s.n(D),P=s("4a7a"),z=s.n(P),R=s("90e2"),M={directives:{"b-toggle":a["a"]},components:{flatPickr:T.a,BCard:o["a"],BFormTextarea:r["a"],VueGoodTable:S["a"],BAvatar:l["a"],BCardText:c["a"],BModal:d["a"],BCollapse:u["a"],BCol:h["a"],BRow:m["a"],BBadge:p["a"],BTabs:f["a"],BTab:g["a"],BPagination:b["a"],BFormGroup:v["a"],BFormInput:_["a"],BFormSelect:x["a"],BDropdown:w["a"],BDropdownItem:y["a"],vSelect:z.a,VueAutosuggest:C["a"]},data:function(){return{alertTitle:"",alertDescription:"",employees:[],actionTitle:"",actionDescription:"",actionDate:"",HazardDateTime:null,signData:"",attachment:!1,showAction:!1,showAlert:!1,inspectorName:null,showAns2A1:!1,showAns3a1:!1,controllTypes:[{name:"PPE"},{name:"Administration"},{name:"Engineering"},{name:"Isolation"},{name:"Substitution"},{name:"Elimination"}],controllType:{name:"Select a Type"},hazardTypes:[{name:"Biological"},{name:"Chemical"},{name:"Physical"},{name:"Psychological"},{name:"Radiation"}],hazardType:{name:"Select a Type"},hazardLikelies:[{name:"Very Likely"},{name:"Likely"},{name:"Possible"},{name:"Unlikely"}],hazardLikely:{name:"Select a Likelihood"},hazardSerious:[{name:"Catastrophic"},{name:"High"},{name:"Moderate"},{name:"Minor"},{name:"Negligble"}],hazardSeriou:{name:"Select its Seriousness"},risks:["Heigh","Medium","Low"],risk:"Select a Risk",Employees:[{name:"Jack cherak"},{name:"Lisa Abdo"},{name:"Youssef Chouni"}],Asset:{name:"Select an Asset"},Assets:[{name:"Motor Engin"},{name:"Fan x12"},{name:"Clack r13"},{name:"Lamon Area1"},{name:"Lamon Area2"},{name:"Paint 100"}],injuries:[{name:"Face"},{name:"Head"},{name:"Right Leg"},{name:"Left Leg"},{name:"Right Arm"},{name:"Left Arm"}],injury:{name:"Select an Injury"},pageLength:10,ans1Visible:!1,ans2Visible:!1,ans3Visible:!1,ans4Visible:!1,filteredOptions:[],filteredOptionsAction:[],dir:!1,columns:[{label:"Title",field:"title",filterOptions:{enabled:!0,placeholder:"Search Title"}},{label:"Location",field:"location",filterOptions:{enabled:!0,placeholder:"Search Location"}},{label:"Created At",field:"createdAt",filterOptions:{enabled:!0,placeholder:"Search Date"}},{label:"Created By",field:"createdBy",filterOptions:{enabled:!0,placeholder:"Search Employee"}},{label:"Source",field:"source",filterOptions:{enabled:!0,placeholder:"Search Source"}},{label:"State",field:"state",filterOptions:{enabled:!0,placeholder:"Search State"}}],rows:[],searchTerm:"",status:[{1:"Logged",2:"Review",3:"Investigation",4:"Injury",5:"Closed"},{1:"light-dark",2:"light-primary",3:"light-warning",4:"light-danger",5:"light-success"}],clickedRow:null,middleState:null,showActiveTabs:!1,supNames:[],showReview:!1,showControll:!1,signaturePad:null,controllTitle:""}},methods:{addAction:function(){""!=this.actionTitle&&A.a.post(k["k"],{query:Object(k["f"])(this.actionTitle,this.actionDescription)}).then((function(t){console.log(t)})),""!=this.alertTitle&&A.a.post(k["k"],{query:Object(k["g"])(this.alertTitle,this.alertDescription)}).then((function(t){console.log(t)}))},addSign:function(){if(!this.signaturePad)return alert("Please provide a signature first.");this.signData=this.signaturePad.toDataURL("image/png")},signOff:function(){var t=this;this.$bvModal.show("modal-add-sign"),setTimeout((function(){t.signaturePad=new R["a"](document.getElementById("signature-pad"),{backgroundColor:"rgb(255, 255, 255)"})}),1e3)},addAttachment:function(){this.attachment=document.querySelector("#attachment").value.replace("C:\\fakepath\\","/")},toggleAns:function(t){this.ans1Visible=this.ans2Visible=this.ans3Visible=this.ans4Visible=!1},getSuggestionValue:function(t){return this.inspectorName=t.item.name,t.item.name},getSuggestionValue2:function(t){return this.actionAssignTo=t.item.id,t.item.name},onInputChange:function(t){""!==t&&void 0!==t&&(this.filteredOptions=[{data:this.supNames.filter((function(e){return e.name.toLowerCase().indexOf(t.toLowerCase())>-1})).slice(0,this.limit)}])},onInputChangeAction:function(t){""!==t&&void 0!==t&&(this.filteredOptionsAction=[{data:this.employees.filter((function(e){return e.name.toLowerCase().indexOf(t.toLowerCase())>-1})).slice(0,this.limit)}])},renderSuggestion:function(t){var e=this.$createElement,n=t.item;return e("div",{class:"d-flex align-items-center"},[e("b-avatar",{attrs:{src:s("9210")("./".concat(n.avatar))},class:"mr-50"}),e("div",{class:"detail"},[e("b-card-text",{class:"mb-0"},[n.name])])])},setMiddleState:function(t){"BUTTON"==t.target.tagName&&(this.clickedRow.state.name=this.middleState=t.target.dataset.state,"Active"==this.middleState&&(this.showActiveTabs=!0),this.$bvModal.hide("modal-select-state-hazard"))},onRowClick:function(t){this.clickedRow=t.row,this.$bvModal.show("modal-hazard")},nextState:function(){return"Logged"==this.clickedRow.state.name?this.clickedRow.state.name="Review":"Review"==this.clickedRow.state.name?this.$bvModal.show("modal-select-state-hazard"):this.clickedRow.state.name="Closed"},previewsState:function(){return"Review"==this.clickedRow.state.name?this.clickedRow.state.name="Logged":"Closed"==this.clickedRow.state.name?this.clickedRow.state.name="Closed"==this.middleState?"Logged":this.middleState:this.clickedRow.state.name="Logged"}},computed:{statusVariant:function(){var t={Logged:"light-dark",Review:"light-primary",Investigation:"light-warning",Injury:"light-danger",Closed:"light-success"};return function(e){return t[e]}}},created:function(){var t=this;A.a.get(k["k"],{params:{query:k["c"]}}).then((function(e){return t.rows=e.data.data.hazards})),A.a.get(k["k"],{params:{query:k["j"]}}).then((function(e){t.supNames=e.data.data.employees})),A.a.get(k["k"],{params:{query:k["b"]}}).then((function(e){t.employees=e.data.data.employees}))}},L=M,E=(s("7468"),s("0e47"),s("2877")),O=Object(E["a"])(L,n,i,!1,null,null,null);e["default"]=O.exports},"0e47":function(t,e,s){"use strict";s("b734")},"103d":function(t,e,s){t.exports=s.p+"img/4-small.2149d551.png"},2305:function(t,e,s){t.exports=s.p+"img/9.3fd39137.png"},2825:function(t,e,s){t.exports=s.p+"img/8.4ac55be3.png"},2831:function(t,e,s){"use strict";s.d(e,"a",(function(){return c}));var n={name:"default-section",props:{section:{type:Object,required:!0},currentIndex:{type:[Number,String],required:!1,default:1/0},renderSuggestion:{type:Function,required:!1},normalizeItemFunction:{type:Function,required:!0},componentAttrPrefix:{type:String,required:!0},componentAttrIdAutosuggest:{type:String,required:!0}},data:function(){return{_currentIndex:this.currentIndex}},computed:{list:function(){var t=this.section,e=t.limit,s=t.data;return s.length<e&&(e=s.length),s.slice(0,e)}},methods:{getItemIndex:function(t){return this.section.start_index+t},getItemByIndex:function(t){return this.section.data[t]},onMouseEnter:function(t){var e=parseInt(t.currentTarget.getAttribute("data-suggestion-index"));this._currentIndex=e,this.$emit("updateCurrentIndex",e)},onMouseLeave:function(){this.$emit("updateCurrentIndex",null)}},render:function(t){var e=this,s=this.componentAttrPrefix,n={beforeSection:this.$scopedSlots["before-section-"+this.section.name],afterSectionDefault:this.$scopedSlots["after-section"],afterSectionNamed:this.$scopedSlots["after-section-"+this.section.name]},i=s+"__results-before "+s+"__results-before--"+this.section.name,a=n.beforeSection&&n.beforeSection({section:this.section,className:i})||[];return t("ul",{attrs:{role:"listbox","aria-labelledby":this.section.label&&this.componentAttrIdAutosuggest+"-"+this.section.label},class:this.section.ulClass},[a[0]&&a[0]||this.section.label&&t("li",{class:i,id:this.componentAttrIdAutosuggest+"-"+this.section.label},this.section.label)||"",this.list.map((function(n,i){var a,o=e.normalizeItemFunction(e.section.name,e.section.type,e.section.label,e.section.liClass,n),r=e.getItemIndex(i),l=e._currentIndex===r||parseInt(e.currentIndex)===r;return t("li",{attrs:Object.assign({},{role:"option","data-suggestion-index":r,"data-section-name":o.name,id:s+"__results-item--"+r},o.liAttributes),key:r,class:Object.assign((a={},a[s+"__results-item--highlighted"]=l,a[s+"__results-item"]=!0,a),o.liClass),on:{mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave}},[e.renderSuggestion?e.renderSuggestion(o):e.$scopedSlots.default&&e.$scopedSlots.default({_key:i,suggestion:o})])})),n.afterSectionDefault&&n.afterSectionDefault({section:this.section,className:s+"__results-after "+s+"__results-after--"+this.section.name}),n.afterSectionNamed&&n.afterSectionNamed({section:this.section,className:s+"__results_after "+s+"__results-after--"+this.section.name})])}};function i(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function a(t,e){i(t,e)||(t.className+=" "+e)}function o(t,e){t.classList&&t.classList.remove(e)}var r=-1,l={name:"default",type:"default-section"},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:t.componentAttrIdAutosuggest}},[t._t("before-input"),s("div",{attrs:{role:"combobox","aria-expanded":t.isOpen?"true":"false","aria-haspopup":"listbox","aria-owns":t.componentAttrIdAutosuggest+"-"+t.componentAttrPrefix+"__results"}},[s("input",t._g(t._b({class:[t.isOpen?t.componentAttrPrefix+"__input--open":"",t.internal_inputProps.class],attrs:{type:t.internal_inputProps.type,autocomplete:t.internal_inputProps.autocomplete,"aria-autocomplete":"list","aria-activedescendant":t.isOpen&&null!==t.currentIndex?t.componentAttrPrefix+"__results-item--"+t.currentIndex:"","aria-controls":t.componentAttrIdAutosuggest+"-"+t.componentAttrPrefix+"__results"},domProps:{value:t.internalValue},on:{input:t.inputHandler,keydown:t.handleKeyStroke}},"input",t.internal_inputProps,!1),t.listeners))]),t._t("after-input"),t._v(" "),s("div",{class:t._componentAttrClassAutosuggestResultsContainer,attrs:{id:t.componentAttrIdAutosuggest+"-"+t.componentAttrPrefix+"__results"}},[t.isOpen?s("div",{class:t._componentAttrClassAutosuggestResults,attrs:{"aria-labelledby":t.componentAttrIdAutosuggest}},[t._t("before-suggestions"),t._v(" "),t._l(t.computedSections,(function(e,n){return s(e.type,{key:t.getSectionRef(""+e.name+n),ref:t.getSectionRef(""+e.name+n),refInFor:!0,tag:"component",attrs:{"current-index":t.currentIndex,"normalize-item-function":t.normalizeItem,"render-suggestion":t.renderSuggestion,section:e,"component-attr-prefix":t.componentAttrPrefix,"component-attr-id-autosuggest":t.componentAttrIdAutosuggest},on:{updateCurrentIndex:t.updateCurrentIndex},scopedSlots:t._u([{key:"before-section-"+(e.name||e.label),fn:function(s){var n=s.section,i=s.className;return[t._t("before-section-"+(e.name||e.label),null,{section:n,className:i})]}},{key:"default",fn:function(e){var s=e.suggestion,n=e._key;return[t._t("default",[t._v(" "+t._s(s.item)+" ")],{suggestion:s,index:n})]}},{key:"after-section-"+(e.name||e.label),fn:function(s){var n=s.section;return[t._t("after-section-"+(e.name||e.label),null,{section:n})]}},{key:"after-section",fn:function(e){var s=e.section;return[t._t("after-section",null,{section:s})]}}])})})),t._v(" "),t._t("after-suggestions")],2):t._e(),t._v(" "),t._t("after-suggestions-container")],2)],2)},staticRenderFns:[],name:"Autosuggest",components:{DefaultSection:n},props:{value:{type:String,default:null},inputProps:{type:Object,required:!0},limit:{type:Number,required:!1,default:1/0},suggestions:{type:Array,required:!0},renderSuggestion:{type:Function,required:!1,default:null},getSuggestionValue:{type:Function,required:!1,default:function(t){var e=t.item;return"object"==typeof e&&e.hasOwnProperty("name")?e.name:e}},shouldRenderSuggestions:{type:Function,required:!1,default:function(t,e){return t>0&&!e}},sectionConfigs:{type:Object,required:!1,default:function(){return{default:{onSelected:null}}}},onSelected:{type:Function,required:!1,default:null},componentAttrIdAutosuggest:{type:String,required:!1,default:"autosuggest"},componentAttrClassAutosuggestResultsContainer:{type:String,required:!1,default:null},componentAttrClassAutosuggestResults:{type:String,required:!1,default:null},componentAttrPrefix:{type:String,required:!1,default:"autosuggest"}},data:function(){return{internalValue:null,searchInputOriginal:null,currentIndex:null,currentItem:null,loading:!1,didSelectFromOptions:!1,defaultInputProps:{type:"text",autocomplete:"off"},clientXMouseDownInitial:null}},computed:{internal_inputProps:function(){return Object.assign({},this.defaultInputProps,this.inputProps)},listeners:function(){var t=this;return Object.assign({},this.$listeners,{input:function(t){},click:function(){t.loading=!1,t.$listeners.click&&t.$listeners.click(t.currentItem),t.$nextTick((function(){t.ensureItemVisible(t.currentItem,t.currentIndex)}))},selected:function(){t.currentItem&&t.sectionConfigs[t.currentItem.name]&&t.sectionConfigs[t.currentItem.name].onSelected?t.sectionConfigs[t.currentItem.name].onSelected(t.currentItem,t.searchInputOriginal):t.sectionConfigs.default.onSelected?t.sectionConfigs.default.onSelected(null,t.searchInputOriginal):t.$listeners.selected&&t.$emit("selected",t.currentItem,t.currentIndex),t.setChangeItem(null)}})},isOpen:function(){return this.shouldRenderSuggestions(this.totalResults,this.loading)},computedSections:function(){var t=this,e=0;return this.suggestions.map((function(s){if(s.data){var n,i,a,o,r=s.name?s.name:l.name,c=null;t.sectionConfigs[r]&&(n=t.sectionConfigs[r].limit,a=t.sectionConfigs[r].type,i=t.sectionConfigs[r].label,o=t.sectionConfigs[r].ulClass,c=t.sectionConfigs[r].liClass),a=a||l.type,n=(n=n||t.limit)||1/0,n=s.data.length<n?s.data.length:n;var d={name:r,label:i=i||s.label,type:a,limit:n,data:s.data,start_index:e,end_index:e+n-1,ulClass:o,liClass:c};return e+=n,d}}))},totalResults:function(){return this.computedSections.reduce((function(t,e){if(!e)return t;var s=e.limit,n=e.data;return t+(n.length>=s?s:n.length)}),0)},_componentAttrClassAutosuggestResultsContainer:function(){return this.componentAttrClassAutosuggestResultsContainer||this.componentAttrPrefix+"__results-container"},_componentAttrClassAutosuggestResults:function(){return this.componentAttrClassAutosuggestResults||this.componentAttrPrefix+"__results"}},watch:{value:{handler:function(t){this.internalValue=t},immediate:!0},isOpen:{handler:function(t,e){t!==e&&this.$emit(t?"opened":"closed")},immediate:!0}},created:function(){this.loading=!0},mounted:function(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("mousedown",this.onDocumentMouseDown)},beforeDestroy:function(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousedown",this.onDocumentMouseDown)},methods:{inputHandler:function(t){var e=t.target.value;this.$emit("input",e),this.internalValue=e,this.didSelectFromOptions||(this.searchInputOriginal=e,this.currentIndex=null)},getSectionRef:function(t){return"computed_section_"+t},getItemByIndex:function(t){var e=!1;if(null===t)return e;for(var s=0;s<this.computedSections.length;s++)if(t>=this.computedSections[s].start_index&&t<=this.computedSections[s].end_index){var n=t-this.computedSections[s].start_index,i=this.computedSections[s].name,a=this.$refs[this.getSectionRef(""+i+s)][0];if(a){e=this.normalizeItem(this.computedSections[s].name,this.computedSections[s].type,a.section.label,a.section.liClass,a.getItemByIndex(n));break}}return e},handleKeyStroke:function(t){var e=this,s=t.keyCode;if(!([16,9,17,18,91,93].indexOf(s)>-1)){var n=!this.isOpen;if(this.loading=!1,this.didSelectFromOptions=!1,this.isOpen)switch(s){case 40:case 38:if(t.preventDefault(),38===s&&null===this.currentIndex)break;var i=40===s?1:-1,a=Math.max((parseInt(this.currentIndex)||0)+(n?0:i),r);this.setCurrentIndex(a,this.totalResults),this.didSelectFromOptions=!0,this.totalResults>0&&this.currentIndex>=0?(this.setChangeItem(this.getItemByIndex(this.currentIndex)),this.didSelectFromOptions=!0):this.currentIndex===r&&(this.setChangeItem(null),this.internalValue=this.searchInputOriginal,t.preventDefault()),this.$nextTick((function(){e.ensureItemVisible(e.currentItem,e.currentIndex)}));break;case 13:t.preventDefault(),this.totalResults>0&&this.currentIndex>=0&&(this.setChangeItem(this.getItemByIndex(this.currentIndex),!0),this.didSelectFromOptions=!0),this.loading=!0,this.listeners.selected(this.didSelectFromOptions);break;case 27:this.loading=!0,this.currentIndex=null,this.internalValue=this.searchInputOriginal,this.$emit("input",this.searchInputOriginal),t.preventDefault()}}},setChangeItem:function(t,e){if(void 0===e&&(e=!1),null!==this.currentIndex&&t){if(t){this.currentItem=t,this.$emit("item-changed",t,this.currentIndex);var s=this.getSuggestionValue(t);this.internalValue=s,e&&(this.searchInputOriginal=s),this.ensureItemVisible(t,this.currentIndex)}}else this.currentItem=null,this.$emit("item-changed",null,null)},normalizeItem:function(t,e,s,n,i){return{name:t,type:e,label:s,liClass:i.liClass||n,item:i}},ensureItemVisible:function(t,e,s){var n=this.$el.querySelector(s||"."+this._componentAttrClassAutosuggestResults);if(n){var i=n.querySelector("#"+this.componentAttrPrefix+"__results-item--"+e);if(i){var a=n.clientHeight,o=n.scrollTop,r=i.clientHeight,l=i.offsetTop;r+l>=o+a?n.scrollTop=r+l-a:l<o&&o>0&&(n.scrollTop=l)}}},updateCurrentIndex:function(t){this.setCurrentIndex(t,-1,!0)},clickedOnScrollbar:function(t,e){var s=this.$el.querySelector("."+this._componentAttrClassAutosuggestResults),n=s&&s.clientWidth<=e+17&&e+17<=s.clientWidth+34;return"DIV"===t.target.tagName&&s&&n||!1},onDocumentMouseDown:function(t){var e=t.target.getBoundingClientRect?t.target.getBoundingClientRect():0;this.clientXMouseDownInitial=t.clientX-e.left},onDocumentMouseUp:function(t){if(!this.$el.contains(t.target))return this.loading=!0,void(this.currentIndex=null);"INPUT"===t.target.tagName||this.clickedOnScrollbar(t,this.clientXMouseDownInitial)||(this.loading=!0,this.didSelectFromOptions=!0,this.setChangeItem(this.getItemByIndex(this.currentIndex),!0),this.listeners.selected(!0))},setCurrentIndex:function(t,e,s){void 0===e&&(e=-1),void 0===s&&(s=!1);var n=t;s||(null===this.currentIndex||t>=e)&&(n=0),this.currentIndex=n;var i=this.$el.querySelector("#"+this.componentAttrPrefix+"__results-item--"+this.currentIndex),r=this.componentAttrPrefix+"__results-item--highlighted";this.$el.querySelector("."+r)&&o(this.$el.querySelector("."+r),r),i&&a(i,r)}}},d={install:function(t){t.component("vue-autosuggest-default-section",n),t.component("vue-autosuggest",c)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(d)},"2b14":function(t,e,s){t.exports=s.p+"img/11.a9861b00.png"},"3e88":function(t,e,s){t.exports=s.p+"img/2.748e7504.png"},"3fb4":function(t,e,s){t.exports=s.p+"img/12.03bf9466.png"},5235:function(t,e,s){t.exports=s.p+"img/4.7e5368dc.png"},"5e8f":function(t,e,s){t.exports=s.p+"img/12-small.3a5e3ce0.png"},"73bb":function(t,e,s){t.exports=s.p+"img/6-small.c9b47a98.png"},7468:function(t,e,s){"use strict";s("e447e")},"7df9":function(t,e,s){t.exports=s.p+"img/5.f13458cc.png"},"90e2":function(t,e,s){"use strict";
/*!
 * Signature Pad v3.0.0-beta.4 | https://github.com/szimek/signature_pad
 * (c) 2020 Szymon Nowak | Released under the MIT license
 */class n{constructor(t,e,s){this.x=t,this.y=e,this.time=s||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}class i{constructor(t,e,s,n,i,a){this.startPoint=t,this.control2=e,this.control1=s,this.endPoint=n,this.startWidth=i,this.endWidth=a}static fromPoints(t,e){const s=this.calculateControlPoints(t[0],t[1],t[2]).c2,n=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new i(t[1],s,n,t[2],e.start,e.end)}static calculateControlPoints(t,e,s){const i=t.x-e.x,a=t.y-e.y,o=e.x-s.x,r=e.y-s.y,l={x:(t.x+e.x)/2,y:(t.y+e.y)/2},c={x:(e.x+s.x)/2,y:(e.y+s.y)/2},d=Math.sqrt(i*i+a*a),u=Math.sqrt(o*o+r*r),h=l.x-c.x,m=l.y-c.y,p=u/(d+u),f={x:c.x+h*p,y:c.y+m*p},g=e.x-f.x,b=e.y-f.y;return{c1:new n(l.x+g,l.y+b),c2:new n(c.x+g,c.y+b)}}length(){const t=10;let e,s,n=0;for(let i=0;i<=t;i+=1){const a=i/t,o=this.point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),r=this.point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){const t=o-e,i=r-s;n+=Math.sqrt(t*t+i*i)}e=o,s=r}return n}point(t,e,s,n,i){return e*(1-t)*(1-t)*(1-t)+3*s*(1-t)*(1-t)*t+3*n*(1-t)*t*t+i*t*t*t}}function a(t,e=250){let s,n,i,a=0,o=null;const r=()=>{a=Date.now(),o=null,s=t.apply(n,i),o||(n=null,i=[])};return function(...l){const c=Date.now(),d=e-(c-a);return n=this,i=l,d<=0||d>e?(o&&(clearTimeout(o),o=null),a=c,s=t.apply(n,i),o||(n=null,i=[])):o||(o=window.setTimeout(r,d)),s}}class o{constructor(t,e={}){this.canvas=t,this.options=e,this._handleMouseDown=t=>{1===t.which&&(this._mouseButtonDown=!0,this._strokeBegin(t))},this._handleMouseMove=t=>{this._mouseButtonDown&&this._strokeMoveUpdate(t)},this._handleMouseUp=t=>{1===t.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(t))},this._handleTouchStart=t=>{if(t.preventDefault(),1===t.targetTouches.length){const e=t.changedTouches[0];this._strokeBegin(e)}},this._handleTouchMove=t=>{t.preventDefault();const e=t.targetTouches[0];this._strokeMoveUpdate(e)},this._handleTouchEnd=t=>{const e=t.target===this.canvas;if(e){t.preventDefault();const e=t.changedTouches[0];this._strokeEnd(e)}},this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle="throttle"in e?e.throttle:16,this.minDistance="minDistance"in e?e.minDistance:5,this.dotSize=e.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.onBegin=e.onBegin,this.onEnd=e.onEnd,this._strokeMoveUpdate=this.throttle?a(o.prototype._strokeUpdate,this.throttle):o.prototype._strokeUpdate,this._ctx=t.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:t,canvas:e}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(t,e={},s){const n=new Image,i=e.ratio||window.devicePixelRatio||1,a=e.width||this.canvas.width/i,o=e.height||this.canvas.height/i;this._reset(),n.onload=()=>{this._ctx.drawImage(n,0,0,a,o),s&&s()},n.onerror=t=>{s&&s(t)},n.src=t,this._isEmpty=!1}toDataURL(t="image/png",e){switch(t){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(t,e)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t){this.clear(),this._fromData(t,({color:t,curve:e})=>this._drawCurve({color:t,curve:e}),({color:t,point:e})=>this._drawDot({color:t,point:e})),this._data=t}toData(){return this._data}_strokeBegin(t){const e={color:this.penColor,points:[]};"function"===typeof this.onBegin&&this.onBegin(t),this._data.push(e),this._reset(),this._strokeUpdate(t)}_strokeUpdate(t){if(0===this._data.length)return void this._strokeBegin(t);const e=t.clientX,s=t.clientY,n=this._createPoint(e,s),i=this._data[this._data.length-1],a=i.points,o=a.length>0&&a[a.length-1],r=!!o&&n.distanceTo(o)<=this.minDistance,l=i.color;if(!o||!o||!r){const t=this._addPoint(n);o?t&&this._drawCurve({color:l,curve:t}):this._drawDot({color:l,point:n}),a.push({time:n.time,x:n.x,y:n.y})}}_strokeEnd(t){this._strokeUpdate(t),"function"===typeof this.onEnd&&this.onEnd(t)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(t,e){const s=this.canvas.getBoundingClientRect();return new n(t-s.left,e-s.top,(new Date).getTime())}_addPoint(t){const{_lastPoints:e}=this;if(e.push(t),e.length>2){3===e.length&&e.unshift(e[0]);const t=this._calculateCurveWidths(e[1],e[2]),s=i.fromPoints(e,t);return e.shift(),s}return null}_calculateCurveWidths(t,e){const s=this.velocityFilterWeight*e.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(s),i={end:n,start:this._lastWidth};return this._lastVelocity=s,this._lastWidth=n,i}_strokeWidth(t){return Math.max(this.maxWidth/(t+1),this.minWidth)}_drawCurveSegment(t,e,s){const n=this._ctx;n.moveTo(t,e),n.arc(t,e,s,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:t,curve:e}){const s=this._ctx,n=e.endWidth-e.startWidth,i=2*Math.floor(e.length());s.beginPath(),s.fillStyle=t;for(let a=0;a<i;a+=1){const t=a/i,s=t*t,o=s*t,r=1-t,l=r*r,c=l*r;let d=c*e.startPoint.x;d+=3*l*t*e.control1.x,d+=3*r*s*e.control2.x,d+=o*e.endPoint.x;let u=c*e.startPoint.y;u+=3*l*t*e.control1.y,u+=3*r*s*e.control2.y,u+=o*e.endPoint.y;const h=Math.min(e.startWidth+o*n,this.maxWidth);this._drawCurveSegment(d,u,h)}s.closePath(),s.fill()}_drawDot({color:t,point:e}){const s=this._ctx,n="function"===typeof this.dotSize?this.dotSize():this.dotSize;s.beginPath(),this._drawCurveSegment(e.x,e.y,n),s.closePath(),s.fillStyle=t,s.fill()}_fromData(t,e,s){for(const i of t){const{color:t,points:a}=i;if(a.length>1)for(let s=0;s<a.length;s+=1){const i=a[s],o=new n(i.x,i.y,i.time);this.penColor=t,0===s&&this._reset();const r=this._addPoint(o);r&&e({color:t,curve:r})}else this._reset(),s({color:t,point:a[0]})}}_toSVG(){const t=this._data,e=Math.max(window.devicePixelRatio||1,1),s=0,n=0,i=this.canvas.width/e,a=this.canvas.height/e,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width",this.canvas.width.toString()),o.setAttribute("height",this.canvas.height.toString()),this._fromData(t,({color:t,curve:e})=>{const s=document.createElement("path");if(!isNaN(e.control1.x)&&!isNaN(e.control1.y)&&!isNaN(e.control2.x)&&!isNaN(e.control2.y)){const n=`M ${e.startPoint.x.toFixed(3)},${e.startPoint.y.toFixed(3)} C ${e.control1.x.toFixed(3)},${e.control1.y.toFixed(3)} ${e.control2.x.toFixed(3)},${e.control2.y.toFixed(3)} ${e.endPoint.x.toFixed(3)},${e.endPoint.y.toFixed(3)}`;s.setAttribute("d",n),s.setAttribute("stroke-width",(2.25*e.endWidth).toFixed(3)),s.setAttribute("stroke",t),s.setAttribute("fill","none"),s.setAttribute("stroke-linecap","round"),o.appendChild(s)}},({color:t,point:e})=>{const s=document.createElement("circle"),n="function"===typeof this.dotSize?this.dotSize():this.dotSize;s.setAttribute("r",n.toString()),s.setAttribute("cx",e.x.toString()),s.setAttribute("cy",e.y.toString()),s.setAttribute("fill",t),o.appendChild(s)});const r="data:image/svg+xml;base64,",l=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="${s} ${n} ${i} ${a}" width="${i}" height="${a}">`;let c=o.innerHTML;if(void 0===c){const t=document.createElement("dummy"),e=o.childNodes;t.innerHTML="";for(let s=0;s<e.length;s+=1)t.appendChild(e[s].cloneNode(!0));c=t.innerHTML}const d="</svg>",u=l+c+d;return r+btoa(u)}}e["a"]=o},9210:function(t,e,s){var n={"./1-small.png":"28a5","./1.png":"f7d6","./10-small.png":"ceac","./10.png":"e929","./11-small.png":"b922","./11.png":"2b14","./12-small.png":"5e8f","./12.png":"3fb4","./13-small.png":"977a","./13.png":"dbcc","./2-small.png":"f548","./2.png":"3e88","./3-small.png":"a921","./3.png":"e251","./4-small.png":"103d","./4.png":"5235","./5-small.png":"da2a","./5.png":"7df9","./6-small.png":"73bb","./6.png":"045e","./7-small.png":"af6d","./7.png":"c7c0","./8-small.png":"09d5","./8.png":"2825","./9-small.png":"f8f8","./9.png":"2305"};function i(t){var e=a(t);return s(e)}function a(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id="9210"},a921:function(t,e,s){t.exports=s.p+"img/3-small.33d29f56.png"},af6d:function(t,e,s){t.exports=s.p+"img/7-small.c4993d9a.png"},b734:function(t,e,s){},b922:function(t,e,s){t.exports=s.p+"img/11-small.4ade0856.png"},c7c0:function(t,e,s){t.exports=s.p+"img/7.8446f5dc.png"},ceac:function(t,e,s){t.exports=s.p+"img/10-small.2b24b197.png"},da2a:function(t,e,s){t.exports=s.p+"img/5-small.a4eb6d6e.png"},dbcc:function(t,e,s){t.exports=s.p+"img/13.bf4c91d5.png"},e251:function(t,e,s){t.exports=s.p+"img/3.5df49333.png"},e447e:function(t,e,s){},e929:function(t,e,s){t.exports=s.p+"img/10.d618a41d.png"},f548:function(t,e,s){t.exports=s.p+"img/2-small.de63ead1.png"},f7d6:function(t,e,s){t.exports=s.p+"img/1.9cba4a79.png"},f8f8:function(t,e,s){t.exports=s.p+"img/9-small.30df7a62.png"}}]);
//# sourceMappingURL=chunk-c72d6a08.983b819f.js.map