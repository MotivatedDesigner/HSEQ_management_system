{"version":3,"sources":["webpack:///./node_modules/bootstrap-vue/esm/mixins/form-options.js","webpack:///./src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue?ac02","webpack:///./src/views/apps/calendar/Calendar.vue?f2c9","webpack:///./node_modules/flatpickr/dist/esm/types/options.js","webpack:///./node_modules/flatpickr/dist/esm/l10n/default.js","webpack:///./node_modules/flatpickr/dist/esm/utils/index.js","webpack:///./node_modules/flatpickr/dist/esm/utils/dom.js","webpack:///./node_modules/flatpickr/dist/esm/utils/formatting.js","webpack:///./node_modules/flatpickr/dist/esm/utils/dates.js","webpack:///./node_modules/flatpickr/dist/esm/index.js","webpack:///./node_modules/flatpickr/dist/esm/utils/polyfills.js","webpack:///./src/assets/images/pages/calendar-illustration.png","webpack:///./node_modules/bootstrap-vue/esm/directives/visible/visible.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-textarea/form-textarea.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/views/apps/calendar/Calendar.vue?d551","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./node_modules/preact/hooks/dist/hooks.module.js","webpack:///./node_modules/preact/compat/dist/compat.module.js","webpack:///./node_modules/@fullcalendar/core/vdom.js","webpack:///./node_modules/@fullcalendar/common/vdom.js","webpack:///./node_modules/@fullcalendar/common/main.js","webpack:///./node_modules/@fullcalendar/core/main.js","webpack:///./node_modules/@fullcalendar/vue/dist/options.js","webpack:///./node_modules/@fullcalendar/vue/dist/utils.js","webpack:///./node_modules/@fullcalendar/vue/dist/custom-content-type.js","webpack:///./node_modules/@fullcalendar/vue/dist/FullCalendar.js","webpack:///./node_modules/@fullcalendar/vue/dist/main.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-checkbox/form-checkbox-group.js","webpack:///./src/views/apps/calendar/calendarStoreModule.js","webpack:///./src/views/apps/calendar/calendar-sidebar/CalendarSidebar.vue?8607","webpack:///./src/views/apps/calendar/calendar-sidebar/useCalendarSidebar.js","webpack:///src/views/apps/calendar/calendar-sidebar/CalendarSidebar.vue","webpack:///./node_modules/bootstrap-vue/esm/components/sidebar/sidebar.js","webpack:///./src/views/apps/calendar/calendar-sidebar/CalendarSidebar.vue?9fa3","webpack:///./src/views/apps/calendar/calendar-sidebar/CalendarSidebar.vue","webpack:///./src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue?03b0","webpack:///./src/@core/comp-functions/forms/form-validation.js","webpack:///./src/views/apps/calendar/calendar-event-handler/useCalendarEventHandler.js","webpack:///src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue","webpack:///./src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue?682c","webpack:///./src/views/apps/calendar/calendar-event-handler/CalendarEventHandler.vue","webpack:///./node_modules/@fullcalendar/daygrid/main.js","webpack:///./node_modules/@fullcalendar/timegrid/main.js","webpack:///./node_modules/@fullcalendar/list/main.js","webpack:///./node_modules/@fullcalendar/interaction/main.js","webpack:///./src/views/apps/calendar/useCalendar.js","webpack:///src/views/apps/calendar/Calendar.vue","webpack:///./src/views/apps/calendar/Calendar.vue?9e13","webpack:///./src/views/apps/calendar/Calendar.vue","webpack:///./src/assets/images/avatars/3-small.png","webpack:///./src/assets/images/avatars/7-small.png","webpack:///./src/assets/images/avatars/11-small.png","webpack:///./node_modules/vue-flatpickr-component/dist/vue-flatpickr.min.js","webpack:///./src/assets/images/avatars/5-small.png","webpack:///./node_modules/vue-ripple-directive/src/ripple.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-radio/form-radio.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-radio-check-group.js","webpack:///./src/assets/images/avatars/9-small.png"],"names":["OPTIONS_OBJECT_DEPRECATED_MSG","props","disabledField","htmlField","options","textField","valueField","formOptionsMixin","extend","computed","formOptions","this","normalizeOptions","methods","normalizeOption","option","key","arguments","length","undefined","value","text","String","html","disabled","Boolean","_this","map","$options","name","HOOKS","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","window","navigator","userAgent","indexOf","ariaDateFormat","autoFillDefaultTime","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","err","console","warn","getWeek","givenDate","date","Date","getTime","setHours","setDate","getDate","getDay","week1","getFullYear","Math","round","hourIncrement","ignoredFocusElements","inline","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","weekNumbers","wrap","english","weekdays","shorthand","longhand","months","daysInMonth","firstDayOfWeek","ordinal","nth","s","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","slice","bool","debounce","fn","wait","t","clearTimeout","setTimeout","apply","arrayify","obj","Array","toggleClass","elem","className","classList","add","remove","createElement","tag","content","e","document","textContent","clearNode","node","firstChild","removeChild","findParent","condition","parentNode","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","type","pattern","setAttribute","appendChild","getEventTarget","event","composedPath","path","target","error","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","hour","parseFloat","H","J","day","K","getHours","RegExp","test","M","shortMonth","S","seconds","setSeconds","U","_","unixSeconds","W","weekNum","weekNumber","parseInt","Y","year","setFullYear","Z","ISODate","d","h","i","minutes","setMinutes","j","l","m","month","n","u","unixMillSeconds","w","y","tokenRegex","toISOString","getMonth","getSeconds","getMinutes","substring","createDateFormatter","config","l10n","isMobile","frmt","overrideLocale","formatDate","split","c","arr","join","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","format","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token","isBackSlash","escaped","match","exec","val","forEach","isNaN","Error","compareDates","date1","date2","isBetween","ts","ts1","ts2","min","max","duration","DAY","getDefaultHours","hours","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","DEBOUNCED_CHANGE_MS","FlatpickrInstance","element","instanceConfig","self","Object","assign","flatpickr","defaultConfig","setupHelperFunctions","utils","currentMonth","yr","currentYear","init","input","isOpen","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","setHoursFromDate","latestSelectedDateObj","updateValue","setCalendarWidth","isSafari","positionCalendar","triggerEvent","bindToInstance","bind","requestAnimationFrame","calendarContainer","style","visibility","display","daysContainer","daysWidth","days","offsetWidth","width","weekWrapper","removeProperty","updateTime","defaultDate","defaults","getMilliseconds","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","onYearInput","eventTarget","delta","toString","changeYear","handler","ev","el","addEventListener","_handlers","push","removeEventListener","triggerChange","evt","prototype","call","querySelectorAll","setupMobile","debouncedResize","onResize","onMouseOver","body","ontouchstart","documentClick","capture","open","monthNav","onMonthNavClick","selectDate","timeContainer","selText","select","timeIncrement","onBlur","jumpToDate","jumpDate","jumpTo","oldYear","oldMonth","message","buildMonthSwitch","redraw","incrementNumInput","contains","inputElem","createEvent","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","nodeType","insertBefore","nextSibling","createDay","dayNumber","dateIsEnabled","isEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","focus","getFirstAvailableDay","startMonth","endMonth","children","startIndex","endIndex","getNextAvailableDay","current","givenMonth","loopDelta","numMonthDays","abs","changeMonth","focusOnDay","offset","dayFocused","isInView","activeElement","startElem","buildMonthDays","firstOfMonth","prevMonthDays","getDaysInMonth","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","selected","buildMonth","container","monthNavFragment","monthElement","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","defineProperty","get","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","getAttribute","title","weekdayContainer","updateWeekdays","splice","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","clear","triggerChangeEvent","toInitial","mobileInput","_initialDate","close","destroy","lastChild","_type","removeAttribute","k","isCalendarElem","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","some","newYear","newYearNum","isNewYear","_a","dateToCheck","enable","array","parsed","from","to","allowKeydown","allowInlineKeydown","keyCode","blur","isTimeObj","preventDefault","focusAndClose","ctrlKey","stopPropagation","elems","concat","pluginElements","filter","x","shiftKey","charAt","toLowerCase","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","dayElem","timestamp","outOfRange","_positionElement","click","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","JSON","parse","stringify","dataset","formats","_enable","set","dates","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","getInputElem","querySelector","l10ns","default","customPositionElement","calendarHeight","reduce","acc","child","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","left","pageXOffset","isCenter","isRight","right","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","editableSheet","styleSheets","sheet","createStyleSheet","head","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","sort","a","b","single","range","loadedPlugins","_bind","_setHoursFromDate","_positionCalendar","_createElement","toggle","CALLBACKS","setSelectedDate","inputDate","rule","preloadedDate","nodeName","placeholder","required","inputType","mobileFormatStr","defaultValue","step","data","hooks","initEvent","getDateStr","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","which","newValue","isHourElem","isMinuteElem","_flatpickr","nodeList","nodes","HTMLElement","instances","HTMLCollection","NodeList","selector","Node","en","localize","setDefaults","jQuery","fp_incr","args","TypeError","source","keys","module","exports","_classCallCheck","instance","Constructor","_defineProperties","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","OBSERVER_PROP_NAME","VisibilityObserver","vnode","callback","margin","once","observer","visible","doneOnce","createObserver","stop","IntersectionObserver","root","rootMargin","threshold","_unused","context","$nextTick","observe","entries","entry","isIntersecting","intersectionRatio","disconnect","_ref","modifiers","mod","_prevModifiers","_ref2","oldValue","unbind","VBVisible","componentUpdated","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","id","maxRows","noAutoShrink","noResize","rows","BFormTextarea","directives","mixins","listeners","heightInPx","computedStyle","styles","resize","computedRows","height","overflowY","computedMinRows","math","computedMaxRows","computedAttrs","safeId","form","autocomplete","readonly","plaintext","computedAriaInvalid","computedListeners","bvListeners","onInput","change","watch","localValue","setHeight","mounted","visibleCallback","computeHeight","$isServer","$el","lineHeight","border","borderTopWidth","borderBottomWidth","padding","paddingTop","paddingBottom","minHeight","oldHeight","scrollHeight","contentRows","render","class","computedClass","attrs","domProps","on","ref","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","proto","forced","_vm","_h","$createElement","_c","_self","staticClass","isCalendarOverlaySidebarActive","isEventHandlerSidebarActive","$event","calendarOptions","clearEventData","removeEvent","addEvent","updateEvent","model","$$v","expression","staticRenderFns","extendStatics","setPrototypeOf","__proto__","p","hasOwnProperty","__extends","__","constructor","create","__assign","__spreadArray","pack","ar","f","v","o","r","defaultProps","__k","__b","__e","__d","__c","__h","__v","base","g","__r","debounceRendering","__P","__n","ownerSVGElement","z","A","isArray","P","N","C","setProperty","cssText","replace","T","I","contextType","__E","O","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","createTextNode","createElementNS","is","childNodes","dangerouslySetInnerHTML","attributes","__html","checked","unmount","componentWillUnmount","Consumer","Provider","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","resolve","__H","cancelAnimationFrame","E","isPureReactComponent","__f","Symbol","for","__u","__R","__O","pop","fallback","delete","revealOrder","size","Map","reverse","V","isReactComponent","cancelBubble","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","multiple","$$typeof","globalObj","globalThis","flushToDom","oldDebounceRendering","callbackQ","execCallbackSync","shift","FullCalendarVDom","Component","createRef","Fragment","createContext","createPortal","unmountComponentAtNode","_super","FakeComponent","ContextType","origProvider","isNew","subs_1","_props","old","EventSourceApi","internalEventSource","dispatch","sourceId","refetch","sourceIds","isRefetch","publicId","meta","url","removeElement","elementClosest","closest","documentElement","elementMatches","parentElement","method","matches","matchesSelector","msMatchesSelector","findElements","containers","allMatches","PIXEL_PROP_RE","applyStyle","propName","applyStyleProp","getEventTargetViaRoot","_b","getElRoot","getRootNode","buildDelegationHandler","matchedChild","listenBySelector","eventType","attachedHandler","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","realCallback","eventName","guidNumber","guid","disableCursor","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","field","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","len","substr","compareNumbers","isInt","computeSmallestCellWidth","cellEl","allWidthEl","contentWidthEl","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","milliseconds","diffWholeWeeks","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","weekOfGivenYear","nextW","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","arrayToLocalDate","getUTCMilliseconds","UTC","isValidDate","createEventInstance","defId","forcedStartTzo","forcedEndTzo","instanceId","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","name_2","filterHash","hash","filtered","mapHash","newHash","arrayToHash","_i","a_1","item","hashValuesToArray","isPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","allDay","allDayGuess","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","defs","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","start","end","eventDef","typeDef","markers","expand","subtract","INTERNAL_UNITS","PARSE_RE","createDuration","unit","parseString","parseObject","sign","minute","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","addDurations","subtractDurations","multiplyDuration","asRoughYears","dur","asRoughDays","asRoughMonths","asRoughMs","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","buildIsoString","timeZoneOffset","stripZeroTime","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","mins","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","memoizeObjArg","currentArg","newArg","EXTENDED_SETTINGS_AND_SEVERITIES","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","buildNativeFormattingFunc","sanitizeSettings","timeZone","zeroFormat","normalFormat","Intl","DateTimeFormat","codes","zeroProps","postProcess","injectTzoStr","toLocaleLowerCase","tzoStr","replaced","num","parts","simpleNumberFormat","direction","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","scrollTimeReset","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","noEventsText","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","views","initialEvents","events","eventSources","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","tuple","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","endMeta","startMarker","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","dateRange","invertedRanges","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","emitter","trigger","buildDateSpanApiWithContext","jsEvent","origEvent","view","viewApi","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","rawObj","buildEventSourceRefiners","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","handlerName","currentCalendarOptionsRefiners","off","changeView","viewType","dateOrRange","zoomTo","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","viewsWithButtons","singleUnit","prev","next","prevYear","addYears","nextYear","today","gotoDate","zonedDateInput","incrementDate","deltaInput","formatter","settings","dateOrObj","endDate","selectionInput","dateSelection","eventInput","sourceInput","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","EventApi","_context","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","ISO_RE","str","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","RAW_EN_LOCALE","code","list","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","queryLocale","parseLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","canVGrowWithinCell","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","rawDef","pointInsideRect","point","rect","intersectRects","rect1","rect2","constrainPoint","getRectCenter","diffPoints","point1","point2","getCanVGrowWithinCell","computeCanVGrowWithinCell","div","possible","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","buildNavLinkData","_scrollbarWidths","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","overflow","innerEl","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","clientHeight","clientWidth","computeEdges","getPadding","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderBottom","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","computeClippedClientRect","clippingParents","getClippingParents","clippingParents_1","clippingParent","intersection","parents","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","hasHandlers","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","addStateEquality","BaseComponent","setRef","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentHooks","currentOverrideDefs","currentGlobalDefs","overrideDefs","hooks0","hooks1","StandardTheme","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","overrideConfig","queryProp","theComponent","superType","superDef","rawOptions","overrides","tableCellShaded","buttonGroup","button","buttonActive","RenderHook","rootElRef","handleRootEl","elRef","hookProps","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","renderId","ContentHookInner","renderInnerContent","updateCustomContent","customContentInfo","getInnerContent","getContentMeta","contentKey","contentVal","buildLifecycleFuncs","normalizeContent","searchKey","MountHook","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","inputs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","optionDefaults","buttonTextOverride","buttonTextDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","computeRes","isHiddenDay","skipHiddenDays","runningCount","visibleRangeInput","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","rawSources","rawSources_1","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionStr","parseSection","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","eventSourceDef$2","arg","arrayEventSourcePlugin","eventSourceDef$1","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","setRequestHeader","onload","status","responseText","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","globalPlugins","injectHtml","domNodes","injectDomNodes","oldNodes","newNodes","newNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","tryDrain","pause","scope","resume","force","depth","drained","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","prevProps","newOptionOverrides","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","thickness","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","index","intersectSpans","lateral","insertAt","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","rects","entries_1","groupIntersectingEntries","merges","entries_2","filteredMerges","hungryMerge","merges_1","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","Interaction","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","ariaAttrs","buttonClasses","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","onClick","groupClassName","Toolbar","startContent","endContent","extraClassName","forceLtr","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","EventClicking","handleSegClick","segEl","hasUrlContainer","href","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","handleNavLinkClick","_handleNavLinkClick","headerRef","footerRef","interactionsStore","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","viewAspectRatio","toolbarProps","viewVGrow","isHeightAuto","forPrint","viewContext","renderView","buildAppendContent","CalendarInteractionClass","anchorEl","navLinkOptions","customAction","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","extraHookProps","colSpan","extraDataAttrs","isSticky","TableDowCell","dateMeta","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","currentConfig","configCnt","configI","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","renderInnerContent$1","getSegAnchorAttrs","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","WeekNumberRoot","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMousedown","handleCloseClick","extraAttrs","parentEl","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin_1","offsetParent","MorePopover","startDate","dayClassNames","extraDateSpan","dayEl","layer","MoreLinkRoot","linkElRef","isPopoverOpen","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","Calendar","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","wasRendering","pauseRendering","resumeRendering","classNames_1","OPTION_IS_COMPLEX","resources","shallowCopy","output","wrapVDomGenerator","vDomGenerator","vue","createVueContentTypePlugin","parent","buildVDomHandler","currentEl","vDomContent","$destroy","initVue","$mount","initialContent","FullCalendar","initData","internal","scopedSlotOptions","$scopedSlots","calendar","buildOptions","getApi","beforeUpdate","beforeDestroy","buildWatchers","suppliedOptions","watchers","deep","_loop_1","complexOptionName","GlobalVue","installed","install","Vue","use","_objectSpread2","namespaced","label","selectedCalendars","getters","mutations","SET_SELECTED_EVENTS","actions","fetchEvents","ctx","calendars","reject","axios","response","catch","post","rawName","$emit","_v","_m","checkAll","_l","_s","BFormCheckboxGroup","provide","bvCheckGroup","isRadioGroup","useCalendarSidebar","store","commit","_watch","Ripple","components","BButton","BImg","BFormCheckbox","BFormGroup","require","setup","scopedSlots","_u","hide","eventLocal","_e","handleSubmit","onSubmit","resetForm","validationContext","getValidationState","$set","errors","$store","appConfig","isRTL","staticStyle","guestsOptions","avatar","ROOT_ACTION_EVENT_NAME_REQUEST_STATE","ROOT_ACTION_EVENT_NAME_TOGGLE","ROOT_EVENT_NAME_STATE","ROOT_EVENT_NAME_SYNC_STATE","_makeModelMixin","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","ariaLabel","ariaLabelledby","backdrop","backdropVariant","bgVariant","bodyClass","closeLabel","footerClass","headerClass","lazy","noCloseOnBackdrop","noCloseOnEsc","noCloseOnRouteChange","noEnforceFocus","noHeader","noHeaderClose","noSlide","shadow","sidebarClass","textVariant","zIndex","normalizeSlot","slotScope","$content","$title","$close","$footer","renderContent","$header","renderBackdrop","localShow","onBackdropClick","BSidebar","inheritAttrs","transitionProps","css","enterClass","enterActiveClass","enterToClass","leaveClass","leaveActiveClass","leaveToClass","hasTitle","$slots","hasNormalizedSlot","titleId","bvAttrs","role","emitState","fullPath","created","$_returnFocusEl","listenOnRoot","handleToggle","handleSync","activated","emitSync","emitOnRoot","_this2","onKeydown","onTopTrapFocus","tabables","$refs","enforceFocus","onBottomTrapFocus","onBeforeEnter","onAfterEnter","onAfterLeave","$sidebar","beforeEnter","afterEnter","afterLeave","$backdrop","noFade","$tabTrapTop","$tabTrapBottom","keydown","formValidation","resetFormData","clearFormData","refFormObserver","resetObserver","reset","dirty","validated","fieldRequired","changed","valid","result","nextTick","clearForm","useCalendarEventHandler","emit","resetEventLocal","eventData","BForm","BFormInput","BAvatar","vSelect","flatPickr","ValidationProvider","BFormInvalidFeedback","ValidationObserver","Function","email","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","singlePlacements","invisibleSegs","isForcedInvisible","singlePlacements_1","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","dayElRef","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","computeFgSegPlacement","eventInstanceHeights","maxContentHeight","hierarchy","hiddenConsumes","segInputs","unknownHeightSegs","eventHeight","segRects","placeRects","singleColPlacements","multiColPlacements","leftoverMargins","moreCnts","moreMarginTops","unknownHeightSegs_1","absoluteTop","resliceSeg","hiddenEntries_1","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","rects_1","multiPlacements","rects_2","isFirstCol","rects_3","spanStart","spanEnd","DayGridSegHierarchy","forceHidden","excludeHidden","touchingEntryId","placeholderEntry","placeholderEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevState","currentProps","segPlacements","segPlacements_1","leftRightCss","isExternalSizingChange","frameEls","limitByContentHeight","queryEventInstanceHeights","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","colPlacements_1","placements","placements_1","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","rowPositions","rowObj","colPositions","getCellRange","getCellEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","renderAllDayInner","handleSlatCoords","timeContent","isNowIndicator","nowIndicatorTop","safeComputeTop","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slatIndex","slatRemainder","slatCoverage","TimeColsSlatsBody","slatElRefs","axis","TimeColsSlats","onCoords","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderPlainFgSegs","buildPositioning","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","lateralStart","lateralEnd","pairs","cmpDescPressures","extractNode","subjectLevel","subjectLateral","subjectEntry","afterSubject","searchIndex","topLevelNodes","totalThickness","stretchNode","startCoord","prevThickness","endCoord","allThickness","thicknessFraction","newChildren","nextLevelNodes_1","childNode","newThickness","processNode","stackDepth","stackForward","processNodes","nodes_1","keyFunc","workFunc","cache","computeSegVCoords","colDate","vcoords","computeFgSegPlacements","segVCoords","dumbSegs","segRects_1","segRect","dumbSegs_1","dumbSeg","DEFAULT_TIME_FORMAT","TimeColEvent","isShort","TimeColMisc","TimeCol","isSelectMirror","interactionAffectedInstances","sortedFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPositionedFgSegs","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","positionCss","compileSegsFromEntries","segHCoords","shouldOverlap","nearCoord","farCoord","hiddenInstances","segEntries","segEntry","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","top_1","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","dayDate","snapDurationOverride","DayTimeColsSlicer","dayRanges","DayTimeCols","buildDayRanges","timeColsRef","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","OPTION_REFINERS","timeGrid","timeGridDay","timeGridWeek","ListViewHeaderRow","listDayFormat","sideText","listDaySideFormat","navLinkData","ListViewEventRow","renderEventInnerContent","buildTimeContent","anchorAttrs","doAllDay","ListView","computeDateVars","eventStoreToSegs","_eventStoreToSegs","setRootEl","dayDates","renderSegList","renderEmptyMessage","noEventsClassNames","noEventsContent","renderNoEventsInner","noEventsDidMount","noEventsWillUnmount","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","daySegs_1","eventRangesToSegs","eventRangeToSegs","viewEnd","createFalsableFormatter","listDay","listWeek","listMonth","listYear","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","deltaX","origPageX","deltaY","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","ElementScrollGeomCache","WindowScrollGeomCache","performance","AutoScroller","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","subjectRect","origPoint","adjustedPoint","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","dateStr","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSpan0","dateSpan1","dateSelectionTransformers_1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massagers_1","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","userCalendar","toast","useToast","refCalendar","onMounted","calendarsColor","Business","Holiday","Personal","Family","ETC","blankEvent","guests","description","updateEventInCalendar","updatedEventData","propsToUpdate","extendedPropsToUpdate","ToastificationContent","icon","variant","existingEvent","removeEventInCalendar","eventId","grabEventDataFromEventApi","updatedEvent","dayGridPlugin","interactionPlugin","timeGridPlugin","listPlugin","calendarEvent","colorName","clickedEvent","sidebarToggle","droppedEvent","resizedEvent","CalendarSidebar","CalendarEventHandler","toStringTag","__esModule","validator","fp","getElem","fpInput","$on","$watch","watchDisabled","immediate","binding","setProps","rippler","targetBorder","dx","clientX","dy","clientY","maxX","maxY","radius","sqrt","ripple","rippleContainer","borderRadius","pointerEvents","storedTargetPosition","clearRipple","clearPosition","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","BFormRadio","inject","bvGroup","computedLocalChecked","PASS_DOWN_ATTRS","ariaInvalid","buttonVariant","buttons","stacked","formRadioCheckGroupMixin","localChecked","groupName","groupClasses","$attrs","optionComponent","$inputs"],"mappings":"kHAAA,wKASIA,EAAgC,mFAEzBC,EAAQ,eAAsB,CACvCC,cAAe,eAAS,OAAkB,YAC1CC,UAAW,eAAS,OAAkB,QACtCC,QAAS,eAAS,OAAwB,IAC1CC,UAAW,eAAS,OAAkB,QACtCC,WAAY,eAAS,OAAkB,UACtC,sBAGQC,EAAmB,aAAIC,OAAO,CACvCP,MAAOA,EACPQ,SAAU,CACRC,YAAa,WACX,OAAOC,KAAKC,iBAAiBD,KAAKP,WAGtCS,QAAS,CACPC,gBAAiB,SAAyBC,GACxC,IAAIC,EAAMC,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,KAG9E,GAAI,eAAcF,GAAS,CACzB,IAAIK,EAAQ,eAAIL,EAAQJ,KAAKL,YACzBe,EAAO,eAAIN,EAAQJ,KAAKN,WAC5B,MAAO,CACLe,MAAO,eAAYA,GAASJ,GAAOK,EAAOD,EAC1CC,KAAM,eAAUC,OAAO,eAAYD,GAAQL,EAAMK,IACjDE,KAAM,eAAIR,EAAQJ,KAAKR,WACvBqB,SAAUC,QAAQ,eAAIV,EAAQJ,KAAKT,iBAKvC,MAAO,CACLkB,MAAOJ,GAAOD,EACdM,KAAM,eAAUC,OAAOP,IACvBS,UAAU,IAGdZ,iBAAkB,SAA0BR,GAC1C,IAAIsB,EAAQf,KAGZ,OAAI,eAAQP,GACHA,EAAQuB,KAAI,SAAUZ,GAC3B,OAAOW,EAAMZ,gBAAgBC,MAEtB,eAAcX,IAEvB,eAAKJ,EAA+BW,KAAKiB,SAASC,MAE3C,eAAKzB,GAASuB,KAAI,SAAUX,GACjC,OAAOU,EAAMZ,gBAAgBV,EAAQY,IAAQ,GAAIA,OAO9C,Q,qFCtEb,W,oCCAA,W,kECAO,MAAMc,EAAQ,CACjB,WACA,UACA,cACA,YACA,YACA,gBACA,SACA,gBACA,UACA,gBACA,eACA,yBAES,EAAW,CACpBC,SAAU,GACVC,YAAY,EACZC,qBAAqB,EACrBC,UAAW,SACXC,UAAU,EACVC,cAAe,qBACfC,QAA2B,kBAAXC,SACoC,IAAhDA,OAAOC,UAAUC,UAAUC,QAAQ,QACvCC,eAAgB,SAChBC,qBAAqB,EACrBC,YAAY,EACZC,eAAe,EACfC,YAAa,KACbC,WAAY,QACZC,YAAa,GACbC,cAAe,EACfC,eAAgB,EAChBC,QAAS,GACTC,eAAe,EACfC,eAAe,EACfC,YAAY,EACZC,aAAeC,GAA2B,qBAAZC,SAA2BA,QAAQC,KAAKF,GACtEG,QAAUC,IACN,MAAMC,EAAO,IAAIC,KAAKF,EAAUG,WAChCF,EAAKG,SAAS,EAAG,EAAG,EAAG,GACvBH,EAAKI,QAAQJ,EAAKK,UAAY,GAAML,EAAKM,SAAW,GAAK,GACzD,IAAIC,EAAQ,IAAIN,KAAKD,EAAKQ,cAAe,EAAG,GAC5C,OAAQ,EACJC,KAAKC,QAAQV,EAAKE,UAAYK,EAAML,WAAa,MAC7C,GACEK,EAAMD,SAAW,GAAK,GACxB,IAEZK,cAAe,EACfC,qBAAsB,GACtBC,QAAQ,EACRC,OAAQ,UACRC,gBAAiB,EACjBC,KAAM,SACNC,kBAAmB,WACnBC,UAAW,yOACXC,YAAY,EACZC,IAAK,IAAInB,KACToB,SAAU,GACVC,QAAS,GACTC,YAAa,GACbC,UAAW,GACXC,UAAW,GACXC,cAAe,GACfC,OAAQ,GACRC,cAAe,GACfC,QAAS,GACTC,cAAe,GACfC,aAAc,GACdC,sBAAuB,GACvBC,QAAS,GACTC,SAAU,OACVC,qBAAiB7E,EACjB8E,UAAW,uOACXC,uBAAuB,EACvBC,WAAY,EACZC,QAAQ,EACRC,WAAW,EACXC,aAAa,EACbC,MAAM,GC/EGC,EAAU,CACnBC,SAAU,CACNC,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACtDC,SAAU,CACN,SACA,SACA,UACA,YACA,WACA,SACA,aAGRC,OAAQ,CACJF,UAAW,CACP,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJC,SAAU,CACN,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,aAGRE,YAAa,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC1DC,eAAgB,EAChBC,QAAUC,IACN,MAAMC,EAAID,EAAM,IAChB,GAAIC,EAAI,GAAKA,EAAI,GACb,MAAO,KACX,OAAQA,EAAI,IACR,KAAK,EACD,MAAO,KACX,KAAK,EACD,MAAO,KACX,KAAK,EACD,MAAO,KACX,QACI,MAAO,OAGnBC,eAAgB,OAChBC,iBAAkB,KAClBC,YAAa,sBACbC,YAAa,kBACbC,KAAM,CAAC,KAAM,MACbC,cAAe,OACfC,eAAgB,QAChBC,cAAe,OACfC,gBAAiB,SACjBrB,WAAW,GAEA,QCvER,MAAMsB,EAAM,CAACC,EAAQ1G,EAAS,KAAM,MAAM0G,GAASC,OAAgB,EAAV3G,GACnD,EAAO4G,IAAmB,IAATA,EAAgB,EAAI,EAC3C,SAASC,EAASC,EAAIC,GACzB,IAAIC,EACJ,OAAO,WACHC,aAAaD,GACbA,EAAIE,WAAW,IAAMJ,EAAGK,MAAM1H,KAAMM,WAAYgH,IAGjD,MAAMK,EAAYC,GAAQA,aAAeC,MAAQD,EAAM,CAACA,GCTxD,SAASE,EAAYC,EAAMC,EAAWb,GACzC,IAAa,IAATA,EACA,OAAOY,EAAKE,UAAUC,IAAIF,GAC9BD,EAAKE,UAAUE,OAAOH,GAEnB,SAASI,EAAcC,EAAKL,EAAWM,GAC1C,MAAMC,EAAI5G,OAAO6G,SAASJ,cAAcC,GAMxC,OALAL,EAAYA,GAAa,GACzBM,EAAUA,GAAW,GACrBC,EAAEP,UAAYA,OACExH,IAAZ8H,IACAC,EAAEE,YAAcH,GACbC,EAEJ,SAASG,EAAUC,GACtB,MAAOA,EAAKC,WACRD,EAAKE,YAAYF,EAAKC,YAEvB,SAASE,EAAWH,EAAMI,GAC7B,OAAIA,EAAUJ,GACHA,EACFA,EAAKK,WACHF,EAAWH,EAAKK,WAAYD,QADlC,EAIF,SAASE,EAAkBC,EAAgBC,GAC9C,MAAMC,EAAUhB,EAAc,MAAO,mBAAoBiB,EAAWjB,EAAc,QAAS,YAAcc,GAAiBI,EAAUlB,EAAc,OAAQ,WAAYmB,EAAYnB,EAAc,OAAQ,aAQxM,IAPiD,IAA7CxG,UAAUC,UAAUC,QAAQ,YAC5BuH,EAASG,KAAO,UAGhBH,EAASG,KAAO,OAChBH,EAASI,QAAU,aAEVjJ,IAAT2I,EACA,IAAK,MAAM9I,KAAO8I,EACdE,EAASK,aAAarJ,EAAK8I,EAAK9I,IAIxC,OAHA+I,EAAQO,YAAYN,GACpBD,EAAQO,YAAYL,GACpBF,EAAQO,YAAYJ,GACbH,EAEJ,SAASQ,EAAeC,GAC3B,IACI,GAAkC,oBAAvBA,EAAMC,aAA6B,CAC1C,MAAMC,EAAOF,EAAMC,eACnB,OAAOC,EAAK,GAEhB,OAAOF,EAAMG,OAEjB,MAAOC,GACH,OAAOJ,EAAMG,QClDrB,MAAME,EAAY,OACLC,EAAa,CAACC,EAAarE,EAAW/B,IAAWA,EAAOiC,OAAOF,EAAY,YAAc,YAAYqE,GACrGC,EAAY,CACrBC,EAAGJ,EACHK,EAAG,SAAUC,EAASC,EAAWzG,GAC7BwG,EAAQE,SAAS1G,EAAOiC,OAAOD,SAASlE,QAAQ2I,KAEpDE,EAAG,CAACH,EAASI,KACTJ,EAAQnH,SAASwH,WAAWD,KAEhCE,EAAG,CAACN,EAASI,KACTJ,EAAQnH,SAASwH,WAAWD,KAEhCG,EAAG,CAACP,EAASQ,KACTR,EAAQlH,QAAQuH,WAAWG,KAE/BC,EAAG,CAACT,EAAS7D,EAAM3C,KACfwG,EAAQnH,SAAUmH,EAAQU,WAAa,GACnC,GAAK,EAAI,IAAIC,OAAOnH,EAAO2C,KAAK,GAAI,KAAKyE,KAAKzE,MAEtD0E,EAAG,SAAUb,EAASc,EAAYtH,GAC9BwG,EAAQE,SAAS1G,EAAOiC,OAAOF,UAAUjE,QAAQwJ,KAErDC,EAAG,CAACf,EAASgB,KACThB,EAAQiB,WAAWZ,WAAWW,KAElCE,EAAG,CAACC,EAAGC,IAAgB,IAAIzI,KAA+B,IAA1B0H,WAAWe,IAC3CC,EAAG,SAAUrB,EAASsB,EAAS9H,GAC3B,MAAM+H,EAAaC,SAASF,GACtB5I,EAAO,IAAIC,KAAKqH,EAAQ9G,cAAe,EAAG,EAAuB,GAAlBqI,EAAa,GAAQ,EAAG,EAAG,EAAG,GAEnF,OADA7I,EAAKI,QAAQJ,EAAKK,UAAYL,EAAKM,SAAWQ,EAAOmC,gBAC9CjD,GAEX+I,EAAG,CAACzB,EAAS0B,KACT1B,EAAQ2B,YAAYtB,WAAWqB,KAEnCE,EAAG,CAACT,EAAGU,IAAY,IAAIlJ,KAAKkJ,GAC5BC,EAAG,CAAC9B,EAASQ,KACTR,EAAQlH,QAAQuH,WAAWG,KAE/BuB,EAAG,CAAC/B,EAASI,KACTJ,EAAQnH,SAASwH,WAAWD,KAEhC4B,EAAG,CAAChC,EAASiC,KACTjC,EAAQkC,WAAW7B,WAAW4B,KAElCE,EAAG,CAACnC,EAASQ,KACTR,EAAQlH,QAAQuH,WAAWG,KAE/B4B,EAAG1C,EACH2C,EAAG,CAACrC,EAASsC,KACTtC,EAAQE,SAASG,WAAWiC,GAAS,IAEzCC,EAAG,CAACvC,EAASsC,KACTtC,EAAQE,SAASG,WAAWiC,GAAS,IAEzCxG,EAAG,CAACkE,EAASgB,KACThB,EAAQiB,WAAWZ,WAAWW,KAElCwB,EAAG,CAACrB,EAAGsB,IAAoB,IAAI9J,KAAK0H,WAAWoC,IAC/CC,EAAGhD,EACHiD,EAAG,CAAC3C,EAAS0B,KACT1B,EAAQ2B,YAAY,IAAOtB,WAAWqB,MAGjCkB,EAAa,CACtB9C,EAAG,SACHC,EAAG,SACHI,EAAG,eACHG,EAAG,eACHC,EAAG,mBACHE,EAAG,GACHI,EAAG,SACHE,EAAG,eACHG,EAAG,OACHG,EAAG,eACHI,EAAG,WACHG,EAAG,OACHE,EAAG,eACHC,EAAG,eACHC,EAAG,eACHG,EAAG,eACHC,EAAG,SACHC,EAAG,eACHE,EAAG,eACHzG,EAAG,eACH0G,EAAG,OACHE,EAAG,eACHC,EAAG,YAEM,EAAU,CACnBf,EAAIlJ,GAASA,EAAKmK,cAClB/C,EAAG,SAAUpH,EAAMc,EAAQvE,GACvB,OAAOuE,EAAO8B,SAASC,UAAU,EAAQmH,EAAEhK,EAAMc,EAAQvE,KAE7D8K,EAAG,SAAUrH,EAAMc,EAAQvE,GACvB,OAAO0K,EAAW,EAAQ4C,EAAE7J,EAAMc,EAAQvE,GAAW,GAAG,EAAOuE,IAEnE2G,EAAG,SAAUzH,EAAMc,EAAQvE,GACvB,OAAOuH,EAAI,EAAQuF,EAAErJ,EAAMc,EAAQvE,KAEvCqL,EAAI5H,GAAS8D,EAAI9D,EAAKgI,YACtBH,EAAG,SAAU7H,EAAMc,GACf,YAA0BxD,IAAnBwD,EAAOoC,QACRlD,EAAKK,UAAYS,EAAOoC,QAAQlD,EAAKK,WACrCL,EAAKK,WAEf0H,EAAG,CAAC/H,EAAMc,IAAWA,EAAO2C,KAAK,EAAIzD,EAAKgI,WAAa,KACvDG,EAAG,SAAUnI,EAAMc,GACf,OAAOmG,EAAWjH,EAAKoK,YAAY,EAAMtJ,IAE7CuH,EAAIrI,GAAS8D,EAAI9D,EAAKqK,cACtB7B,EAAIxI,GAASA,EAAKE,UAAY,IAC9ByI,EAAG,SAAU3I,EAAMyI,EAAGlM,GAClB,OAAOA,EAAQuD,QAAQE,IAE3B+I,EAAI/I,GAAS8D,EAAI9D,EAAKQ,cAAe,GACrC4I,EAAIpJ,GAAS8D,EAAI9D,EAAKK,WACtBgJ,EAAIrJ,GAAUA,EAAKgI,WAAa,GAAKhI,EAAKgI,WAAa,GAAK,GAC5DsB,EAAItJ,GAAS8D,EAAI9D,EAAKsK,cACtBb,EAAIzJ,GAASA,EAAKK,UAClBqJ,EAAG,SAAU1J,EAAMc,GACf,OAAOA,EAAO8B,SAASE,SAAS9C,EAAKM,WAEzCqJ,EAAI3J,GAAS8D,EAAI9D,EAAKoK,WAAa,GACnCP,EAAI7J,GAASA,EAAKoK,WAAa,EAC/BhH,EAAIpD,GAASA,EAAKqK,aAClBP,EAAI9J,GAASA,EAAKE,UAClB8J,EAAIhK,GAASA,EAAKM,SAClB2J,EAAIjK,GAASvC,OAAOuC,EAAKQ,eAAe+J,UAAU,IC/HzCC,EAAsB,EAAGC,SAAS,EAAUC,OAAO/H,EAASgI,YAAW,KAAa,CAACrD,EAASsD,EAAMC,KAC7G,MAAM/J,EAAS+J,GAAkBH,EACjC,YAA0BpN,IAAtBmN,EAAOK,YAA6BH,EAGjCC,EACFG,MAAM,IACNjN,IAAI,CAACkN,EAAG1B,EAAG2B,IAAQ,EAAQD,IAAqB,OAAfC,EAAI3B,EAAI,GACxC,EAAQ0B,GAAG1D,EAASxG,EAAQ2J,GACtB,OAANO,EACIA,EACA,IACLE,KAAK,IATCT,EAAOK,WAAWxD,EAASsD,EAAM9J,IAWnCqK,EAAmB,EAAGV,SAAS,EAAUC,OAAO/H,KAAc,CAAC3C,EAAMoL,EAAaC,EAAUC,KACrG,GAAa,IAATtL,IAAeA,EACf,OACJ,MAAMc,EAASwK,GAAgBZ,EAC/B,IAAIa,EACJ,MAAMC,EAAWxL,EACjB,GAAIA,aAAgBC,KAChBsL,EAAa,IAAItL,KAAKD,EAAKE,gBAC1B,GAAoB,kBAATF,QACK1C,IAAjB0C,EAAKyL,QACLF,EAAa,IAAItL,KAAKD,QACrB,GAAoB,kBAATA,EAAmB,CAC/B,MAAM0L,EAASN,IAAgBX,GAAU,GAAUvL,WAC7CyM,EAAUlO,OAAOuC,GAAM4L,OAC7B,GAAgB,UAAZD,EACAJ,EAAa,IAAItL,KACjBoL,GAAW,OAEV,GAAI,KAAKnD,KAAKyD,IACf,OAAOzD,KAAKyD,GACZJ,EAAa,IAAItL,KAAKD,QACrB,GAAIyK,GAAUA,EAAOoB,UACtBN,EAAad,EAAOoB,UAAU7L,EAAM0L,OACnC,CACDH,EACKd,GAAWA,EAAOtJ,WAEb,IAAIlB,MAAK,IAAIA,MAAOE,SAAS,EAAG,EAAG,EAAG,IADtC,IAAIF,MAAK,IAAIA,MAAOO,cAAe,EAAG,EAAG,EAAG,EAAG,EAAG,GAE5D,IAAIsL,EAASC,EAAM,GACnB,IAAK,IAAIzC,EAAI,EAAG0C,EAAa,EAAGC,EAAW,GAAI3C,EAAIoC,EAAOrO,OAAQiM,IAAK,CACnE,MAAM4C,EAAQR,EAAOpC,GACf6C,EAAwB,OAAVD,EACdE,EAA4B,OAAlBV,EAAOpC,EAAI,IAAe6C,EAC1C,GAAIjC,EAAWgC,KAAWE,EAAS,CAC/BH,GAAY/B,EAAWgC,GACvB,MAAMG,EAAQ,IAAIpE,OAAOgE,GAAUK,KAAKtM,GACpCqM,IAAUP,GAAU,IACpBC,EAAc,MAAVG,EAAgB,OAAS,WAAW,CACpC/H,GAAIgD,EAAU+E,GACdK,IAAKF,IAAQL,UAIfG,IACNF,GAAY,KAChBF,EAAIS,QAAQ,EAAGrI,KAAIoI,SAAWhB,EAAapH,EAAGoH,EAAYgB,EAAKzL,IAAWyK,GAE9EA,EAAaO,EAAUP,OAAajO,GAG5C,GAAMiO,aAAsBtL,OAASwM,MAAMlB,EAAWrL,WAMtD,OAFiB,IAAbmL,GACAE,EAAWpL,SAAS,EAAG,EAAG,EAAG,GAC1BoL,EALHd,EAAO/K,aAAa,IAAIgN,MAAM,0BAA0BlB,KAOzD,SAASmB,EAAaC,EAAOC,EAAOxB,GAAW,GAClD,OAAiB,IAAbA,EACQ,IAAIpL,KAAK2M,EAAM1M,WAAWC,SAAS,EAAG,EAAG,EAAG,GAChD,IAAIF,KAAK4M,EAAM3M,WAAWC,SAAS,EAAG,EAAG,EAAG,GAE7CyM,EAAM1M,UAAY2M,EAAM3M,UAQ5B,MAAM4M,EAAY,CAACC,EAAIC,EAAKC,IACxBF,EAAKtM,KAAKyM,IAAIF,EAAKC,IAAQF,EAAKtM,KAAK0M,IAAIH,EAAKC,GAE5CG,EAAW,CACpBC,IAAK,OAEF,SAASC,EAAgB7C,GAC5B,IAAI8C,EAAQ9C,EAAOtL,YACfoK,EAAUkB,EAAOrL,cACjBkJ,EAAUmC,EAAOpL,eACrB,QAAuB/B,IAAnBmN,EAAO+C,QAAuB,CAC9B,MAAMC,EAAUhD,EAAO+C,QAAQxF,WACzB0F,EAAajD,EAAO+C,QAAQlD,aAC5BqD,EAAalD,EAAO+C,QAAQnD,aAC9BkD,EAAQE,IACRF,EAAQE,GAERF,IAAUE,GAAWlE,EAAUmE,IAC/BnE,EAAUmE,GAEVH,IAAUE,GAAWlE,IAAYmE,GAAcpF,EAAUqF,IACzDrF,EAAUmC,EAAO+C,QAAQnD,cAEjC,QAAuB/M,IAAnBmN,EAAOmD,QAAuB,CAC9B,MAAMC,EAAQpD,EAAOmD,QAAQ5F,WACvB8F,EAAarD,EAAOmD,QAAQtD,aAClCiD,EAAQ9M,KAAKyM,IAAIK,EAAOM,GACpBN,IAAUM,IACVtE,EAAU9I,KAAKyM,IAAIY,EAAYvE,IAC/BgE,IAAUM,GAAStE,IAAYuE,IAC/BxF,EAAUmC,EAAOmD,QAAQvD,cAEjC,MAAO,CAAEkD,QAAOhE,UAASjB,W,UCjH7B,MAAMyF,EAAsB,IAC5B,SAASC,EAAkBC,EAASC,GAChC,MAAMC,EAAO,CACT1D,OAAQ2D,OAAOC,OAAOD,OAAOC,OAAO,GAAI,GAAiBC,EAAUC,eACnE7D,KAAM,GAsBV,SAAS8D,IACLL,EAAKM,MAAQ,CACT,eAAe7E,EAAQuE,EAAKO,aAAcC,EAAKR,EAAKS,aAChD,OAAc,IAAVhF,IAAiB+E,EAAK,IAAM,GAAKA,EAAK,MAAQ,GAAMA,EAAK,MAAQ,GAC1D,GACJR,EAAKzD,KAAK1H,YAAY4G,KAIzC,SAASiF,IACLV,EAAKF,QAAUE,EAAKW,MAAQb,EAC5BE,EAAKY,QAAS,EACdC,KACAC,KACAC,KACAC,KACAX,IACKL,EAAKxD,UACNyE,IACJC,KACIlB,EAAKmB,cAAcjS,QAAU8Q,EAAK1D,OAAOtJ,cACrCgN,EAAK1D,OAAOhL,YACZ8P,EAAiBpB,EAAK1D,OAAOtJ,WAAagN,EAAKqB,2BAAwBlS,GAE3EmS,IAAY,IAEhBC,IACA,MAAMC,EAAW,iCAAiCzH,KAAKxJ,UAAUC,YAC5DwP,EAAKxD,UAAYgF,GAClBC,KAEJC,GAAa,WAEjB,SAASC,EAAe3L,GACpB,OAAOA,EAAG4L,KAAK5B,GAEnB,SAASuB,IACL,MAAMjF,EAAS0D,EAAK1D,QACO,IAAvBA,EAAOhI,aAA+C,IAAtBgI,EAAOnI,aAGZ,IAAtBmI,EAAOtJ,YACZ1C,OAAOuR,uBAAsB,WAKzB,QAJ+B1S,IAA3B6Q,EAAK8B,oBACL9B,EAAK8B,kBAAkBC,MAAMC,WAAa,SAC1ChC,EAAK8B,kBAAkBC,MAAME,QAAU,cAEhB9S,IAAvB6Q,EAAKkC,cAA6B,CAClC,MAAMC,GAAanC,EAAKoC,KAAKC,YAAc,GAAK/F,EAAOnI,WACvD6L,EAAKkC,cAAcH,MAAMO,MAAQH,EAAY,KAC7CnC,EAAK8B,kBAAkBC,MAAMO,MACzBH,QAC0BhT,IAArB6Q,EAAKuC,YACAvC,EAAKuC,YAAYF,YACjB,GACN,KACRrC,EAAK8B,kBAAkBC,MAAMS,eAAe,cAC5CxC,EAAK8B,kBAAkBC,MAAMS,eAAe,eAK5D,SAASC,EAAWvL,GAChB,GAAkC,IAA9B8I,EAAKmB,cAAcjS,OAAc,CACjC,MAAMwT,OAAsCvT,IAAxB6Q,EAAK1D,OAAO+C,SAC5Bb,EAAa,IAAI1M,KAAQkO,EAAK1D,OAAO+C,UAAY,EAC/C,IAAIvN,KACJ,IAAIA,KAAKkO,EAAK1D,OAAO+C,QAAQtN,WAC7B4Q,EAAWxD,EAAgBa,EAAK1D,QACtCoG,EAAY1Q,SAAS2Q,EAASvD,MAAOuD,EAASvH,QAASuH,EAASxI,QAASuI,EAAYE,mBACrF5C,EAAKmB,cAAgB,CAACuB,GACtB1C,EAAKqB,sBAAwBqB,OAEvBvT,IAAN+H,GAA8B,SAAXA,EAAEiB,MACrB0K,GAAY3L,GAEhB,MAAM4L,EAAY9C,EAAK+C,OAAO3T,MAC9B4T,IACA1B,KACItB,EAAK+C,OAAO3T,QAAU0T,GACtB9C,EAAKiD,mBAGb,SAASC,EAAc3J,EAAMjE,GACzB,OAAQiE,EAAO,GAAM,GAAK,EAAIjE,IAAS0K,EAAKzD,KAAKjH,KAAK,IAE1D,SAAS6N,EAAc5J,GACnB,OAAQA,EAAO,IACX,KAAK,EACL,KAAK,GACD,OAAO,GACX,QACI,OAAOA,EAAO,IAG1B,SAASyJ,IACL,QAAyB7T,IAArB6Q,EAAKoD,kBAAoDjU,IAAvB6Q,EAAKqD,cACvC,OACJ,IAAIjE,GAASzE,SAASqF,EAAKoD,YAAYhU,MAAMyG,OAAO,GAAI,KAAO,GAAK,GAAIuF,GAAWT,SAASqF,EAAKqD,cAAcjU,MAAO,KAAO,GAAK,GAAI+K,OAAiChL,IAAvB6Q,EAAKsD,eAC9I3I,SAASqF,EAAKsD,cAAclU,MAAO,KAAO,GAAK,GAChD,OACYD,IAAd6Q,EAAK1K,OACL8J,EAAQ8D,EAAc9D,EAAOY,EAAK1K,KAAK8B,cAE3C,MAAMmM,OAAwCpU,IAAxB6Q,EAAK1D,OAAOkH,SAC7BxD,EAAK1D,OAAO+C,SACTW,EAAKyD,gBACLzD,EAAKqB,uBAED,IADJ7C,EAAawB,EAAKqB,sBAAuBrB,EAAK1D,OAAO+C,SAAS,GAEhEqE,OAAwCvU,IAAxB6Q,EAAK1D,OAAOqH,SAC7B3D,EAAK1D,OAAOmD,SACTO,EAAK4D,gBACL5D,EAAKqB,uBAED,IADJ7C,EAAawB,EAAKqB,sBAAuBrB,EAAK1D,OAAOmD,SAAS,GAEtE,GAAIiE,EAAe,CACf,MAAMC,OAAkCxU,IAAxB6Q,EAAK1D,OAAOqH,QACtB3D,EAAK1D,OAAOqH,QACZ3D,EAAK1D,OAAOmD,QAClBL,EAAQ9M,KAAKyM,IAAIK,EAAOuE,EAAQ9J,YAC5BuF,IAAUuE,EAAQ9J,aAClBuB,EAAU9I,KAAKyM,IAAI3D,EAASuI,EAAQxH,eACpCf,IAAYuI,EAAQxH,eACpBhC,EAAU7H,KAAKyM,IAAI5E,EAASwJ,EAAQzH,eAE5C,GAAIqH,EAAe,CACf,MAAMC,OAAkCrU,IAAxB6Q,EAAK1D,OAAOkH,QACtBxD,EAAK1D,OAAOkH,QACZxD,EAAK1D,OAAO+C,QAClBD,EAAQ9M,KAAK0M,IAAII,EAAOoE,EAAQ3J,YAC5BuF,IAAUoE,EAAQ3J,YAAcuB,EAAUoI,EAAQrH,eAClDf,EAAUoI,EAAQrH,cAClBf,IAAYoI,EAAQrH,eACpBhC,EAAU7H,KAAK0M,IAAI7E,EAASqJ,EAAQtH,eAE5ClK,EAASoN,EAAOhE,EAASjB,GAE7B,SAASiH,EAAiBjI,GACtB,MAAMtH,EAAOsH,GAAW6G,EAAKqB,sBACzBxP,GACAG,EAASH,EAAKgI,WAAYhI,EAAKsK,aAActK,EAAKqK,cAG1D,SAASlK,EAASoN,EAAOhE,EAASjB,QACKhL,IAA/B6Q,EAAKqB,uBACLrB,EAAKqB,sBAAsBrP,SAASoN,EAAQ,GAAIhE,EAASjB,GAAW,EAAG,GAEtE6F,EAAKoD,aAAgBpD,EAAKqD,gBAAiBrD,EAAKxD,WAErDwD,EAAKoD,YAAYhU,MAAQuG,EAAKqK,EAAK1D,OAAOjI,UAEpC+K,GADE,GAAKA,GAAS,GAAM,GAAK,EAAIA,EAAQ,KAAO,IAEpDY,EAAKqD,cAAcjU,MAAQuG,EAAIyF,QACbjM,IAAd6Q,EAAK1K,OACL0K,EAAK1K,KAAK8B,YAAc4I,EAAKzD,KAAKjH,KAAK,EAAI8J,GAAS,WAC7BjQ,IAAvB6Q,EAAKsD,gBACLtD,EAAKsD,cAAclU,MAAQuG,EAAIwE,KAEvC,SAAS0J,EAAYrL,GACjB,MAAMsL,EAAcvL,EAAeC,GAC7BqC,EAAOF,SAASmJ,EAAY1U,QAAUoJ,EAAMuL,OAAS,IACvDlJ,EAAO,IAAO,GACC,UAAdrC,EAAMxJ,MAAoB,QAAQ+K,KAAKc,EAAKmJ,cAC7CC,GAAWpJ,GAGnB,SAAS+G,EAAK9B,EAAStH,EAAO0L,EAAS9V,GACnC,OAAIoK,aAAiBhC,MACVgC,EAAM6F,QAAS8F,GAAOvC,EAAK9B,EAASqE,EAAID,EAAS9V,IACxD0R,aAAmBtJ,MACZsJ,EAAQzB,QAAS+F,GAAOxC,EAAKwC,EAAI5L,EAAO0L,EAAS9V,KAC5D0R,EAAQuE,iBAAiB7L,EAAO0L,EAAS9V,QACzC4R,EAAKsE,UAAUC,KAAK,CAChBzN,OAAQ,IAAMgJ,EAAQ0E,oBAAoBhM,EAAO0L,MAGzD,SAASO,IACL/C,GAAa,YAEjB,SAASR,IAML,GALIlB,EAAK1D,OAAO/H,MACZ,CAAC,OAAQ,QAAS,SAAU,SAAS8J,QAASqG,IAC1ClO,MAAMmO,UAAUtG,QAAQuG,KAAK5E,EAAKF,QAAQ+E,iBAAiB,SAASH,MAAUN,GAAOxC,EAAKwC,EAAI,QAASpE,EAAK0E,OAGhH1E,EAAKxD,SAEL,YADAsI,KAGJ,MAAMC,EAAkBhP,EAASiP,GAAU,IAwB3C,GAvBAhF,EAAKiD,iBAAmBlN,EAAS0O,EAAe7E,GAC5CI,EAAKkC,gBAAkB,oBAAoBnI,KAAKxJ,UAAUC,YAC1DoR,EAAK5B,EAAKkC,cAAe,YAAchL,IACV,UAArB8I,EAAK1D,OAAOzJ,MACZoS,GAAY1M,EAAerB,MAEvC0K,EAAKtR,OAAO6G,SAAS+N,KAAM,UAAW5R,IACjC0M,EAAK1D,OAAO5J,QAAWsN,EAAK1D,OAAOlI,QACpCwN,EAAKtR,OAAQ,SAAUyU,QACC5V,IAAxBmB,OAAO6U,aACPvD,EAAKtR,OAAO6G,SAAU,aAAciO,IAEpCxD,EAAKtR,OAAO6G,SAAU,YAAaiO,IACvCxD,EAAKtR,OAAO6G,SAAU,QAASiO,GAAe,CAAEC,SAAS,KAC1B,IAA3BrF,EAAK1D,OAAO1L,aACZgR,EAAK5B,EAAK+C,OAAQ,QAAS/C,EAAKsF,MAChC1D,EAAK5B,EAAK+C,OAAQ,QAAS/C,EAAKsF,YAETnW,IAAvB6Q,EAAKkC,gBACLN,EAAK5B,EAAKuF,SAAU,QAASC,IAC7B5D,EAAK5B,EAAKuF,SAAU,CAAC,QAAS,aAAc1B,GAC5CjC,EAAK5B,EAAKkC,cAAe,QAASuD,UAEXtW,IAAvB6Q,EAAK0F,oBACkBvW,IAAvB6Q,EAAKqD,oBACgBlU,IAArB6Q,EAAKoD,YAA2B,CAChC,MAAMuC,EAAWzO,GAAMqB,EAAerB,GAAG0O,SACzChE,EAAK5B,EAAK0F,cAAe,CAAC,aAAcjD,GACxCb,EAAK5B,EAAK0F,cAAe,OAAQjD,EAAY,CAAE4C,SAAS,IACxDzD,EAAK5B,EAAK0F,cAAe,QAASG,GAClCjE,EAAK,CAAC5B,EAAKoD,YAAapD,EAAKqD,eAAgB,CAAC,QAAS,SAAUsC,QACtCxW,IAAvB6Q,EAAKsD,eACL1B,EAAK5B,EAAKsD,cAAe,QAAS,IAAMtD,EAAKsD,eAAiBtD,EAAKsD,cAAcsC,eACnEzW,IAAd6Q,EAAK1K,MACLsM,EAAK5B,EAAK1K,KAAM,QAAU4B,IACtBuL,EAAWvL,GACXuN,MAIRzE,EAAK1D,OAAOtM,YACZ4R,EAAK5B,EAAK+C,OAAQ,OAAQ+C,IAGlC,SAASC,EAAWC,EAAUvB,GAC1B,MAAMwB,OAAsB9W,IAAb6W,EACThG,EAAKtC,UAAUsI,GACfhG,EAAKqB,wBACFrB,EAAK1D,OAAO+C,SAAWW,EAAK1D,OAAO+C,QAAUW,EAAK/M,IAC7C+M,EAAK1D,OAAO+C,QACZW,EAAK1D,OAAOmD,SAAWO,EAAK1D,OAAOmD,QAAUO,EAAK/M,IAC9C+M,EAAK1D,OAAOmD,QACZO,EAAK/M,KACjBiT,EAAUlG,EAAKS,YACf0F,EAAWnG,EAAKO,aACtB,SACmBpR,IAAX8W,IACAjG,EAAKS,YAAcwF,EAAO5T,cAC1B2N,EAAKO,aAAe0F,EAAOhK,YAGnC,MAAO/E,GACHA,EAAEkP,QAAU,0BAA4BH,EACxCjG,EAAK1D,OAAO/K,aAAa2F,GAEzBuN,GAAiBzE,EAAKS,cAAgByF,IACtCxE,GAAa,gBACb2E,MAEA5B,GACCzE,EAAKS,cAAgByF,GAAWlG,EAAKO,eAAiB4F,GACvDzE,GAAa,iBAEjB1B,EAAKsG,SAET,SAAST,EAAc3O,GACnB,MAAM4M,EAAcvL,EAAerB,IAC9B4M,EAAYnN,UAAUlG,QAAQ,UAC/B8V,EAAkBrP,EAAG4M,EAAYlN,UAAU4P,SAAS,WAAa,GAAK,GAE9E,SAASD,EAAkBrP,EAAG6M,EAAO0C,GACjC,MAAM9N,EAASzB,GAAKqB,EAAerB,GAC7ByJ,EAAQ8F,GACT9N,GAAUA,EAAOhB,YAAcgB,EAAOhB,WAAWJ,WAChDiB,EAAQkO,GAAY,aAC1BlO,EAAMuL,MAAQA,EACdpD,GAASA,EAAMgG,cAAcnO,GAEjC,SAASyI,IACL,MAAM2F,EAAWtW,OAAO6G,SAAS0P,yBAGjC,GAFA7G,EAAK8B,kBAAoB/K,EAAc,MAAO,sBAC9CiJ,EAAK8B,kBAAkBgF,UAAY,GAC9B9G,EAAK1D,OAAOtJ,WAAY,CAGzB,GAFA4T,EAAStO,YAAYyO,MACrB/G,EAAKgH,eAAiBjQ,EAAc,MAAO,4BACvCiJ,EAAK1D,OAAOhI,YAAa,CACzB,MAAM,YAAEiO,EAAW,YAAEjO,GAAgB2S,KACrCjH,EAAKgH,eAAe1O,YAAYiK,GAChCvC,EAAK1L,YAAcA,EACnB0L,EAAKuC,YAAcA,EAEvBvC,EAAKkH,WAAanQ,EAAc,MAAO,wBACvCiJ,EAAKkH,WAAW5O,YAAY6O,MACvBnH,EAAKkC,gBACNlC,EAAKkC,cAAgBnL,EAAc,MAAO,kBAC1CiJ,EAAKkC,cAAc4E,UAAY,GAEnCM,IACApH,EAAKkH,WAAW5O,YAAY0H,EAAKkC,eACjClC,EAAKgH,eAAe1O,YAAY0H,EAAKkH,YACrCN,EAAStO,YAAY0H,EAAKgH,gBAE1BhH,EAAK1D,OAAOhL,YACZsV,EAAStO,YAAY+O,MAEzB5Q,EAAYuJ,EAAK8B,kBAAmB,YAAkC,UAArB9B,EAAK1D,OAAOzJ,MAC7D4D,EAAYuJ,EAAK8B,kBAAmB,WAAmC,IAAxB9B,EAAK1D,OAAOjM,SAC3DoG,EAAYuJ,EAAK8B,kBAAmB,aAAc9B,EAAK1D,OAAOnI,WAAa,GAC3E6L,EAAK8B,kBAAkBxJ,YAAYsO,GACnC,MAAMU,OAAwCnY,IAAzB6Q,EAAK1D,OAAOiL,eACKpY,IAAlC6Q,EAAK1D,OAAOiL,SAASC,SACzB,IAAIxH,EAAK1D,OAAO5J,QAAUsN,EAAK1D,OAAOlI,UAClC4L,EAAK8B,kBAAkBlL,UAAUC,IAAImJ,EAAK1D,OAAO5J,OAAS,SAAW,UACjEsN,EAAK1D,OAAO5J,UACP4U,GAAgBtH,EAAKF,QAAQnI,WAC9BqI,EAAKF,QAAQnI,WAAW8P,aAAazH,EAAK8B,kBAAmB9B,EAAK+C,OAAO2E,kBAC3CvY,IAAzB6Q,EAAK1D,OAAOiL,UACjBvH,EAAK1D,OAAOiL,SAASjP,YAAY0H,EAAK8B,oBAE1C9B,EAAK1D,OAAOlI,QAAQ,CACpB,MAAM2D,EAAUhB,EAAc,MAAO,qBACjCiJ,EAAKF,QAAQnI,YACbqI,EAAKF,QAAQnI,WAAW8P,aAAa1P,EAASiI,EAAKF,SACvD/H,EAAQO,YAAY0H,EAAKF,SACrBE,EAAK7P,UACL4H,EAAQO,YAAY0H,EAAK7P,UAC7B4H,EAAQO,YAAY0H,EAAK8B,mBAG5B9B,EAAK1D,OAAOlI,QAAW4L,EAAK1D,OAAO5J,cACVvD,IAAzB6Q,EAAK1D,OAAOiL,SACPvH,EAAK1D,OAAOiL,SACZjX,OAAO6G,SAAS+N,MAAM5M,YAAY0H,EAAK8B,mBAErD,SAAS6F,EAAUhR,EAAW9E,EAAM+V,EAAWzM,GAC3C,MAAM0M,EAAgBC,GAAUjW,GAAM,GAAOkW,EAAahR,EAAc,OAAQ,iBAAmBJ,EAAW9E,EAAKK,UAAU8R,YAuC7H,OAtCA+D,EAAW5O,QAAUtH,EACrBkW,EAAWC,GAAK7M,EAChB4M,EAAW1P,aAAa,aAAc2H,EAAKrD,WAAW9K,EAAMmO,EAAK1D,OAAO5L,kBACnC,IAAjCiG,EAAUlG,QAAQ,WACe,IAAjC+N,EAAa3M,EAAMmO,EAAK/M,OACxB+M,EAAKiI,cAAgBF,EACrBA,EAAWnR,UAAUC,IAAI,SACzBkR,EAAW1P,aAAa,eAAgB,SAExCwP,GACAE,EAAWjB,UAAY,EACnBoB,GAAerW,KACfkW,EAAWnR,UAAUC,IAAI,YACzBmJ,EAAKmI,iBAAmBJ,EACC,UAArB/H,EAAK1D,OAAOzJ,OACZ4D,EAAYsR,EAAY,aAAc/H,EAAKmB,cAAc,IACD,IAApD3C,EAAa3M,EAAMmO,EAAKmB,cAAc,IAAI,IAC9C1K,EAAYsR,EAAY,WAAY/H,EAAKmB,cAAc,IACC,IAApD3C,EAAa3M,EAAMmO,EAAKmB,cAAc,IAAI,IAC5B,iBAAdxK,GACAoR,EAAWnR,UAAUC,IAAI,cAKrCkR,EAAWnR,UAAUC,IAAI,sBAEJ,UAArBmJ,EAAK1D,OAAOzJ,MACRuV,GAAcvW,KAAUqW,GAAerW,IACvCkW,EAAWnR,UAAUC,IAAI,WAE7BmJ,EAAK1L,aACsB,IAA3B0L,EAAK1D,OAAOnI,YACE,iBAAdwC,GACAiR,EAAY,IAAM,GAClB5H,EAAK1L,YAAY+T,mBAAmB,YAAa,+BAAiCrI,EAAK1D,OAAO3K,QAAQE,GAAQ,WAElH6P,GAAa,cAAeqG,GACrBA,EAEX,SAASO,EAAeC,GACpBA,EAAWC,QACc,UAArBxI,EAAK1D,OAAOzJ,MACZoS,GAAYsD,GAEpB,SAASE,EAAqB1E,GAC1B,MAAM2E,EAAa3E,EAAQ,EAAI,EAAI/D,EAAK1D,OAAOnI,WAAa,EACtDwU,EAAW5E,EAAQ,EAAI/D,EAAK1D,OAAOnI,YAAc,EACvD,IAAK,IAAIqH,EAAIkN,EAAYlN,GAAKmN,EAAUnN,GAAKuI,EAAO,CAChD,MAAMtI,EAAQuE,EAAKkC,cAAc0G,SAASpN,GACpCqN,EAAa9E,EAAQ,EAAI,EAAItI,EAAMmN,SAAS1Z,OAAS,EACrD4Z,EAAW/E,EAAQ,EAAItI,EAAMmN,SAAS1Z,QAAU,EACtD,IAAK,IAAIiM,EAAI0N,EAAY1N,GAAK2N,EAAU3N,GAAK4I,EAAO,CAChD,MAAMlH,EAAIpB,EAAMmN,SAASzN,GACzB,IAAuC,IAAnC0B,EAAElG,UAAUlG,QAAQ,WAAoBqX,GAAUjL,EAAE1D,SACpD,OAAO0D,IAKvB,SAASkM,EAAoBC,EAASjF,GAClC,MAAMkF,GAAqD,IAAxCD,EAAQrS,UAAUlG,QAAQ,SACvCuY,EAAQ7P,QAAQ8C,WAChB+D,EAAKO,aACLoI,EAAW5E,EAAQ,EAAI/D,EAAK1D,OAAOnI,YAAc,EACjD+U,EAAYnF,EAAQ,EAAI,GAAK,EACnC,IAAK,IAAIvI,EAAIyN,EAAajJ,EAAKO,aAAc/E,GAAKmN,EAAUnN,GAAK0N,EAAW,CACxE,MAAMzN,EAAQuE,EAAKkC,cAAc0G,SAASpN,GACpCqN,EAAaI,EAAajJ,EAAKO,eAAiB/E,EAChDwN,EAAQhB,GAAKjE,EACbA,EAAQ,EACJtI,EAAMmN,SAAS1Z,OAAS,EACxB,EACJia,EAAe1N,EAAMmN,SAAS1Z,OACpC,IAAK,IAAIiM,EAAI0N,EAAY1N,GAAK,GAAKA,EAAIgO,GAAgBhO,IAAM4I,EAAQ,EAAIoF,GAAgB,GAAIhO,GAAK+N,EAAW,CACzG,MAAMrM,EAAIpB,EAAMmN,SAASzN,GACzB,IAAuC,IAAnC0B,EAAElG,UAAUlG,QAAQ,WACpBqX,GAAUjL,EAAE1D,UACZ7G,KAAK8W,IAAIJ,EAAQhB,GAAK7M,IAAM7I,KAAK8W,IAAIrF,GACrC,OAAOuE,EAAezL,IAGlCmD,EAAKqJ,YAAYH,GACjBI,EAAWb,EAAqBS,GAAY,GAGhD,SAASI,EAAWN,EAASO,GACzB,MAAMC,EAAaC,GAAStS,SAASuS,eAAiBvS,SAAS+N,MACzDyE,OAAwBxa,IAAZ6Z,EACZA,EACAQ,EACIrS,SAASuS,mBACiBva,IAA1B6Q,EAAKmI,kBAAkCsB,GAASzJ,EAAKmI,kBACjDnI,EAAKmI,sBACkBhZ,IAAvB6Q,EAAKiI,eAA+BwB,GAASzJ,EAAKiI,eAC9CjI,EAAKiI,cACLQ,EAAqBc,EAAS,EAAI,GAAK,QACvCpa,IAAdwa,EACA3J,EAAK+C,OAAOyF,QAENgB,EAINT,EAAoBY,EAAWJ,GAH/BjB,EAAeqB,GAMvB,SAASC,EAAe/O,EAAMY,GAC1B,MAAMoO,GAAgB,IAAI/X,KAAK+I,EAAMY,EAAO,GAAGtJ,SAAW6N,EAAKzD,KAAKzH,eAAiB,GAAK,EACpFgV,EAAgB9J,EAAKM,MAAMyJ,gBAAgBtO,EAAQ,EAAI,IAAM,GAAIZ,GACjEhG,EAAcmL,EAAKM,MAAMyJ,eAAetO,EAAOZ,GAAOuH,EAAO9R,OAAO6G,SAAS0P,yBAA0BmD,EAAehK,EAAK1D,OAAOnI,WAAa,EAAG8V,EAAoBD,EAAe,sBAAwB,eAAgBE,EAAoBF,EAAe,sBAAwB,eAC9R,IAAIpC,EAAYkC,EAAgB,EAAID,EAAcM,EAAW,EAC7D,KAAOvC,GAAakC,EAAelC,IAAauC,IAC5C/H,EAAK9J,YAAYqP,EAAUsC,EAAmB,IAAInY,KAAK+I,EAAMY,EAAQ,EAAGmM,GAAYA,EAAWuC,IAEnG,IAAKvC,EAAY,EAAGA,GAAa/S,EAAa+S,IAAauC,IACvD/H,EAAK9J,YAAYqP,EAAU,GAAI,IAAI7V,KAAK+I,EAAMY,EAAOmM,GAAYA,EAAWuC,IAEhF,IAAK,IAAIC,EAASvV,EAAc,EAAGuV,GAAU,GAAKP,IAClB,IAA3B7J,EAAK1D,OAAOnI,YAAoBgW,EAAW,IAAM,GAAIC,IAAUD,IAChE/H,EAAK9J,YAAYqP,EAAUuC,EAAmB,IAAIpY,KAAK+I,EAAMY,EAAQ,EAAG2O,EAASvV,GAAcuV,EAAQD,IAE3G,MAAME,EAAetT,EAAc,MAAO,gBAE1C,OADAsT,EAAa/R,YAAY8J,GAClBiI,EAEX,SAASjD,IACL,QAA2BjY,IAAvB6Q,EAAKkC,cACL,OAEJ7K,EAAU2I,EAAKkC,eACXlC,EAAK1L,aACL+C,EAAU2I,EAAK1L,aACnB,MAAMgW,EAAOnT,SAAS0P,yBACtB,IAAK,IAAI1L,EAAI,EAAGA,EAAI6E,EAAK1D,OAAOnI,WAAYgH,IAAK,CAC7C,MAAMF,EAAI,IAAInJ,KAAKkO,EAAKS,YAAaT,EAAKO,aAAc,GACxDtF,EAAE5B,SAAS2G,EAAKO,aAAepF,GAC/BmP,EAAKhS,YAAYsR,EAAe3O,EAAE5I,cAAe4I,EAAEgB,aAEvD+D,EAAKkC,cAAc5J,YAAYgS,GAC/BtK,EAAKoC,KAAOpC,EAAKkC,cAAc3K,WACN,UAArByI,EAAK1D,OAAOzJ,MAAkD,IAA9BmN,EAAKmB,cAAcjS,QACnD+V,KAGR,SAASoB,IACL,GAAIrG,EAAK1D,OAAOnI,WAAa,GACS,aAAlC6L,EAAK1D,OAAOxJ,kBACZ,OACJ,MAAMyX,EAAmB,SAAU9O,GAC/B,aAA4BtM,IAAxB6Q,EAAK1D,OAAO+C,SACZW,EAAKS,cAAgBT,EAAK1D,OAAO+C,QAAQhN,eACzCoJ,EAAQuE,EAAK1D,OAAO+C,QAAQpD,oBAGC9M,IAAxB6Q,EAAK1D,OAAOmD,SACjBO,EAAKS,cAAgBT,EAAK1D,OAAOmD,QAAQpN,eACzCoJ,EAAQuE,EAAK1D,OAAOmD,QAAQxD,aAEpC+D,EAAKwK,wBAAwB1D,UAAY,EACzC9G,EAAKwK,wBAAwBC,UAAY,GACzC,IAAK,IAAItP,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACzB,IAAKoP,EAAiBpP,GAClB,SACJ,MAAMM,EAAQ1E,EAAc,SAAU,iCACtC0E,EAAMrM,MAAQ,IAAI0C,KAAKkO,EAAKS,YAAatF,GAAGc,WAAW+H,WACvDvI,EAAMrE,YAAc0B,EAAWqC,EAAG6E,EAAK1D,OAAOpI,sBAAuB8L,EAAKzD,MAC1Ed,EAAMqL,UAAY,EACd9G,EAAKO,eAAiBpF,IACtBM,EAAMiP,UAAW,GAErB1K,EAAKwK,wBAAwBlS,YAAYmD,IAGjD,SAASkP,IACL,MAAMC,EAAY7T,EAAc,MAAO,mBACjC8T,EAAmBva,OAAO6G,SAAS0P,yBACzC,IAAIiE,EACA9K,EAAK1D,OAAOnI,WAAa,GACS,WAAlC6L,EAAK1D,OAAOxJ,kBACZgY,EAAe/T,EAAc,OAAQ,cAGrCiJ,EAAKwK,wBAA0BzT,EAAc,SAAU,kCACvDiJ,EAAKwK,wBAAwBnS,aAAa,aAAc2H,EAAKzD,KAAK/G,gBAClEoM,EAAK5B,EAAKwK,wBAAyB,SAAWtT,IAC1C,MAAMyB,EAASJ,EAAerB,GACxB6T,EAAgBpQ,SAAShC,EAAOvJ,MAAO,IAC7C4Q,EAAKqJ,YAAY0B,EAAgB/K,EAAKO,cACtCmB,GAAa,mBAEjB2E,IACAyE,EAAe9K,EAAKwK,yBAExB,MAAMQ,EAAYpT,EAAkB,WAAY,CAAEqT,SAAU,OACtDC,EAAcF,EAAUG,qBAAqB,SAAS,GAC5DD,EAAY7S,aAAa,aAAc2H,EAAKzD,KAAKhH,eAC7CyK,EAAK1D,OAAO+C,SACZ6L,EAAY7S,aAAa,MAAO2H,EAAK1D,OAAO+C,QAAQhN,cAAc2R,YAElEhE,EAAK1D,OAAOmD,UACZyL,EAAY7S,aAAa,MAAO2H,EAAK1D,OAAOmD,QAAQpN,cAAc2R,YAClEkH,EAAY1b,WACNwQ,EAAK1D,OAAO+C,SACVW,EAAK1D,OAAO+C,QAAQhN,gBAAkB2N,EAAK1D,OAAOmD,QAAQpN,eAEtE,MAAMkO,EAAexJ,EAAc,MAAO,2BAK1C,OAJAwJ,EAAajI,YAAYwS,GACzBvK,EAAajI,YAAY0S,GACzBH,EAAiBvS,YAAYiI,GAC7BqK,EAAUtS,YAAYuS,GACf,CACHD,YACAM,cACAJ,gBAGR,SAASM,IACL/T,EAAU2I,EAAKuF,UACfvF,EAAKuF,SAASjN,YAAY0H,EAAKqL,cAC3BrL,EAAK1D,OAAOnI,aACZ6L,EAAKsL,aAAe,GACpBtL,EAAKuL,cAAgB,IAEzB,IAAK,IAAI/P,EAAIwE,EAAK1D,OAAOnI,WAAYqH,KAAM,CACvC,MAAMC,EAAQkP,IACd3K,EAAKsL,aAAa/G,KAAK9I,EAAMyP,aAC7BlL,EAAKuL,cAAchH,KAAK9I,EAAMqP,cAC9B9K,EAAKuF,SAASjN,YAAYmD,EAAMmP,WAEpC5K,EAAKuF,SAASjN,YAAY0H,EAAKwL,cAEnC,SAASzE,KA6BL,OA5BA/G,EAAKuF,SAAWxO,EAAc,MAAO,oBACrCiJ,EAAKsL,aAAe,GACpBtL,EAAKuL,cAAgB,GACrBvL,EAAKqL,aAAetU,EAAc,OAAQ,wBAC1CiJ,EAAKqL,aAAaZ,UAAYzK,EAAK1D,OAAOrI,UAC1C+L,EAAKwL,aAAezU,EAAc,OAAQ,wBAC1CiJ,EAAKwL,aAAaf,UAAYzK,EAAK1D,OAAOvJ,UAC1CqY,IACAnL,OAAOwL,eAAezL,EAAM,sBAAuB,CAC/C0L,IAAK,IAAM1L,EAAK2L,qBAChB,IAAI7V,GACIkK,EAAK2L,uBAAyB7V,IAC9BW,EAAYuJ,EAAKqL,aAAc,qBAAsBvV,GACrDkK,EAAK2L,qBAAuB7V,MAIxCmK,OAAOwL,eAAezL,EAAM,sBAAuB,CAC/C0L,IAAK,IAAM1L,EAAK4L,qBAChB,IAAI9V,GACIkK,EAAK4L,uBAAyB9V,IAC9BW,EAAYuJ,EAAKwL,aAAc,qBAAsB1V,GACrDkK,EAAK4L,qBAAuB9V,MAIxCkK,EAAK6L,mBAAqB7L,EAAKsL,aAAa,GAC5CQ,KACO9L,EAAKuF,SAEhB,SAAS8B,KACLrH,EAAK8B,kBAAkBlL,UAAUC,IAAI,WACjCmJ,EAAK1D,OAAOtJ,YACZgN,EAAK8B,kBAAkBlL,UAAUC,IAAI,cACzC,MAAM8L,EAAWxD,EAAgBa,EAAK1D,QACtC0D,EAAK0F,cAAgB3O,EAAc,MAAO,kBAC1CiJ,EAAK0F,cAAcoB,UAAY,EAC/B,MAAMiF,EAAYhV,EAAc,OAAQ,2BAA4B,KAC9DiV,EAAYpU,EAAkB,iBAAkB,CAClD,aAAcoI,EAAKzD,KAAK9G,gBAE5BuK,EAAKoD,YAAc4I,EAAUb,qBAAqB,SAAS,GAC3D,MAAMc,EAAcrU,EAAkB,mBAAoB,CACtD,aAAcoI,EAAKzD,KAAK7G,kBAyB5B,GAvBAsK,EAAKqD,cAAgB4I,EAAYd,qBAAqB,SAAS,GAC/DnL,EAAKoD,YAAY0D,SAAW9G,EAAKqD,cAAcyD,UAAY,EAC3D9G,EAAKoD,YAAYhU,MAAQuG,EAAIqK,EAAKqB,sBAC5BrB,EAAKqB,sBAAsBxH,WAC3BmG,EAAK1D,OAAOjI,UACRsO,EAASvD,MACT+D,EAAcR,EAASvD,QACjCY,EAAKqD,cAAcjU,MAAQuG,EAAIqK,EAAKqB,sBAC9BrB,EAAKqB,sBAAsBlF,aAC3BwG,EAASvH,SACf4E,EAAKoD,YAAY/K,aAAa,OAAQ2H,EAAK1D,OAAO9J,cAAcwR,YAChEhE,EAAKqD,cAAchL,aAAa,OAAQ2H,EAAK1D,OAAO1J,gBAAgBoR,YACpEhE,EAAKoD,YAAY/K,aAAa,MAAO2H,EAAK1D,OAAOjI,UAAY,IAAM,KACnE2L,EAAKoD,YAAY/K,aAAa,MAAO2H,EAAK1D,OAAOjI,UAAY,KAAO,MACpE2L,EAAKoD,YAAY/K,aAAa,YAAa,KAC3C2H,EAAKqD,cAAchL,aAAa,MAAO,KACvC2H,EAAKqD,cAAchL,aAAa,MAAO,MACvC2H,EAAKqD,cAAchL,aAAa,YAAa,KAC7C2H,EAAK0F,cAAcpN,YAAY0T,GAC/BhM,EAAK0F,cAAcpN,YAAYyT,GAC/B/L,EAAK0F,cAAcpN,YAAY2T,GAC3BjM,EAAK1D,OAAOjI,WACZ2L,EAAK0F,cAAc9O,UAAUC,IAAI,YACjCmJ,EAAK1D,OAAOjL,cAAe,CAC3B2O,EAAK0F,cAAc9O,UAAUC,IAAI,cACjC,MAAMqV,EAActU,EAAkB,oBACtCoI,EAAKsD,cAAgB4I,EAAYf,qBAAqB,SAAS,GAC/DnL,EAAKsD,cAAclU,MAAQuG,EAAIqK,EAAKqB,sBAC9BrB,EAAKqB,sBAAsBnF,aAC3ByG,EAASxI,SACf6F,EAAKsD,cAAcjL,aAAa,OAAQ2H,EAAKqD,cAAc8I,aAAa,SACxEnM,EAAKsD,cAAcjL,aAAa,MAAO,KACvC2H,EAAKsD,cAAcjL,aAAa,MAAO,MACvC2H,EAAKsD,cAAcjL,aAAa,YAAa,KAC7C2H,EAAK0F,cAAcpN,YAAYvB,EAAc,OAAQ,2BAA4B,MACjFiJ,EAAK0F,cAAcpN,YAAY4T,GAUnC,OARKlM,EAAK1D,OAAOjI,YACb2L,EAAK1K,KAAOyB,EAAc,OAAQ,kBAAmBiJ,EAAKzD,KAAKjH,KAAK,GAAK0K,EAAKqB,sBACxErB,EAAKoD,YAAYhU,MACjB4Q,EAAK1D,OAAOtL,aAAe,MACjCgP,EAAK1K,KAAK8W,MAAQpM,EAAKzD,KAAKlH,YAC5B2K,EAAK1K,KAAKwR,UAAY,EACtB9G,EAAK0F,cAAcpN,YAAY0H,EAAK1K,OAEjC0K,EAAK0F,cAEhB,SAASyB,KACAnH,EAAKqM,iBAGNhV,EAAU2I,EAAKqM,kBAFfrM,EAAKqM,iBAAmBtV,EAAc,MAAO,sBAGjD,IAAK,IAAIoE,EAAI6E,EAAK1D,OAAOnI,WAAYgH,KAAM,CACvC,MAAMyP,EAAY7T,EAAc,MAAO,8BACvCiJ,EAAKqM,iBAAiB/T,YAAYsS,GAGtC,OADA0B,KACOtM,EAAKqM,iBAEhB,SAASC,KACL,IAAKtM,EAAKqM,iBACN,OAEJ,MAAMvX,EAAiBkL,EAAKzD,KAAKzH,eACjC,IAAIL,EAAW,IAAIuL,EAAKzD,KAAK9H,SAASC,WAClCI,EAAiB,GAAKA,EAAiBL,EAASvF,SAChDuF,EAAW,IACJA,EAAS8X,OAAOzX,EAAgBL,EAASvF,WACzCuF,EAAS8X,OAAO,EAAGzX,KAG9B,IAAK,IAAIqG,EAAI6E,EAAK1D,OAAOnI,WAAYgH,KACjC6E,EAAKqM,iBAAiBzD,SAASzN,GAAGsP,UAAY,qDAEhDhW,EAASsI,KAAK,oEAKpB,SAASkK,KACLjH,EAAK8B,kBAAkBlL,UAAUC,IAAI,YACrC,MAAM0L,EAAcxL,EAAc,MAAO,yBACzCwL,EAAYjK,YAAYvB,EAAc,OAAQ,oBAAqBiJ,EAAKzD,KAAKpH,mBAC7E,MAAMb,EAAcyC,EAAc,MAAO,mBAEzC,OADAwL,EAAYjK,YAAYhE,GACjB,CACHiO,cACAjO,eAGR,SAAS+U,GAAYja,EAAOod,GAAW,GACnC,MAAMzI,EAAQyI,EAAWpd,EAAQA,EAAQ4Q,EAAKO,aACzCwD,EAAQ,IAAkC,IAA7B/D,EAAKyM,qBAClB1I,EAAQ,IAAkC,IAA7B/D,EAAK0M,sBAEvB1M,EAAKO,cAAgBwD,GACjB/D,EAAKO,aAAe,GAAKP,EAAKO,aAAe,MAC7CP,EAAKS,aAAeT,EAAKO,aAAe,GAAK,GAAK,EAClDP,EAAKO,cAAgBP,EAAKO,aAAe,IAAM,GAC/CmB,GAAa,gBACb2E,KAEJe,IACA1F,GAAa,iBACboK,MAEJ,SAASa,GAAMC,GAAqB,EAAMC,GAAY,GAYlD,GAXA7M,EAAKW,MAAMvR,MAAQ,QACGD,IAAlB6Q,EAAK7P,WACL6P,EAAK7P,SAASf,MAAQ,SACDD,IAArB6Q,EAAK8M,cACL9M,EAAK8M,YAAY1d,MAAQ,IAC7B4Q,EAAKmB,cAAgB,GACrBnB,EAAKqB,2BAAwBlS,GACX,IAAd0d,IACA7M,EAAKS,YAAcT,EAAK+M,aAAa1a,cACrC2N,EAAKO,aAAeP,EAAK+M,aAAa9Q,aAEX,IAA3B+D,EAAK1D,OAAOhL,WAAqB,CACjC,MAAM,MAAE8N,EAAK,QAAEhE,EAAO,QAAEjB,GAAYgF,EAAgBa,EAAK1D,QACzDtK,EAASoN,EAAOhE,EAASjB,GAE7B6F,EAAKsG,SACDsG,GACAlL,GAAa,YAErB,SAASsL,KACLhN,EAAKY,QAAS,EACTZ,EAAKxD,gBACyBrN,IAA3B6Q,EAAK8B,mBACL9B,EAAK8B,kBAAkBlL,UAAUE,OAAO,aAExB3H,IAAhB6Q,EAAK+C,QACL/C,EAAK+C,OAAOnM,UAAUE,OAAO,WAGrC4K,GAAa,WAEjB,SAASuL,UACe9d,IAAhB6Q,EAAK1D,QACLoF,GAAa,aACjB,IAAK,IAAIvG,EAAI6E,EAAKsE,UAAUpV,OAAQiM,KAChC6E,EAAKsE,UAAUnJ,GAAGrE,SAGtB,GADAkJ,EAAKsE,UAAY,GACbtE,EAAK8M,YACD9M,EAAK8M,YAAYnV,YACjBqI,EAAK8M,YAAYnV,WAAWH,YAAYwI,EAAK8M,aACjD9M,EAAK8M,iBAAc3d,OAElB,GAAI6Q,EAAK8B,mBAAqB9B,EAAK8B,kBAAkBnK,WACtD,GAAIqI,EAAK1D,OAAOlI,QAAU4L,EAAK8B,kBAAkBnK,WAAY,CACzD,MAAMI,EAAUiI,EAAK8B,kBAAkBnK,WAEvC,GADAI,EAAQmV,WAAanV,EAAQP,YAAYO,EAAQmV,WAC7CnV,EAAQJ,WAAY,CACpB,MAAOI,EAAQR,WACXQ,EAAQJ,WAAW8P,aAAa1P,EAAQR,WAAYQ,GACxDA,EAAQJ,WAAWH,YAAYO,SAInCiI,EAAK8B,kBAAkBnK,WAAWH,YAAYwI,EAAK8B,mBAEvD9B,EAAK7P,WACL6P,EAAKW,MAAMxI,KAAO,OACd6H,EAAK7P,SAASwH,YACdqI,EAAK7P,SAASwH,WAAWH,YAAYwI,EAAK7P,iBACvC6P,EAAK7P,UAEZ6P,EAAKW,QACLX,EAAKW,MAAMxI,KAAO6H,EAAKW,MAAMwM,MAC7BnN,EAAKW,MAAM/J,UAAUE,OAAO,mBAC5BkJ,EAAKW,MAAMyM,gBAAgB,aAE/B,CACI,iBACA,wBACA,sBACA,sBACA,uBACA,uBACA,WACA,SACA,mBACA,iBACA,iBACA,OACA,gBACA,SACA,mBACA,iBACA,aACA,WACA,gBACA,oBACA,mBACA,eACA,eACA,0BACA,sBACA,qBACA,yBACA,mBACA,UACF/O,QAASgP,IACP,WACWrN,EAAKqN,GAEhB,MAAO/S,OAGf,SAASgT,GAAe5W,GACpB,SAAIsJ,EAAK1D,OAAOiL,WAAYvH,EAAK1D,OAAOiL,SAASf,SAAS9P,KAEnDsJ,EAAK8B,kBAAkB0E,SAAS9P,GAE3C,SAAS0O,GAAclO,GACnB,GAAI8I,EAAKY,SAAWZ,EAAK1D,OAAO5J,OAAQ,CACpC,MAAMoR,EAAcvL,EAAerB,GAC7BqW,EAAoBD,GAAexJ,GACnC0J,EAAU1J,IAAgB9D,EAAKW,OACjCmD,IAAgB9D,EAAK7P,UACrB6P,EAAKF,QAAQ0G,SAAS1C,IACrB5M,EAAEwB,MACCxB,EAAEwB,KAAKjI,WACLyG,EAAEwB,KAAKjI,QAAQuP,EAAKW,SACjBzJ,EAAEwB,KAAKjI,QAAQuP,EAAK7P,WAC3Bsd,EAAuB,SAAXvW,EAAEiB,KACdqV,GACEtW,EAAEwW,gBACDJ,GAAepW,EAAEwW,gBACnBF,IACED,IACAD,GAAepW,EAAEwW,eACpBC,GAAa3N,EAAK1D,OAAO7J,qBAAqBmb,KAAMlX,GAASA,EAAK8P,SAAS1C,IAC7E2J,GAAaE,SACcxe,IAAvB6Q,EAAK0F,oBACkBvW,IAAvB6Q,EAAKqD,oBACgBlU,IAArB6Q,EAAKoD,aACgB,KAArBpD,EAAKW,MAAMvR,YACUD,IAArB6Q,EAAKW,MAAMvR,OACXqT,IAEJzC,EAAKgN,QACDhN,EAAK1D,QACgB,UAArB0D,EAAK1D,OAAOzJ,MACkB,IAA9BmN,EAAKmB,cAAcjS,SACnB8Q,EAAK2M,OAAM,GACX3M,EAAKsG,YAKrB,SAASrC,GAAW4J,GAChB,IAAKA,GACA7N,EAAK1D,OAAO+C,SAAWwO,EAAU7N,EAAK1D,OAAO+C,QAAQhN,eACrD2N,EAAK1D,OAAOmD,SAAWoO,EAAU7N,EAAK1D,OAAOmD,QAAQpN,cACtD,OACJ,MAAMyb,EAAaD,EAASE,EAAY/N,EAAKS,cAAgBqN,EAC7D9N,EAAKS,YAAcqN,GAAc9N,EAAKS,YAClCT,EAAK1D,OAAOmD,SACZO,EAAKS,cAAgBT,EAAK1D,OAAOmD,QAAQpN,cACzC2N,EAAKO,aAAejO,KAAKyM,IAAIiB,EAAK1D,OAAOmD,QAAQxD,WAAY+D,EAAKO,cAE7DP,EAAK1D,OAAO+C,SACjBW,EAAKS,cAAgBT,EAAK1D,OAAO+C,QAAQhN,gBACzC2N,EAAKO,aAAejO,KAAK0M,IAAIgB,EAAK1D,OAAO+C,QAAQpD,WAAY+D,EAAKO,eAElEwN,IACA/N,EAAKsG,SACL5E,GAAa,gBACb2E,KAGR,SAASyB,GAAUjW,EAAMqL,GAAW,GAChC,IAAI8Q,EACJ,MAAMC,EAAcjO,EAAKtC,UAAU7L,OAAM1C,EAAW+N,GACpD,GAAK8C,EAAK1D,OAAO+C,SACb4O,GACAzP,EAAayP,EAAajO,EAAK1D,OAAO+C,aAAsBlQ,IAAb+N,EAAyBA,GAAY8C,EAAKyD,gBAAkB,GAC1GzD,EAAK1D,OAAOmD,SACTwO,GACAzP,EAAayP,EAAajO,EAAK1D,OAAOmD,aAAsBtQ,IAAb+N,EAAyBA,GAAY8C,EAAK4D,gBAAkB,EAC/G,OAAO,EACX,IAAK5D,EAAK1D,OAAO4R,QAAyC,IAA/BlO,EAAK1D,OAAOnL,QAAQjC,OAC3C,OAAO,EACX,QAAoBC,IAAhB8e,EACA,OAAO,EACX,MAAMnY,IAASkK,EAAK1D,OAAO4R,OAAQC,EAAsC,QAA7BH,EAAKhO,EAAK1D,OAAO4R,cAA2B,IAAPF,EAAgBA,EAAKhO,EAAK1D,OAAOnL,QAClH,IAAK,IAAW8J,EAAPE,EAAI,EAAMA,EAAIgT,EAAMjf,OAAQiM,IAAK,CAEtC,GADAF,EAAIkT,EAAMhT,GACO,oBAANF,GACPA,EAAEgT,GACF,OAAOnY,EACN,GAAImF,aAAanJ,WACF3C,IAAhB8e,GACAhT,EAAElJ,YAAckc,EAAYlc,UAC5B,OAAO+D,EACN,GAAiB,kBAANmF,EAAgB,CAC5B,MAAMmT,EAASpO,EAAKtC,UAAUzC,OAAG9L,GAAW,GAC5C,OAAOif,GAAUA,EAAOrc,YAAckc,EAAYlc,UAC5C+D,GACCA,EAEN,GAAiB,kBAANmF,QACI9L,IAAhB8e,GACAhT,EAAEoT,MACFpT,EAAEqT,IACFL,EAAYlc,WAAakJ,EAAEoT,KAAKtc,WAChCkc,EAAYlc,WAAakJ,EAAEqT,GAAGvc,UAC9B,OAAO+D,EAEf,OAAQA,EAEZ,SAAS2T,GAAS/S,GACd,YAA2BvH,IAAvB6Q,EAAKkC,iBACyC,IAAtCxL,EAAKC,UAAUlG,QAAQ,YACuB,IAAlDiG,EAAKC,UAAUlG,QAAQ,uBACvBuP,EAAKkC,cAAcsE,SAAS9P,IAGxC,SAASoP,GAAO5O,GACZ,MAAMsW,EAAUtW,EAAEyB,SAAWqH,EAAK+C,QAC9ByK,KACCxN,EAAKmB,cAAcjS,OAAS,GAAK8Q,EAAK+C,OAAO3T,MAAMF,OAAS,IAC3DgI,EAAEwW,eAAiBJ,GAAepW,EAAEwW,gBACtC1N,EAAK/N,QAAQ+N,EAAK+C,OAAO3T,OAAO,EAAM8H,EAAEyB,SAAWqH,EAAK7P,SAClD6P,EAAK1D,OAAOpM,UACZ8P,EAAK1D,OAAOvL,YAG1B,SAASuC,GAAU4D,GACf,MAAM4M,EAAcvL,EAAerB,GAC7BsW,EAAUxN,EAAK1D,OAAO/H,KACtBuL,EAAQ0G,SAAS1C,GACjBA,IAAgB9D,EAAK+C,OACrB/S,EAAagQ,EAAK1D,OAAOtM,WACzBue,EAAevO,EAAKY,UAAY5Q,IAAewd,GAC/CgB,EAAqBxO,EAAK1D,OAAO5J,QAAU8a,IAAYxd,EAC7D,GAAkB,KAAdkH,EAAEuX,SAAkBjB,EAAS,CAC7B,GAAIxd,EAIA,OAHAgQ,EAAK/N,QAAQ+N,EAAK+C,OAAO3T,OAAO,EAAM0U,IAAgB9D,EAAK7P,SACrD6P,EAAK1D,OAAOpM,UACZ8P,EAAK1D,OAAOvL,YACX+S,EAAY4K,OAGnB1O,EAAKsF,YAGR,GAAIgI,GAAexJ,IACpByK,GACAC,EAAoB,CACpB,MAAMG,IAAc3O,EAAK0F,eACrB1F,EAAK0F,cAAcc,SAAS1C,GAChC,OAAQ5M,EAAEuX,SACN,KAAK,GACGE,GACAzX,EAAE0X,iBACFnM,IACAoM,MAGApJ,GAAWvO,GACf,MACJ,KAAK,GACDA,EAAE0X,iBACFC,KACA,MACJ,KAAK,EACL,KAAK,GACGrB,IAAYxN,EAAK1D,OAAOtM,aACxBkH,EAAE0X,iBACF5O,EAAK2M,SAET,MACJ,KAAK,GACL,KAAK,GACD,GAAKgC,GAAcnB,EAeVxN,EAAKoD,aACVpD,EAAKoD,YAAYoF,aAdjB,GADAtR,EAAE0X,sBACyBzf,IAAvB6Q,EAAKkC,iBACW,IAAflS,GACImH,SAASuS,eAAiBD,GAAStS,SAASuS,gBAAkB,CACnE,MAAM3F,EAAsB,KAAd7M,EAAEuX,QAAiB,GAAK,EACjCvX,EAAE4X,SAGH5X,EAAE6X,kBACF1F,GAAYtF,GACZuF,EAAWb,EAAqB,GAAI,IAJpCa,OAAWna,EAAW4U,GAUlC,MACJ,KAAK,GACL,KAAK,GACD7M,EAAE0X,iBACF,MAAM7K,EAAsB,KAAd7M,EAAEuX,QAAiB,GAAK,EACjCzO,EAAKkC,oBACa/S,IAAnB2U,EAAYkE,IACZlE,IAAgB9D,EAAKW,OACrBmD,IAAgB9D,EAAK7P,SACjB+G,EAAE4X,SACF5X,EAAE6X,kBACF9K,GAAWjE,EAAKS,YAAcsD,GAC9BuF,EAAWb,EAAqB,GAAI,IAE9BkG,GACNrF,OAAWna,EAAmB,EAAR4U,GAErBD,IAAgB9D,EAAK6L,mBAC1B5H,GAAWjE,EAAKS,YAAcsD,GAEzB/D,EAAK1D,OAAOhL,cACZqd,GAAa3O,EAAKoD,aACnBpD,EAAKoD,YAAYoF,QACrB/F,EAAWvL,GACX8I,EAAKiD,oBAET,MACJ,KAAK,EACD,GAAI0L,EAAW,CACX,MAAMK,EAAQ,CACVhP,EAAKoD,YACLpD,EAAKqD,cACLrD,EAAKsD,cACLtD,EAAK1K,MAEJ2Z,OAAOjP,EAAKkP,gBACZC,OAAQC,GAAMA,GACbjU,EAAI6T,EAAMve,QAAQqT,GACxB,IAAW,IAAP3I,EAAU,CACV,MAAMxC,EAASqW,EAAM7T,GAAKjE,EAAEmY,UAAY,EAAI,IAC5CnY,EAAE0X,kBACDjW,GAAUqH,EAAK+C,QAAQyF,cAGtBxI,EAAK1D,OAAOtJ,YAClBgN,EAAKkC,eACLlC,EAAKkC,cAAcsE,SAAS1C,IAC5B5M,EAAEmY,WACFnY,EAAE0X,iBACF5O,EAAK+C,OAAOyF,SAEhB,MACJ,QACI,OAGZ,QAAkBrZ,IAAd6Q,EAAK1K,MAAsBwO,IAAgB9D,EAAK1K,KAChD,OAAQ4B,EAAElI,KACN,KAAKgR,EAAKzD,KAAKjH,KAAK,GAAGga,OAAO,GAC9B,KAAKtP,EAAKzD,KAAKjH,KAAK,GAAGga,OAAO,GAAGC,cAC7BvP,EAAK1K,KAAK8B,YAAc4I,EAAKzD,KAAKjH,KAAK,GACvC0N,IACA1B,KACA,MACJ,KAAKtB,EAAKzD,KAAKjH,KAAK,GAAGga,OAAO,GAC9B,KAAKtP,EAAKzD,KAAKjH,KAAK,GAAGga,OAAO,GAAGC,cAC7BvP,EAAK1K,KAAK8B,YAAc4I,EAAKzD,KAAKjH,KAAK,GACvC0N,IACA1B,KACA,OAGRkM,GAAWF,GAAexJ,KAC1BpC,GAAa,YAAaxK,GAGlC,SAAS+N,GAAYvO,GACjB,GAAkC,IAA9BsJ,EAAKmB,cAAcjS,QAClBwH,KACKA,EAAKE,UAAU4P,SAAS,kBACtB9P,EAAKE,UAAU4P,SAAS,uBAChC,OACJ,MAAMgJ,EAAY9Y,EACZA,EAAKyC,QAAQpH,UACbiO,EAAKoC,KAAKqN,kBAAkBtW,QAAQpH,UAAW2d,EAAc1P,EAAKtC,UAAUsC,EAAKmB,cAAc,QAAIhS,GAAW,GAAM4C,UAAW4d,EAAiBrd,KAAKyM,IAAIyQ,EAAWxP,EAAKmB,cAAc,GAAGpP,WAAY6d,EAAetd,KAAK0M,IAAIwQ,EAAWxP,EAAKmB,cAAc,GAAGpP,WACrQ,IAAI8d,GAAmB,EACnBC,EAAW,EAAGC,EAAW,EAC7B,IAAK,IAAI7Z,EAAIyZ,EAAgBzZ,EAAI0Z,EAAc1Z,GAAK+I,EAASC,IACpD4I,GAAU,IAAIhW,KAAKoE,IAAI,KACxB2Z,EACIA,GAAqB3Z,EAAIyZ,GAAkBzZ,EAAI0Z,EAC/C1Z,EAAIwZ,KAAiBI,GAAY5Z,EAAI4Z,GACrCA,EAAW5Z,EACNA,EAAIwZ,KAAiBK,GAAY7Z,EAAI6Z,KAC1CA,EAAW7Z,IAGvB,IAAK,IAAIsF,EAAI,EAAGA,EAAIwE,EAAK1D,OAAOnI,WAAYqH,IAAK,CAC7C,MAAMC,EAAQuE,EAAKkC,cAAc0G,SAASpN,GAC1C,IAAK,IAAIL,EAAI,EAAGI,EAAIE,EAAMmN,SAAS1Z,OAAQiM,EAAII,EAAGJ,IAAK,CACnD,MAAM6U,EAAUvU,EAAMmN,SAASzN,GAAItJ,EAAOme,EAAQ7W,QAC5C8W,EAAYpe,EAAKE,UACjBme,EAAcJ,EAAW,GAAKG,EAAYH,GAC3CC,EAAW,GAAKE,EAAYF,EAC7BG,GACAF,EAAQpZ,UAAUC,IAAI,cACtB,CAAC,UAAW,aAAc,YAAYwH,QAASxB,IAC3CmT,EAAQpZ,UAAUE,OAAO+F,MAIxBgT,IAAqBK,IAE9B,CAAC,aAAc,UAAW,WAAY,cAAc7R,QAASxB,IACzDmT,EAAQpZ,UAAUE,OAAO+F,UAEhB1N,IAATuH,IACAA,EAAKE,UAAUC,IAAI2Y,GAAaxP,EAAKmB,cAAc,GAAGpP,UAChD,aACA,YACF2d,EAAcF,GAAaS,IAAcP,EACzCM,EAAQpZ,UAAUC,IAAI,cACjB6Y,EAAcF,GAAaS,IAAcP,GAC9CM,EAAQpZ,UAAUC,IAAI,YACtBoZ,GAAaH,IACC,IAAbC,GAAkBE,GAAaF,IAChCpR,EAAUsR,EAAWP,EAAaF,IAClCQ,EAAQpZ,UAAUC,IAAI,eAK1C,SAASmO,MACDhF,EAAKY,QAAWZ,EAAK1D,OAAOlI,QAAW4L,EAAK1D,OAAO5J,QACnD+O,KAER,SAAS6D,GAAKpO,EAAGlD,EAAkBgM,EAAKmQ,kBACpC,IAAsB,IAAlBnQ,EAAKxD,SAAmB,CACxB,GAAItF,EAAG,CACHA,EAAE0X,iBACF,MAAM9K,EAAcvL,EAAerB,GAC/B4M,GACAA,EAAY4K,OAQpB,YALyBvf,IAArB6Q,EAAK8M,cACL9M,EAAK8M,YAAYtE,QACjBxI,EAAK8M,YAAYsD,cAErB1O,GAAa,UAGZ,GAAI1B,EAAK+C,OAAOvT,UAAYwQ,EAAK1D,OAAO5J,OACzC,OAEJ,MAAM2d,EAAUrQ,EAAKY,OACrBZ,EAAKY,QAAS,EACTyP,IACDrQ,EAAK8B,kBAAkBlL,UAAUC,IAAI,QACrCmJ,EAAK+C,OAAOnM,UAAUC,IAAI,UAC1B6K,GAAa,UACbD,GAAiBzN,KAEU,IAA3BgM,EAAK1D,OAAOhL,aAAkD,IAA3B0O,EAAK1D,OAAOtJ,cAChB,IAA3BgN,EAAK1D,OAAOtM,iBACLb,IAAN+H,GACI8I,EAAK0F,cAAcc,SAAStP,EAAEwW,gBACnCtX,WAAW,IAAM4J,EAAKoD,YAAYwC,SAAU,KAIxD,SAAS0K,GAAiBnY,GACtB,OAAQtG,IACJ,MAAMsH,EAAW6G,EAAK1D,OAAO,IAAInE,SAAc6H,EAAKtC,UAAU7L,EAAMmO,EAAK1D,OAAOvL,YAC1Ewf,EAAiBvQ,EAAK1D,OAAO,IAAa,QAATnE,EAAiB,MAAQ,kBAChDhJ,IAAZgK,IACA6G,EAAc,QAAT7H,EAAiB,iBAAmB,kBACrCgB,EAAQU,WAAa,GACjBV,EAAQgD,aAAe,GACvBhD,EAAQ+C,aAAe,GAE/B8D,EAAKmB,gBACLnB,EAAKmB,cAAgBnB,EAAKmB,cAAcgO,OAAQlU,GAAM6M,GAAU7M,IAC3D+E,EAAKmB,cAAcjS,QAAmB,QAATiJ,GAC9BiJ,EAAiBjI,GACrBmI,MAEAtB,EAAKkC,gBACLoE,UACgBnX,IAAZgK,EACA6G,EAAK6L,mBAAmB1T,GAAQgB,EAAQ9G,cAAc2R,WAEtDhE,EAAK6L,mBAAmBuB,gBAAgBjV,GAC5C6H,EAAK6L,mBAAmBrc,WAClB+gB,QACcphB,IAAZgK,GACAoX,EAAele,gBAAkB8G,EAAQ9G,gBAI7D,SAASwO,KACL,MAAM2P,EAAW,CACb,OACA,cACA,aACA,sBACA,aACA,YACA,aACA,aACA,WACA,wBACA,SACA,SACA,gBACA,iBAEEC,EAAaxQ,OAAOC,OAAOD,OAAOC,OAAO,GAAIwQ,KAAKC,MAAMD,KAAKE,UAAU9Q,EAAQ+Q,SAAW,MAAO9Q,GACjG+Q,EAAU,GAChB9Q,EAAK1D,OAAOoB,UAAY+S,EAAW/S,UACnCsC,EAAK1D,OAAOK,WAAa8T,EAAW9T,WACpCsD,OAAOwL,eAAezL,EAAK1D,OAAQ,SAAU,CACzCoP,IAAK,IAAM1L,EAAK1D,OAAOyU,QACvBC,IAAMC,IACFjR,EAAK1D,OAAOyU,QAAUG,GAAeD,MAG7ChR,OAAOwL,eAAezL,EAAK1D,OAAQ,UAAW,CAC1CoP,IAAK,IAAM1L,EAAK1D,OAAOvM,SACvBihB,IAAMC,IACFjR,EAAK1D,OAAOvM,SAAWmhB,GAAeD,MAG9C,MAAME,EAA+B,SAApBV,EAAW5d,KAC5B,IAAK4d,EAAW1f,aAAe0f,EAAWnf,YAAc6f,GAAW,CAC/D,MAAMC,EAAoBjR,EAAUC,cAAcrP,YAAc,EAAeA,WAC/E+f,EAAQ/f,WACJ0f,EAAWzd,YAAcme,EACnB,OAASV,EAAWpf,cAAgB,KAAO,IAC3C+f,EAAoB,QAAUX,EAAWpf,cAAgB,KAAO,IAE9E,GAAIof,EAAWtgB,WACVsgB,EAAWnf,YAAc6f,KACzBV,EAAWvgB,UAAW,CACvB,MAAMmhB,EAAmBlR,EAAUC,cAAclQ,WAAa,EAAeA,UAC7E4gB,EAAQ5gB,UACJugB,EAAWzd,YAAcme,EACnB,OAASV,EAAWpf,cAAgB,OAAS,MAC7CggB,EAAmB,OAAOZ,EAAWpf,cAAgB,KAAO,OAE1E4O,OAAOwL,eAAezL,EAAK1D,OAAQ,UAAW,CAC1CoP,IAAK,IAAM1L,EAAK1D,OAAOgV,SACvBN,IAAKV,GAAiB,SAE1BrQ,OAAOwL,eAAezL,EAAK1D,OAAQ,UAAW,CAC1CoP,IAAK,IAAM1L,EAAK1D,OAAOiV,SACvBP,IAAKV,GAAiB,SAE1B,MAAMkB,EAAoBrZ,GAAUiG,IAChC4B,EAAK1D,OAAgB,QAATnE,EAAiB,WAAa,YAAc6H,EAAKtC,UAAUU,EAAK,UAEhF6B,OAAOwL,eAAezL,EAAK1D,OAAQ,UAAW,CAC1CoP,IAAK,IAAM1L,EAAK1D,OAAOmV,SACvBT,IAAKQ,EAAiB,SAE1BvR,OAAOwL,eAAezL,EAAK1D,OAAQ,UAAW,CAC1CoP,IAAK,IAAM1L,EAAK1D,OAAOoV,SACvBV,IAAKQ,EAAiB,SAEF,SAApBf,EAAW5d,OACXmN,EAAK1D,OAAOtJ,YAAa,EACzBgN,EAAK1D,OAAOhL,YAAa,GAE7B2O,OAAOC,OAAOF,EAAK1D,OAAQwU,EAASL,GACpC,IAAK,IAAItV,EAAI,EAAGA,EAAIqV,EAASthB,OAAQiM,IACjC6E,EAAK1D,OAAOkU,EAASrV,KACY,IAA7B6E,EAAK1D,OAAOkU,EAASrV,KACY,SAA7B6E,EAAK1D,OAAOkU,EAASrV,IACjCrL,EAAMqf,OAAQwC,QAA+BxiB,IAAtB6Q,EAAK1D,OAAOqV,IAAqBtT,QAASsT,IAC7D3R,EAAK1D,OAAOqV,GAAQrb,EAAS0J,EAAK1D,OAAOqV,IAAS,IAAIhiB,IAAIgS,KAE9D3B,EAAKxD,UACAwD,EAAK1D,OAAOlL,gBACR4O,EAAK1D,OAAO5J,QACQ,WAArBsN,EAAK1D,OAAOzJ,OACXmN,EAAK1D,OAAOnL,QAAQjC,SACpB8Q,EAAK1D,OAAO4R,SACZlO,EAAK1D,OAAOhI,aACb,iEAAiEyF,KAAKxJ,UAAUC,WACxF,IAAK,IAAI2K,EAAI,EAAGA,EAAI6E,EAAK1D,OAAOxI,QAAQ5E,OAAQiM,IAAK,CACjD,MAAMyW,EAAa5R,EAAK1D,OAAOxI,QAAQqH,GAAG6E,IAAS,GACnD,IAAK,MAAMhR,KAAO4iB,EACV9hB,EAAMW,QAAQzB,IAAQ,EACtBgR,EAAK1D,OAAOtN,GAAOsH,EAASsb,EAAW5iB,IAClCW,IAAIgS,GACJsN,OAAOjP,EAAK1D,OAAOtN,IAEQ,qBAApByhB,EAAWzhB,KACvBgR,EAAK1D,OAAOtN,GAAO4iB,EAAW5iB,IAGrCyhB,EAAWrgB,gBACZ4P,EAAK1D,OAAOlM,cACRyhB,KAAelb,UAAY,IAAMqJ,EAAK1D,OAAOlM,eAErDsR,GAAa,iBAEjB,SAASmQ,KACL,OAAO7R,EAAK1D,OAAO/H,KACbuL,EAAQgS,cAAc,gBACtBhS,EAEV,SAASgB,KAC6B,kBAAvBd,EAAK1D,OAAO3J,QAC4B,qBAAxCwN,EAAU4R,MAAM/R,EAAK1D,OAAO3J,SACnCqN,EAAK1D,OAAO/K,aAAa,IAAIgN,MAAM,6BAA6ByB,EAAK1D,OAAO3J,SAChFqN,EAAKzD,KAAO0D,OAAOC,OAAOD,OAAOC,OAAO,GAAIC,EAAU4R,MAAMC,SAAyC,kBAAvBhS,EAAK1D,OAAO3J,OACpFqN,EAAK1D,OAAO3J,OACW,YAAvBqN,EAAK1D,OAAO3J,OACRwN,EAAU4R,MAAM/R,EAAK1D,OAAO3J,aAC5BxD,GACV4M,EAAWnC,EAAI,IAAIoG,EAAKzD,KAAKjH,KAAK,MAAM0K,EAAKzD,KAAKjH,KAAK,MAAM0K,EAAKzD,KAAKjH,KAAK,GAAGia,iBAAiBvP,EAAKzD,KAAKjH,KAAK,GAAGia,iBAClH,MAAMkB,EAAaxQ,OAAOC,OAAOD,OAAOC,OAAO,GAAIH,GAAiB2Q,KAAKC,MAAMD,KAAKE,UAAU9Q,EAAQ+Q,SAAW,WACpF1hB,IAAzBshB,EAAWpc,gBAC2BlF,IAAtCgR,EAAUC,cAAc/L,YACxB2L,EAAK1D,OAAOjI,UAAY2L,EAAKzD,KAAKlI,WAEtC2L,EAAKrD,WAAaN,EAAoB2D,GACtCA,EAAKtC,UAAYV,EAAiB,CAAEV,OAAQ0D,EAAK1D,OAAQC,KAAMyD,EAAKzD,OAExE,SAASkF,GAAiBwQ,GACtB,GAAoC,oBAAzBjS,EAAK1D,OAAOvI,SACnB,YAAYiM,EAAK1D,OAAOvI,SAASiM,EAAMiS,GAE3C,QAA+B9iB,IAA3B6Q,EAAK8B,kBACL,OACJJ,GAAa,yBACb,MAAM1N,EAAkBie,GAAyBjS,EAAKmQ,iBAChD+B,EAAiB1b,MAAMmO,UAAUwN,OAAOvN,KAAK5E,EAAK8B,kBAAkB8G,SAAU,CAAEwJ,EAAKC,IAAUD,EAAMC,EAAMC,aAAe,GAAIC,EAAgBvS,EAAK8B,kBAAkBO,YAAamQ,EAAYxS,EAAK1D,OAAOvI,SAAS6I,MAAM,KAAM6V,EAAoBD,EAAU,GAAIE,EAAsBF,EAAUtjB,OAAS,EAAIsjB,EAAU,GAAK,KAAMG,EAAc3e,EAAgB4e,wBAAyBC,EAAqBviB,OAAOwiB,YAAcH,EAAYI,OAAQC,EAAkC,UAAtBP,GAC/a,UAAtBA,GACGI,EAAqBX,GACrBS,EAAYM,IAAMf,EACpBe,EAAM3iB,OAAO4iB,YACfP,EAAYM,KACVD,GAAgDd,EAAiB,EAArDle,EAAgBse,aAAe,GAGjD,GAFA7b,EAAYuJ,EAAK8B,kBAAmB,YAAakR,GACjDvc,EAAYuJ,EAAK8B,kBAAmB,cAAekR,GAC/ChT,EAAK1D,OAAO5J,OACZ,OACJ,IAAIygB,EAAO7iB,OAAO8iB,YAAcT,EAAYQ,KACxCE,GAAW,EACXC,GAAU,EACc,WAAxBZ,GACAS,IAASZ,EAAgBI,EAAYrQ,OAAS,EAC9C+Q,GAAW,GAEkB,UAAxBX,IACLS,GAAQZ,EAAgBI,EAAYrQ,MACpCgR,GAAU,GAEd7c,EAAYuJ,EAAK8B,kBAAmB,aAAcuR,IAAaC,GAC/D7c,EAAYuJ,EAAK8B,kBAAmB,cAAeuR,GACnD5c,EAAYuJ,EAAK8B,kBAAmB,aAAcwR,GAClD,MAAMC,EAAQjjB,OAAO6G,SAAS+N,KAAK7C,aAC9B/R,OAAO8iB,YAAcT,EAAYY,OAChCC,EAAYL,EAAOZ,EAAgBjiB,OAAO6G,SAAS+N,KAAK7C,YACxDoR,EAAaF,EAAQhB,EAAgBjiB,OAAO6G,SAAS+N,KAAK7C,YAEhE,GADA5L,EAAYuJ,EAAK8B,kBAAmB,YAAa0R,IAC7CxT,EAAK1D,OAAOlI,OAGhB,GADA4L,EAAK8B,kBAAkBC,MAAMkR,IAASA,EAAH,KAC9BO,EAIA,GAAKC,EAIL,CACD,MAAMC,EAAMC,KACZ,QAAYxkB,IAARukB,EACA,OACJ,MAAME,EAAYtjB,OAAO6G,SAAS+N,KAAK7C,YACjCwR,EAAavhB,KAAK0M,IAAI,EAAG4U,EAAY,EAAIrB,EAAgB,GACzDuB,EAAe,wCACfC,EAAc,uCACdC,EAAcN,EAAIO,SAAS/kB,OAC3BglB,EAAc,SAASvB,EAAYQ,sBACzC1c,EAAYuJ,EAAK8B,kBAAmB,aAAa,GACjDrL,EAAYuJ,EAAK8B,kBAAmB,cAAc,GAClD4R,EAAIS,WAAW,GAAGL,KAAgBC,IAAcG,IAAeF,GAC/DhU,EAAK8B,kBAAkBC,MAAMoR,KAAUU,EAAH,KACpC7T,EAAK8B,kBAAkBC,MAAMwR,MAAQ,YAjBrCvT,EAAK8B,kBAAkBC,MAAMoR,KAAO,OACpCnT,EAAK8B,kBAAkBC,MAAMwR,MAAWA,EAAH,UALrCvT,EAAK8B,kBAAkBC,MAAMoR,KAAUA,EAAH,KACpCnT,EAAK8B,kBAAkBC,MAAMwR,MAAQ,OAuB7C,SAASI,KACL,IAAIS,EAAgB,KACpB,IAAK,IAAIjZ,EAAI,EAAGA,EAAIhE,SAASkd,YAAYnlB,OAAQiM,IAAK,CAClD,MAAMmZ,EAAQnd,SAASkd,YAAYlZ,GACnC,IACImZ,EAAML,SAEV,MAAOziB,GACH,SAEJ4iB,EAAgBE,EAChB,MAEJ,OAAwB,MAAjBF,EAAwBA,EAAgBG,KAEnD,SAASA,KACL,MAAMxS,EAAQ5K,SAASJ,cAAc,SAErC,OADAI,SAASqd,KAAKlc,YAAYyJ,GACnBA,EAAMuS,MAEjB,SAAShO,KACDtG,EAAK1D,OAAOtJ,YAAcgN,EAAKxD,WAEnC6J,IACAyF,KACA1E,KAEJ,SAASyH,KACL7O,EAAK+C,OAAOyF,SACwC,IAAhDlY,OAAOC,UAAUC,UAAUC,QAAQ,cACJtB,IAA/BoB,UAAUkkB,iBACVre,WAAW4J,EAAKgN,MAAO,GAGvBhN,EAAKgN,QAGb,SAASvH,GAAWvO,GAChBA,EAAE0X,iBACF1X,EAAE6X,kBACF,MAAM2F,EAAgB/a,GAAQA,EAAI/C,WAC9B+C,EAAI/C,UAAU4P,SAAS,mBACtB7M,EAAI/C,UAAU4P,SAAS,wBACvB7M,EAAI/C,UAAU4P,SAAS,cACtBtQ,EAAIuB,EAAWc,EAAerB,GAAIwd,GACxC,QAAUvlB,IAAN+G,EACA,OACJ,MAAMyC,EAASzC,EACTye,EAAgB3U,EAAKqB,sBAAwB,IAAIvP,KAAK6G,EAAOQ,QAAQpH,WACrE6iB,GAAqBD,EAAa1Y,WAAa+D,EAAKO,cACtDoU,EAAa1Y,WACT+D,EAAKO,aAAeP,EAAK1D,OAAOnI,WAAa,IAC5B,UAArB6L,EAAK1D,OAAOzJ,KAEhB,GADAmN,EAAKmI,iBAAmBxP,EACC,WAArBqH,EAAK1D,OAAOzJ,KACZmN,EAAKmB,cAAgB,CAACwT,QACrB,GAAyB,aAArB3U,EAAK1D,OAAOzJ,KAAqB,CACtC,MAAMgiB,EAAgB3M,GAAeyM,GACjCE,EACA7U,EAAKmB,cAAcoL,OAAO5R,SAASka,GAAgB,GAEnD7U,EAAKmB,cAAcoD,KAAKoQ,OAEF,UAArB3U,EAAK1D,OAAOzJ,OACiB,IAA9BmN,EAAKmB,cAAcjS,QACnB8Q,EAAK2M,OAAM,GAAO,GAEtB3M,EAAKqB,sBAAwBsT,EAC7B3U,EAAKmB,cAAcoD,KAAKoQ,GACwC,IAA5DnW,EAAamW,EAAc3U,EAAKmB,cAAc,IAAI,IAClDnB,EAAKmB,cAAc2T,KAAK,CAACC,EAAGC,IAAMD,EAAEhjB,UAAYijB,EAAEjjB,YAG1D,GADAiR,IACI4R,EAAmB,CACnB,MAAM7G,EAAY/N,EAAKS,cAAgBkU,EAAatiB,cACpD2N,EAAKS,YAAckU,EAAatiB,cAChC2N,EAAKO,aAAeoU,EAAa1Y,WAC7B8R,IACArM,GAAa,gBACb2E,KAEJ3E,GAAa,iBAejB,GAbAoK,KACA1E,IACA9F,KACKsT,GACoB,UAArB5U,EAAK1D,OAAOzJ,MACe,IAA3BmN,EAAK1D,OAAOnI,gBAEmBhF,IAA1B6Q,EAAKmI,uBACWhZ,IAArB6Q,EAAKoD,aACLpD,EAAKmI,kBAAoBnI,EAAKmI,iBAAiBK,QAH/CF,EAAe3P,QAKMxJ,IAArB6Q,EAAKoD,kBACgBjU,IAArB6Q,EAAKoD,aAA6BpD,EAAKoD,YAAYoF,QACnDxI,EAAK1D,OAAOzL,cAAe,CAC3B,MAAMokB,EAA8B,WAArBjV,EAAK1D,OAAOzJ,OAAsBmN,EAAK1D,OAAOhL,WACvD4jB,EAA6B,UAArBlV,EAAK1D,OAAOzJ,MACQ,IAA9BmN,EAAKmB,cAAcjS,SAClB8Q,EAAK1D,OAAOhL,YACb2jB,GAAUC,IACVrG,KAGRpK,IA3/CJzE,EAAKtC,UAAYV,EAAiB,CAAEV,OAAQ0D,EAAK1D,OAAQC,KAAMyD,EAAKzD,OACpEyD,EAAKsE,UAAY,GACjBtE,EAAKkP,eAAiB,GACtBlP,EAAKmV,cAAgB,GACrBnV,EAAKoV,MAAQxT,EACb5B,EAAKqV,kBAAoBjU,EACzBpB,EAAKsV,kBAAoB7T,GACzBzB,EAAKqJ,YAAcA,GACnBrJ,EAAKiE,WAAaA,GAClBjE,EAAK2M,MAAQA,GACb3M,EAAKgN,MAAQA,GACbhN,EAAKuV,eAAiBxe,EACtBiJ,EAAKiN,QAAUA,GACfjN,EAAK8H,UAAYA,GACjB9H,EAAK+F,WAAaA,EAClB/F,EAAKsF,KAAOA,GACZtF,EAAKsG,OAASA,GACdtG,EAAKgR,IAAMA,GACXhR,EAAK/N,QAAUA,GACf+N,EAAKwV,OAASA,GA0+Cd,MAAMC,GAAY,CACd9iB,OAAQ,CAACmO,GAAawL,IACtBnY,WAAY,CAACiX,EAAa7J,EAAkB4F,IAC5C9H,QAAS,CAAC0G,GACVtG,QAAS,CAACsG,GACVnV,WAAY,CACR,MACmC,IAA3BoP,EAAK1D,OAAO1L,YACZgR,EAAK5B,EAAK+C,OAAQ,QAAS/C,EAAKsF,MAChC1D,EAAK5B,EAAK+C,OAAQ,QAAS/C,EAAKsF,QAGhCtF,EAAK+C,OAAOyB,oBAAoB,QAASxE,EAAKsF,MAC9CtF,EAAK+C,OAAOyB,oBAAoB,QAASxE,EAAKsF,UAK9D,SAAS0L,GAAIjiB,EAAQK,GACjB,GAAe,OAAXL,GAAqC,kBAAXA,EAAqB,CAC/CkR,OAAOC,OAAOF,EAAK1D,OAAQvN,GAC3B,IAAK,MAAMC,KAAOD,OACSI,IAAnBsmB,GAAUzmB,IACVymB,GAAUzmB,GAAKqP,QAAS+Q,GAAMA,UAItCpP,EAAK1D,OAAOvN,GAAUK,OACID,IAAtBsmB,GAAU1mB,GACV0mB,GAAU1mB,GAAQsP,QAAS+Q,GAAMA,KAC5Btf,EAAMW,QAAQ1B,IAAW,IAC9BiR,EAAK1D,OAAOvN,GAAUuH,EAASlH,IAEvC4Q,EAAKsG,SACLhF,IAAY,GAEhB,SAASoU,GAAgBC,EAAWpY,GAChC,IAAI0T,EAAQ,GACZ,GAAI0E,aAAqBnf,MACrBya,EAAQ0E,EAAUhmB,IAAKsL,GAAM+E,EAAKtC,UAAUzC,EAAGsC,SAC9C,GAAIoY,aAAqB7jB,MAA6B,kBAAd6jB,EACzC1E,EAAQ,CAACjR,EAAKtC,UAAUiY,EAAWpY,SAClC,GAAyB,kBAAdoY,EACZ,OAAQ3V,EAAK1D,OAAOzJ,MAChB,IAAK,SACL,IAAK,OACDoe,EAAQ,CAACjR,EAAKtC,UAAUiY,EAAWpY,IACnC,MACJ,IAAK,WACD0T,EAAQ0E,EACH/Y,MAAMoD,EAAK1D,OAAOxL,aAClBnB,IAAKkC,GAASmO,EAAKtC,UAAU7L,EAAM0L,IACxC,MACJ,IAAK,QACD0T,EAAQ0E,EACH/Y,MAAMoD,EAAKzD,KAAKrH,gBAChBvF,IAAKkC,GAASmO,EAAKtC,UAAU7L,EAAM0L,IACxC,MACJ,QACI,WAIRyC,EAAK1D,OAAO/K,aAAa,IAAIgN,MAAM,0BAA0BmS,KAAKE,UAAU+E,KAChF3V,EAAKmB,cAAiBnB,EAAK1D,OAAOrM,oBAC5BghB,EACAA,EAAM9B,OAAQlU,GAAMA,aAAanJ,MAAQgW,GAAU7M,GAAG,IACnC,UAArB+E,EAAK1D,OAAOzJ,MACZmN,EAAKmB,cAAc2T,KAAK,CAACC,EAAGC,IAAMD,EAAEhjB,UAAYijB,EAAEjjB,WAE1D,SAASE,GAAQJ,EAAM4S,GAAgB,EAAOlH,EAASyC,EAAK1D,OAAOvL,YAC/D,GAAc,IAATc,IAAeA,GAAUA,aAAgB2E,OAAyB,IAAhB3E,EAAK3C,OACxD,OAAO8Q,EAAK2M,MAAMlI,GACtBiR,GAAgB7jB,EAAM0L,GACtByC,EAAKqB,sBACDrB,EAAKmB,cAAcnB,EAAKmB,cAAcjS,OAAS,GACnD8Q,EAAKsG,SACLP,OAAW5W,EAAWsV,GACtBrD,IACkC,IAA9BpB,EAAKmB,cAAcjS,QACnB8Q,EAAK2M,OAAM,GAEfrL,GAAYmD,GACRA,GACA/C,GAAa,YAErB,SAASwP,GAAepU,GACpB,OAAOA,EACFjH,QACAlG,IAAKimB,GACc,kBAATA,GACS,kBAATA,GACPA,aAAgB9jB,KACTkO,EAAKtC,UAAUkY,OAAMzmB,GAAW,GAElCymB,GACW,kBAATA,GACPA,EAAKvH,MACLuH,EAAKtH,GACE,CACHD,KAAMrO,EAAKtC,UAAUkY,EAAKvH,UAAMlf,GAChCmf,GAAItO,EAAKtC,UAAUkY,EAAKtH,QAAInf,IAE7BymB,GAENzG,OAAQC,GAAMA,GAEvB,SAASpO,KACLhB,EAAKmB,cAAgB,GACrBnB,EAAK/M,IAAM+M,EAAKtC,UAAUsC,EAAK1D,OAAOrJ,MAAQ,IAAInB,KAClD,MAAM+jB,EAAgB7V,EAAK1D,OAAOoG,cACJ,UAAxB1C,EAAKW,MAAMmV,UACe,aAAxB9V,EAAKW,MAAMmV,WACX9V,EAAKW,MAAMoV,aACX/V,EAAKW,MAAMvR,QAAU4Q,EAAKW,MAAMoV,YAE9B/V,EAAKW,MAAMvR,MADX,MAENymB,GACAH,GAAgBG,EAAe7V,EAAK1D,OAAOvL,YAC/CiP,EAAK+M,aACD/M,EAAKmB,cAAcjS,OAAS,EACtB8Q,EAAKmB,cAAc,GACnBnB,EAAK1D,OAAO+C,SACVW,EAAK1D,OAAO+C,QAAQtN,UAAYiO,EAAK/M,IAAIlB,UACvCiO,EAAK1D,OAAO+C,QACZW,EAAK1D,OAAOmD,SACVO,EAAK1D,OAAOmD,QAAQ1N,UAAYiO,EAAK/M,IAAIlB,UACvCiO,EAAK1D,OAAOmD,QACZO,EAAK/M,IACvB+M,EAAKS,YAAcT,EAAK+M,aAAa1a,cACrC2N,EAAKO,aAAeP,EAAK+M,aAAa9Q,WAClC+D,EAAKmB,cAAcjS,OAAS,IAC5B8Q,EAAKqB,sBAAwBrB,EAAKmB,cAAc,SACxBhS,IAAxB6Q,EAAK1D,OAAOkH,UACZxD,EAAK1D,OAAOkH,QAAUxD,EAAKtC,UAAUsC,EAAK1D,OAAOkH,QAAS,aAClCrU,IAAxB6Q,EAAK1D,OAAOqH,UACZ3D,EAAK1D,OAAOqH,QAAU3D,EAAKtC,UAAUsC,EAAK1D,OAAOqH,QAAS,QAC9D3D,EAAKyD,iBACCzD,EAAK1D,OAAO+C,UACTW,EAAK1D,OAAO+C,QAAQxF,WAAa,GAC9BmG,EAAK1D,OAAO+C,QAAQlD,aAAe,GACnC6D,EAAK1D,OAAO+C,QAAQnD,aAAe,GAC/C8D,EAAK4D,iBACC5D,EAAK1D,OAAOmD,UACTO,EAAK1D,OAAOmD,QAAQ5F,WAAa,GAC9BmG,EAAK1D,OAAOmD,QAAQtD,aAAe,GACnC6D,EAAK1D,OAAOmD,QAAQvD,aAAe,GAEnD,SAAS6E,KACLf,EAAKW,MAAQkR,KACR7R,EAAKW,OAIVX,EAAKW,MAAMwM,MAAQnN,EAAKW,MAAMxI,KAC9B6H,EAAKW,MAAMxI,KAAO,OAClB6H,EAAKW,MAAM/J,UAAUC,IAAI,mBACzBmJ,EAAK+C,OAAS/C,EAAKW,MACfX,EAAK1D,OAAOnM,WACZ6P,EAAK7P,SAAW4G,EAAciJ,EAAKW,MAAMmV,SAAU9V,EAAK1D,OAAOlM,eAC/D4P,EAAK+C,OAAS/C,EAAK7P,SACnB6P,EAAK7P,SAAS4lB,YAAc/V,EAAKW,MAAMoV,YACvC/V,EAAK7P,SAASX,SAAWwQ,EAAKW,MAAMnR,SACpCwQ,EAAK7P,SAAS6lB,SAAWhW,EAAKW,MAAMqV,SACpChW,EAAK7P,SAAS2W,SAAW9G,EAAKW,MAAMmG,SACpC9G,EAAK7P,SAASgI,KAAO,OACrB6H,EAAKW,MAAMtI,aAAa,OAAQ,WAC3B2H,EAAK1D,OAAOlI,QAAU4L,EAAKW,MAAMhJ,YAClCqI,EAAKW,MAAMhJ,WAAW8P,aAAazH,EAAK7P,SAAU6P,EAAKW,MAAM+G,cAEhE1H,EAAK1D,OAAOtM,YACbgQ,EAAK+C,OAAO1K,aAAa,WAAY,YACzC2H,EAAKmQ,iBAAmBnQ,EAAK1D,OAAOtI,iBAAmBgM,EAAK+C,QArBxD/C,EAAK1D,OAAO/K,aAAa,IAAIgN,MAAM,oCAuB3C,SAASuG,KACL,MAAMmR,EAAYjW,EAAK1D,OAAOhL,WACxB0O,EAAK1D,OAAOtJ,WACR,OACA,iBACJ,OACNgN,EAAK8M,YAAc/V,EAAc,QAASiJ,EAAKW,MAAMhK,UAAY,qBACjEqJ,EAAK8M,YAAYhG,SAAW,EAC5B9G,EAAK8M,YAAY3U,KAAO8d,EACxBjW,EAAK8M,YAAYtd,SAAWwQ,EAAKW,MAAMnR,SACvCwQ,EAAK8M,YAAYkJ,SAAWhW,EAAKW,MAAMqV,SACvChW,EAAK8M,YAAYiJ,YAAc/V,EAAKW,MAAMoV,YAC1C/V,EAAKkW,gBACa,mBAAdD,EACM,gBACc,SAAdA,EACI,QACA,QACVjW,EAAKmB,cAAcjS,OAAS,IAC5B8Q,EAAK8M,YAAYqJ,aAAenW,EAAK8M,YAAY1d,MAAQ4Q,EAAKrD,WAAWqD,EAAKmB,cAAc,GAAInB,EAAKkW,kBAErGlW,EAAK1D,OAAO+C,UACZW,EAAK8M,YAAY/N,IAAMiB,EAAKrD,WAAWqD,EAAK1D,OAAO+C,QAAS,UAC5DW,EAAK1D,OAAOmD,UACZO,EAAK8M,YAAY9N,IAAMgB,EAAKrD,WAAWqD,EAAK1D,OAAOmD,QAAS,UAC5DO,EAAKW,MAAMwL,aAAa,UACxBnM,EAAK8M,YAAYsJ,KAAO9mB,OAAO0Q,EAAKW,MAAMwL,aAAa,UAC3DnM,EAAKW,MAAMxI,KAAO,cACIhJ,IAAlB6Q,EAAK7P,WACL6P,EAAK7P,SAASgI,KAAO,UACzB,IACQ6H,EAAKW,MAAMhJ,YACXqI,EAAKW,MAAMhJ,WAAW8P,aAAazH,EAAK8M,YAAa9M,EAAKW,MAAM+G,aAExE,MAAOsG,IACPpM,EAAK5B,EAAK8M,YAAa,SAAW5V,IAC9B8I,EAAK/N,QAAQsG,EAAerB,GAAG9H,OAAO,EAAO4Q,EAAKkW,iBAClDxU,GAAa,YACbA,GAAa,aAGrB,SAAS8T,GAAOte,GACZ,IAAoB,IAAhB8I,EAAKY,OACL,OAAOZ,EAAKgN,QAChBhN,EAAKsF,KAAKpO,GAEd,SAASwK,GAAalJ,EAAO6d,GACzB,QAAoBlnB,IAAhB6Q,EAAK1D,OACL,OACJ,MAAMga,EAAQtW,EAAK1D,OAAO9D,GAC1B,QAAcrJ,IAAVmnB,GAAuBA,EAAMpnB,OAAS,EACtC,IAAK,IAAIiM,EAAI,EAAGmb,EAAMnb,IAAMA,EAAImb,EAAMpnB,OAAQiM,IAC1Cmb,EAAMnb,GAAG6E,EAAKmB,cAAenB,EAAKW,MAAMvR,MAAO4Q,EAAMqW,GAE/C,aAAV7d,IACAwH,EAAKW,MAAMgG,cAAcD,GAAY,WACrC1G,EAAKW,MAAMgG,cAAcD,GAAY,WAG7C,SAASA,GAAY7W,GACjB,MAAMqH,EAAIC,SAASuP,YAAY,SAE/B,OADAxP,EAAEqf,UAAU1mB,GAAM,GAAM,GACjBqH,EAEX,SAASgR,GAAerW,GACpB,IAAK,IAAIsJ,EAAI,EAAGA,EAAI6E,EAAKmB,cAAcjS,OAAQiM,IAC3C,GAAkD,IAA9CqD,EAAawB,EAAKmB,cAAchG,GAAItJ,GACpC,MAAO,GAAKsJ,EAEpB,OAAO,EAEX,SAASiN,GAAcvW,GACnB,QAAyB,UAArBmO,EAAK1D,OAAOzJ,MAAoBmN,EAAKmB,cAAcjS,OAAS,KAExDsP,EAAa3M,EAAMmO,EAAKmB,cAAc,KAAO,GACjD3C,EAAa3M,EAAMmO,EAAKmB,cAAc,KAAO,GAErD,SAAS2K,KACD9L,EAAK1D,OAAOtJ,YAAcgN,EAAKxD,WAAawD,EAAKuF,WAErDvF,EAAKsL,aAAajN,QAAQ,CAAC6M,EAAa/P,KACpC,MAAMF,EAAI,IAAInJ,KAAKkO,EAAKS,YAAaT,EAAKO,aAAc,GACxDtF,EAAE5B,SAAS2G,EAAKO,aAAepF,GAC3B6E,EAAK1D,OAAOnI,WAAa,GACS,WAAlC6L,EAAK1D,OAAOxJ,kBACZkN,EAAKuL,cAAcpQ,GAAG/D,YAClB0B,EAAWmC,EAAEgB,WAAY+D,EAAK1D,OAAOpI,sBAAuB8L,EAAKzD,MAAQ,IAG7EyD,EAAKwK,wBAAwBpb,MAAQ6L,EAAEgB,WAAW+H,WAEtDkH,EAAY9b,MAAQ6L,EAAE5I,cAAc2R,aAExChE,EAAKyM,yBACuBtd,IAAxB6Q,EAAK1D,OAAO+C,UACPW,EAAKS,cAAgBT,EAAK1D,OAAO+C,QAAQhN,cACpC2N,EAAKO,cAAgBP,EAAK1D,OAAO+C,QAAQpD,WACzC+D,EAAKS,YAAcT,EAAK1D,OAAO+C,QAAQhN,eACrD2N,EAAK0M,yBACuBvd,IAAxB6Q,EAAK1D,OAAOmD,UACPO,EAAKS,cAAgBT,EAAK1D,OAAOmD,QAAQpN,cACpC2N,EAAKO,aAAe,EAAIP,EAAK1D,OAAOmD,QAAQxD,WAC5C+D,EAAKS,YAAcT,EAAK1D,OAAOmD,QAAQpN,gBAEzD,SAASmkB,GAAWjZ,GAChB,OAAOyC,EAAKmB,cACPxR,IAAK8mB,GAASzW,EAAKrD,WAAW8Z,EAAMlZ,IACpC4R,OAAO,CAAClU,EAAGE,EAAG2B,IAA6B,UAArBkD,EAAK1D,OAAOzJ,MACnCmN,EAAK1D,OAAOhL,YACZwL,EAAIrM,QAAQwK,KAAOE,GAClB4B,KAA0B,UAArBiD,EAAK1D,OAAOzJ,KAChBmN,EAAK1D,OAAOxL,YACZkP,EAAKzD,KAAKrH,gBAEpB,SAASoM,GAAYmD,GAAgB,QACRtV,IAArB6Q,EAAK8M,aAA6B9M,EAAKkW,kBACvClW,EAAK8M,YAAY1d,WACkBD,IAA/B6Q,EAAKqB,sBACCrB,EAAKrD,WAAWqD,EAAKqB,sBAAuBrB,EAAKkW,iBACjD,IAEdlW,EAAKW,MAAMvR,MAAQonB,GAAWxW,EAAK1D,OAAOvL,iBACpB5B,IAAlB6Q,EAAK7P,WACL6P,EAAK7P,SAASf,MAAQonB,GAAWxW,EAAK1D,OAAOpM,aAE3B,IAAlBuU,GACA/C,GAAa,iBAErB,SAAS8D,GAAgBtO,GACrB,MAAM4M,EAAcvL,EAAerB,GAC7Bwf,EAAc1W,EAAKqL,aAAa7E,SAAS1C,GACzC6S,EAAc3W,EAAKwL,aAAahF,SAAS1C,GAC3C4S,GAAeC,EACftN,GAAYqN,GAAe,EAAI,GAE1B1W,EAAKsL,aAAa7a,QAAQqT,IAAgB,EAC/CA,EAAY8B,SAEP9B,EAAYlN,UAAU4P,SAAS,WACpCxG,EAAKiE,WAAWjE,EAAKS,YAAc,GAE9BqD,EAAYlN,UAAU4P,SAAS,cACpCxG,EAAKiE,WAAWjE,EAAKS,YAAc,GAG3C,SAASoC,GAAY3L,GACjBA,EAAE0X,iBACF,MAAMgI,EAAuB,YAAX1f,EAAEiB,KAAoB2L,EAAcvL,EAAerB,GAAIyJ,EAAQmD,OAC/D3U,IAAd6Q,EAAK1K,MAAsBwO,IAAgB9D,EAAK1K,OAChD0K,EAAK1K,KAAK8B,YACN4I,EAAKzD,KAAKjH,KAAK,EAAI0K,EAAK1K,KAAK8B,cAAgB4I,EAAKzD,KAAKjH,KAAK,MAEpE,MAAMyJ,EAAMvF,WAAWmH,EAAMwL,aAAa,QAASnN,EAAMxF,WAAWmH,EAAMwL,aAAa,QAASiK,EAAO5c,WAAWmH,EAAMwL,aAAa,SAAU0K,EAAWlc,SAASgG,EAAMvR,MAAO,IAAK2U,EAAQ7M,EAAE6M,QAC1L6S,EAAyB,KAAZ1f,EAAE4f,MAAe,GAAK,EAAK,GAC7C,IAAIC,EAAWF,EAAWT,EAAOrS,EACjC,GAA2B,qBAAhBpD,EAAMvR,OAAgD,IAAvBuR,EAAMvR,MAAMF,OAAc,CAChE,MAAM8nB,EAAarW,IAAUX,EAAKoD,YAAa6T,EAAetW,IAAUX,EAAKqD,cACzE0T,EAAWhY,GACXgY,EACI/X,EACI+X,EACA,GAAKC,IACJ,EAAIA,IAAe,GAAKhX,EAAK1K,OAClC2hB,GACA1Q,OAAkBpX,GAAY,EAAG6Q,EAAKoD,cAErC2T,EAAW/X,IAChB+X,EACIpW,IAAUX,EAAKoD,YAAc2T,EAAW/X,EAAM,GAAKgB,EAAK1K,MAAQyJ,EAChEkY,GACA1Q,OAAkBpX,EAAW,EAAG6Q,EAAKoD,cAEzCpD,EAAK1K,MACL0hB,IACU,IAATZ,EACKW,EAAWF,IAAa,GACxBvkB,KAAK8W,IAAI2N,EAAWF,GAAYT,KACtCpW,EAAK1K,KAAK8B,YACN4I,EAAKzD,KAAKjH,KAAK,EAAI0K,EAAK1K,KAAK8B,cAAgB4I,EAAKzD,KAAKjH,KAAK,MAEpEqL,EAAMvR,MAAQuG,EAAIohB,IAI1B,OADArW,IACOV,EAEX,SAASkX,EAAWC,EAAU7a,GAC1B,MAAM8a,EAAQ5gB,MAAMmO,UAAU9O,MACzB+O,KAAKuS,GACLhI,OAAQC,GAAMA,aAAaiI,aAC1BC,EAAY,GAClB,IAAK,IAAInc,EAAI,EAAGA,EAAIic,EAAMloB,OAAQiM,IAAK,CACnC,MAAM7D,EAAO8f,EAAMjc,GACnB,IACI,GAA0C,OAAtC7D,EAAK6U,aAAa,gBAClB,cACoBhd,IAApBmI,EAAK4f,aACL5f,EAAK4f,WAAWjK,UAChB3V,EAAK4f,gBAAa/nB,GAEtBmI,EAAK4f,WAAarX,EAAkBvI,EAAMgF,GAAU,IACpDgb,EAAU/S,KAAKjN,EAAK4f,YAExB,MAAOhgB,GACHzF,QAAQmH,MAAM1B,IAGtB,OAA4B,IAArBogB,EAAUpoB,OAAeooB,EAAU,GAAKA,EAExB,qBAAhBD,aACmB,qBAAnBE,gBACa,qBAAbC,WACPD,eAAe5S,UAAUxE,UAAYqX,SAAS7S,UAAUxE,UAAY,SAAU7D,GAC1E,OAAO4a,EAAWvoB,KAAM2N,IAE5B+a,YAAY1S,UAAUxE,UAAY,SAAU7D,GACxC,OAAO4a,EAAW,CAACvoB,MAAO2N,KAGlC,IAAI6D,EAAY,SAAUsX,EAAUnb,GAChC,MAAwB,kBAAbmb,EACAP,EAAW5mB,OAAO6G,SAAS0N,iBAAiB4S,GAAWnb,GAEzDmb,aAAoBC,KAClBR,EAAW,CAACO,GAAWnb,GAGvB4a,EAAWO,EAAUnb,IAGpC6D,EAAUC,cAAgB,GAC1BD,EAAU4R,MAAQ,CACd4F,GAAI1X,OAAOC,OAAO,GAAI,GACtB8R,QAAS/R,OAAOC,OAAO,GAAI,IAE/BC,EAAUyX,SAAYrb,IAClB4D,EAAU4R,MAAMC,QAAU/R,OAAOC,OAAOD,OAAOC,OAAO,GAAIC,EAAU4R,MAAMC,SAAUzV,IAExF4D,EAAU0X,YAAevb,IACrB6D,EAAUC,cAAgBH,OAAOC,OAAOD,OAAOC,OAAO,GAAIC,EAAUC,eAAgB9D,IAExF6D,EAAUzC,UAAYV,EAAiB,IACvCmD,EAAUxD,WAAaN,EAAoB,IAC3C8D,EAAU3B,aAAeA,EACH,qBAAXsZ,QAA+C,qBAAdA,OAAO9hB,KAC/C8hB,OAAO9hB,GAAGmK,UAAY,SAAU7D,GAC5B,OAAO4a,EAAWvoB,KAAM2N,KAGhCxK,KAAK6S,UAAUoT,QAAU,SAAU3V,GAC/B,OAAO,IAAItQ,KAAKnD,KAAK0D,cAAe1D,KAAKsN,WAAYtN,KAAKuD,WAA6B,kBAATkQ,EAAoBzH,SAASyH,EAAM,IAAMA,KAErG,qBAAX9R,SACPA,OAAO6P,UAAYA,GAER,gB,oCCt7Dc,oBAAlBF,OAAOC,SACdD,OAAOC,OAAS,SAAUvH,KAAWqf,GACjC,IAAKrf,EACD,MAAMsf,UAAU,8CAEpB,IAAK,MAAMC,KAAUF,EACbE,GACAjY,OAAOkY,KAAKD,GAAQ7Z,QAASrP,GAAS2J,EAAO3J,GAAOkpB,EAAOlpB,IAGnE,OAAO2J,K,uBCXfyf,EAAOC,QAAU,IAA0B,0C,iVCA3C,SAASC,EAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIP,UAAU,qCAEhH,SAASQ,EAAkB9f,EAAQ1K,GAAS,IAAK,IAAIkN,EAAI,EAAGA,EAAIlN,EAAMiB,OAAQiM,IAAK,CAAE,IAAIud,EAAazqB,EAAMkN,GAAIud,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM5Y,OAAOwL,eAAe9S,EAAQ+f,EAAW1pB,IAAK0pB,IAE7S,SAASI,EAAaN,EAAaO,EAAYC,GAAmJ,OAAhID,GAAYN,EAAkBD,EAAY7T,UAAWoU,GAAiBC,GAAaP,EAAkBD,EAAaQ,GAAqBR,EAuCzM,IAAIS,EAAqB,4BAErB,EAAkC,WACpC,SAASC,EAAmB9U,EAAIhW,EAAS+qB,GACvCb,EAAgB3pB,KAAMuqB,GAEtBvqB,KAAKyV,GAAKA,EACVzV,KAAKyqB,SAAWhrB,EAAQgrB,SACxBzqB,KAAK0qB,OAASjrB,EAAQirB,QAAU,EAChC1qB,KAAK2qB,KAAOlrB,EAAQkrB,OAAQ,EAC5B3qB,KAAK4qB,SAAW,KAChB5qB,KAAK6qB,aAAUrqB,EACfR,KAAK8qB,UAAW,EAEhB9qB,KAAK+qB,eAAeP,GAgFtB,OA7EAL,EAAaI,EAAoB,CAAC,CAChClqB,IAAK,iBACLI,MAAO,SAAwB+pB,GAC7B,IAAIzpB,EAAQf,KASZ,GANIA,KAAK4qB,UAEP5qB,KAAKgrB,QAIHhrB,KAAK8qB,UAAa,eAAW9qB,KAAKyqB,UAAtC,CAMA,IAGEzqB,KAAK4qB,SAAW,IAAIK,qBAAqBjrB,KAAKuV,QAAQtC,KAAKjT,MAAO,CAEhEkrB,KAAM,KAENC,WAAYnrB,KAAK0qB,OAEjBU,UAAW,IAEb,MAAOC,GAKP,OAHArrB,KAAK8qB,UAAW,EAChB9qB,KAAK4qB,cAAWpqB,OAChBR,KAAKyqB,SAAS,MAOhBD,EAAMc,QAAQC,WAAU,WACtB,gBAAU,WAGJxqB,EAAM6pB,UACR7pB,EAAM6pB,SAASY,QAAQzqB,EAAM0U,aAOpC,CACDpV,IAAK,UACLI,MAAO,SAAiBgrB,GACtB,IAAIC,EAAQD,EAAUA,EAAQ,GAAK,GAC/BE,EAAiB7qB,QAAQ4qB,EAAMC,gBAAkBD,EAAME,kBAAoB,GAE3ED,IAAmB3rB,KAAK6qB,UAC1B7qB,KAAK6qB,QAAUc,EACf3rB,KAAKyqB,SAASkB,GAEV3rB,KAAK2qB,MAAQ3qB,KAAK6qB,UACpB7qB,KAAK8qB,UAAW,EAChB9qB,KAAKgrB,WAIV,CACD3qB,IAAK,OACLI,MAAO,WAELT,KAAK4qB,UAAY5qB,KAAK4qB,SAASiB,aAC/B7rB,KAAK4qB,SAAW,SAIbL,EA5F6B,GA+FlCjM,EAAU,SAAiB7I,GAC7B,IAAImV,EAAWnV,EAAG6U,GAEdM,GAAYA,EAASI,MACvBJ,EAASI,cAGJvV,EAAG6U,IAGR,EAAO,SAAc7U,EAAIqW,EAAMtB,GACjC,IAAI/pB,EAAQqrB,EAAKrrB,MACbsrB,EAAYD,EAAKC,UAEjBtsB,EAAU,CACZirB,OAAQ,MACRC,MAAM,EACNF,SAAUhqB,GAGZ,eAAKsrB,GAAWrc,SAAQ,SAAUsc,GAE5B,OAAU5gB,KAAK4gB,GACjBvsB,EAAQirB,OAAS,GAAGpK,OAAO0L,EAAK,MACD,SAAtBA,EAAIpL,gBACbnhB,EAAQkrB,MAAO,MAInBrM,EAAQ7I,GAERA,EAAG6U,GAAsB,IAAI,EAAmB7U,EAAIhW,EAAS+qB,GAE7D/U,EAAG6U,GAAoB2B,eAAiB,eAAMF,IAI5C,EAAmB,SAA0BtW,EAAIyW,EAAO1B,GAC1D,IAAI/pB,EAAQyrB,EAAMzrB,MACd0rB,EAAWD,EAAMC,SACjBJ,EAAYG,EAAMH,UAKtBA,EAAY,eAAMA,IAGdtW,GAAOhV,IAAU0rB,GAAa1W,EAAG6U,IAAwB,eAAWyB,EAAWtW,EAAG6U,GAAoB2B,iBAExG,EAAKxW,EAAI,CACPhV,MAAOA,EACPsrB,UAAWA,GACVvB,IAKH4B,EAAS,SAAgB3W,GAE3B6I,EAAQ7I,IAIC4W,EAAY,CACrBpZ,KAAM,EACNqZ,iBAAkB,EAClBF,OAAQA,GC/MV,SAASG,EAAQC,EAAQC,GAAkB,IAAIjD,EAAOlY,OAAOkY,KAAKgD,GAAS,GAAIlb,OAAOob,sBAAuB,CAAE,IAAIC,EAAUrb,OAAOob,sBAAsBF,GAAaC,IAAgBE,EAAUA,EAAQnM,QAAO,SAAUoM,GAAO,OAAOtb,OAAOub,yBAAyBL,EAAQI,GAAK5C,eAAgBR,EAAK5T,KAAKlO,MAAM8hB,EAAMmD,GAAY,OAAOnD,EAE9U,SAASsD,EAAc9iB,GAAU,IAAK,IAAIwC,EAAI,EAAGA,EAAIlM,UAAUC,OAAQiM,IAAK,CAAE,IAAI+c,EAAyB,MAAhBjpB,UAAUkM,GAAalM,UAAUkM,GAAK,GAAQA,EAAI,EAAK+f,EAAQjb,OAAOiY,IAAS,GAAM7Z,SAAQ,SAAUrP,GAAO0sB,EAAgB/iB,EAAQ3J,EAAKkpB,EAAOlpB,OAAsBiR,OAAO0b,0BAA6B1b,OAAO2b,iBAAiBjjB,EAAQsH,OAAO0b,0BAA0BzD,IAAmBgD,EAAQjb,OAAOiY,IAAS7Z,SAAQ,SAAUrP,GAAOiR,OAAOwL,eAAe9S,EAAQ3J,EAAKiR,OAAOub,yBAAyBtD,EAAQlpB,OAAe,OAAO2J,EAE7gB,SAAS+iB,EAAgBnlB,EAAKvH,EAAKI,GAAiK,OAApJJ,KAAOuH,EAAO0J,OAAOwL,eAAelV,EAAKvH,EAAK,CAAEI,MAAOA,EAAOupB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtiB,EAAIvH,GAAOI,EAAgBmH,EAsBpM,IAAI,EAAQ,eAAsB,eAASklB,EAAcA,EAAcA,EAAcA,EAAcA,EAAcA,EAAc,GAAII,EAAA,MAAU,QAAmB,QAAgB,QAAiB,QAAgB,GAAI,CAC1NC,QAAS,eAAS,QAElBC,aAAc,eAAS,QAAmB,GAE1CC,SAAU,eAAS,QAAmB,GACtCC,KAAM,eAAS,OAAyB,GAGxC1nB,KAAM,eAAS,OAAkB,WAC9B,QAGM2nB,EAA6B,aAAI1tB,OAAO,CACjDqB,KAAM,OACNssB,WAAY,CACV,YAAanB,GAGfoB,OAAQ,CAACC,EAAA,KAAgBR,EAAA,KAAS,OAAmB,OAAkB,OAAe,OAAgB,OAAe,OAAoB,QACzI5tB,MAAO,EACPooB,KAAM,WACJ,MAAO,CACLiG,WAAY,OAGhB7tB,SAAU,CACR8tB,cAAe,WACb,IAAIC,EAAS,CAGXC,QAAS9tB,KAAK+tB,cAAgB/tB,KAAKqtB,SAAW,OAAS,MAYzD,OATKrtB,KAAK+tB,eAGRF,EAAOG,OAAShuB,KAAK2tB,WAGrBE,EAAOI,UAAY,UAGdJ,GAETK,gBAAiB,WAIf,OAAO,OAAAC,EAAA,MAAQ,eAAUnuB,KAAKstB,KAAM,GAAI,IAE1Cc,gBAAiB,WACf,OAAO,OAAAD,EAAA,MAAQnuB,KAAKkuB,gBAAiB,eAAUluB,KAAKmtB,QAAS,KAE/DY,aAAc,WAGZ,OAAO/tB,KAAKkuB,kBAAoBluB,KAAKouB,gBAAkBpuB,KAAKkuB,gBAAkB,MAEhFG,cAAe,WACb,IAAIxtB,EAAWb,KAAKa,SAChBwmB,EAAWrnB,KAAKqnB,SACpB,MAAO,CACL6F,GAAIltB,KAAKsuB,SACTptB,KAAMlB,KAAKkB,MAAQ,KACnBqtB,KAAMvuB,KAAKuuB,MAAQ,KACnB1tB,SAAUA,EACVumB,YAAapnB,KAAKonB,aAAe,KACjCC,SAAUA,EACVmH,aAAcxuB,KAAKwuB,cAAgB,KACnCC,SAAUzuB,KAAKyuB,UAAYzuB,KAAK0uB,UAChCpB,KAAMttB,KAAK+tB,aACXnoB,KAAM5F,KAAK4F,MAAQ,KACnB,gBAAiB5F,KAAKqnB,SAAW,OAAS,KAC1C,eAAgBrnB,KAAK2uB,sBAGzBC,kBAAmB,WACjB,OAAO9B,EAAcA,EAAc,GAAI9sB,KAAK6uB,aAAc,GAAI,CAC5D7c,MAAOhS,KAAK8uB,QACZC,OAAQ/uB,KAAKuE,SACbwb,KAAM/f,KAAKmX,WAIjB6X,MAAO,CACLC,WAAY,WACVjvB,KAAKkvB,cAGTC,QAAS,WACPnvB,KAAKkvB,aAEPhvB,QAAS,CAIPkvB,gBAAiB,SAAyBvE,GACpCA,GAGF7qB,KAAKurB,UAAUvrB,KAAKkvB,YAGxBA,UAAW,WACT,IAAInuB,EAAQf,KAEZA,KAAKurB,WAAU,WACb,gBAAU,WACRxqB,EAAM4sB,WAAa5sB,EAAMsuB,uBAM/BA,cAAe,WACb,GAAIrvB,KAAKsvB,YAAc,eAAOtvB,KAAK+tB,cACjC,OAAO,KAGT,IAAItY,EAAKzV,KAAKuvB,IAGd,IAAK,eAAU9Z,GACb,OAAO,KAIT,IAAImY,EAAgB,eAAMnY,GAEtB+Z,EAAa,eAAQ5B,EAAc4B,WAAY,GAE/CC,EAAS,eAAQ7B,EAAc8B,eAAgB,GAAK,eAAQ9B,EAAc+B,kBAAmB,GAC7FC,EAAU,eAAQhC,EAAciC,WAAY,GAAK,eAAQjC,EAAckC,cAAe,GAEtFlV,EAAS6U,EAASG,EAElBG,EAAYP,EAAaxvB,KAAKkuB,gBAAkBtT,EAEhDoV,EAAY,eAASva,EAAI,WAAamY,EAAcI,OAExD,eAASvY,EAAI,SAAU,QACvB,IAAIwa,EAAexa,EAAGwa,aAGtB,eAASxa,EAAI,SAAUua,GAEvB,IAAIE,EAAc,OAAA/B,EAAA,OAAS8B,EAAeL,GAAWJ,EAAY,GAE7DlC,EAAO,OAAAa,EAAA,MAAQ,OAAAA,EAAA,MAAQ+B,EAAalwB,KAAKkuB,iBAAkBluB,KAAKouB,iBAEhEJ,EAAS,OAAAG,EAAA,MAAQ,OAAAA,EAAA,MAASb,EAAOkC,EAAa5U,GAASmV,GAG3D,OAAI/vB,KAAKotB,cAAgB,eAAQ4C,EAAW,GAAKhC,EACxCgC,EAIF,GAAG1P,OAAO0N,EAAQ,QAG7BmC,OAAQ,SAAgB5jB,GACtB,OAAOA,EAAE,WAAY,CACnB6jB,MAAOpwB,KAAKqwB,cACZjd,MAAOpT,KAAK4tB,cACZJ,WAAY,CAAC,CACXtsB,KAAM,YACNT,MAAOT,KAAKovB,gBAEZrD,UAAW,CACT,KAAO,KAGXuE,MAAOtwB,KAAKquB,cACZkC,SAAU,CACR9vB,MAAOT,KAAKivB,YAEduB,GAAIxwB,KAAK4uB,kBACT6B,IAAK,c,mCC5MX,IAAIC,EAAI,EAAQ,QACZC,EAAgB,EAAQ,QACxBC,EAAkB,EAAQ,QAC1BC,EAAsB,EAAQ,QAE9BC,EAAa,GAAG1iB,KAEhB2iB,EAAcJ,GAAiBrf,OAC/B0f,EAAgBH,EAAoB,OAAQ,KAIhDH,EAAE,CAAE1mB,OAAQ,QAASinB,OAAO,EAAMC,OAAQH,IAAgBC,GAAiB,CACzE5iB,KAAM,SAAcgP,GAClB,OAAO0T,EAAW7a,KAAK2a,EAAgB5wB,WAAqBQ,IAAd4c,EAA0B,IAAMA,O,gECflF,IAAI,EAAS,WAAa,IAAI+T,EAAInxB,KAASoxB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,0EAA0EpB,MAAM,CAAC,KAAQe,EAAIM,iCAAiC,CAACH,EAAG,mBAAmB,CAAChB,MAAM,CAAC,kCAAkCa,EAAIO,6BAA6BlB,GAAG,CAAC,qCAAqC,SAASmB,GAAQR,EAAIO,4BAA4BC,GAAQ,yCAAyC,SAASA,GAAQR,EAAIO,4BAA4BC,OAAY,GAAGL,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,4CAA4C,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,gBAAgB,CAACb,IAAI,cAAce,YAAY,gBAAgBlB,MAAM,CAAC,QAAUa,EAAIS,oBAAoB,OAAON,EAAG,MAAM,CAACE,YAAY,uBAAuBpB,MAAM,CAAC,KAAQe,EAAIM,gCAAgCjB,GAAG,CAAC,MAAQ,SAASmB,GAAQR,EAAIM,gCAAiC,MAAUH,EAAG,yBAAyB,CAAChB,MAAM,CAAC,MAAQa,EAAItnB,MAAM,mBAAmBsnB,EAAIU,gBAAgBrB,GAAG,CAAC,eAAeW,EAAIW,YAAY,YAAYX,EAAIY,SAAS,eAAeZ,EAAIa,aAAaC,MAAM,CAACxxB,MAAO0wB,EAA+B,4BAAE1G,SAAS,SAAUyH,GAAMf,EAAIO,4BAA4BQ,GAAKC,WAAW,kCAAkC,MACj5CC,EAAkB,GCelBC,EAAgB,SAAS/lB,EAAG+Z,GAI5B,OAHAgM,EAAgB/gB,OAAOghB,gBAClB,CAAEC,UAAW,cAAgB1qB,OAAS,SAAUyE,EAAG+Z,GAAK/Z,EAAEimB,UAAYlM,IACvE,SAAU/Z,EAAG+Z,GAAK,IAAK,IAAImM,KAAKnM,EAAO/U,OAAO0E,UAAUyc,eAAexc,KAAKoQ,EAAGmM,KAAIlmB,EAAEkmB,GAAKnM,EAAEmM,KACzFH,EAAc/lB,EAAG+Z,IAGrB,SAASqM,EAAUpmB,EAAG+Z,GACzB,GAAiB,oBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIiD,UAAU,uBAAyB3oB,OAAO0lB,GAAK,iCAE7D,SAASsM,IAAO3yB,KAAK4yB,YAActmB,EADnC+lB,EAAc/lB,EAAG+Z,GAEjB/Z,EAAE0J,UAAkB,OAANqQ,EAAa/U,OAAOuhB,OAAOxM,IAAMsM,EAAG3c,UAAYqQ,EAAErQ,UAAW,IAAI2c,GAG5E,IAAIG,EAAW,WAQlB,OAPAA,EAAWxhB,OAAOC,QAAU,SAAkBhK,GAC1C,IAAK,IAAIjB,EAAGkG,EAAI,EAAGO,EAAIzM,UAAUC,OAAQiM,EAAIO,EAAGP,IAE5C,IAAK,IAAIgmB,KADTlsB,EAAIhG,UAAUkM,GACAlG,EAAOgL,OAAO0E,UAAUyc,eAAexc,KAAK3P,EAAGksB,KAAIjrB,EAAEirB,GAAKlsB,EAAEksB,IAE9E,OAAOjrB,GAEJurB,EAASprB,MAAM1H,KAAMM,YAoEHgR,OAAOuhB,OAyD7B,SAASE,EAAcpT,EAAID,EAAMsT,GACpC,GAAIA,GAA6B,IAArB1yB,UAAUC,OAAc,IAAK,IAA4B0yB,EAAxBzmB,EAAI,EAAGI,EAAI8S,EAAKnf,OAAYiM,EAAII,EAAGJ,KACxEymB,GAAQzmB,KAAKkT,IACRuT,IAAIA,EAAKprB,MAAMmO,UAAU9O,MAAM+O,KAAKyJ,EAAM,EAAGlT,IAClDymB,EAAGzmB,GAAKkT,EAAKlT,IAGrB,OAAOmT,EAAGW,OAAO2S,GAAMprB,MAAMmO,UAAU9O,MAAM+O,KAAKyJ,IAsC7BpO,OAAOuhB,O,ICjN5B,EAAEjmB,EAAE,EAAI,EAAE,EAAE,EAAEsmB,E,YAAE,EAAE,GAAGhlB,EAAE,GAAG5H,EAAE,oEAAoE,SAAS8f,EAAErZ,EAAEH,GAAG,IAAI,IAAII,KAAKJ,EAAEG,EAAEC,GAAGJ,EAAEI,GAAG,OAAOD,EAAE,SAAS,EAAEA,GAAG,IAAIH,EAAEG,EAAE/D,WAAW4D,GAAGA,EAAE/D,YAAYkE,GAAG,SAASomB,EAAEvmB,EAAEI,EAAER,GAAG,IAAIjF,EAAE6rB,EAAEC,EAAEH,EAAE,GAAG,IAAIG,KAAKrmB,EAAE,OAAOqmB,EAAE9rB,EAAEyF,EAAEqmB,GAAG,OAAOA,EAAED,EAAEpmB,EAAEqmB,GAAGH,EAAEG,GAAGrmB,EAAEqmB,GAAG,GAAG/yB,UAAUC,OAAO,IAAI2yB,EAAEjZ,SAAS3Z,UAAUC,OAAO,EAAE,EAAE0V,KAAK3V,UAAU,GAAGkM,GAAG,mBAAmBI,GAAG,MAAMA,EAAE0mB,aAAa,IAAID,KAAKzmB,EAAE0mB,kBAAa,IAASJ,EAAEG,KAAKH,EAAEG,GAAGzmB,EAAE0mB,aAAaD,IAAI,OAAOlmB,EAAEP,EAAEsmB,EAAE3rB,EAAE6rB,EAAE,MAAM,SAASjmB,EAAEJ,EAAEP,EAAEjF,EAAE6rB,EAAEC,GAAG,IAAIH,EAAE,CAAC1pB,KAAKuD,EAAEzN,MAAMkN,EAAEnM,IAAIkH,EAAEkpB,IAAI2C,EAAEG,IAAI,KAAKZ,GAAG,KAAKa,IAAI,EAAEC,IAAI,KAAKC,SAAI,EAAOC,IAAI,KAAKC,IAAI,KAAKhB,iBAAY,EAAOiB,IAAI,MAAMR,IAAI,EAAEA,GAAG,OAAO,MAAMzmB,EAAE4d,OAAO5d,EAAE4d,MAAM0I,GAAGA,EAAE,SAASV,IAAI,MAAM,CAACnY,QAAQ,MAAM,SAAS/N,EAAES,GAAG,OAAOA,EAAEkN,SAAS,SAAStO,EAAEoB,EAAEH,GAAG5M,KAAKV,MAAMyN,EAAE/M,KAAKsrB,QAAQ1e,EAAE,SAAS8R,EAAE3R,EAAEH,GAAG,GAAG,MAAMA,EAAE,OAAOG,EAAE4lB,GAAGjU,EAAE3R,EAAE4lB,GAAG5lB,EAAE4lB,GAAGY,IAAIzxB,QAAQiL,GAAG,GAAG,KAAK,IAAI,IAAIC,EAAEJ,EAAEG,EAAEwmB,IAAIhzB,OAAOqM,IAAI,GAAG,OAAOI,EAAED,EAAEwmB,IAAI3mB,KAAK,MAAMI,EAAEymB,IAAI,OAAOzmB,EAAEymB,IAAI,MAAM,mBAAmB1mB,EAAEvD,KAAKkV,EAAE3R,GAAG,KAAK,SAASsZ,EAAEtZ,GAAG,IAAIH,EAAEI,EAAE,GAAG,OAAOD,EAAEA,EAAE4lB,KAAK,MAAM5lB,EAAE4mB,IAAI,CAAC,IAAI5mB,EAAE0mB,IAAI1mB,EAAE4mB,IAAIG,KAAK,KAAKlnB,EAAE,EAAEA,EAAEG,EAAEwmB,IAAIhzB,OAAOqM,IAAI,GAAG,OAAOI,EAAED,EAAEwmB,IAAI3mB,KAAK,MAAMI,EAAEymB,IAAI,CAAC1mB,EAAE0mB,IAAI1mB,EAAE4mB,IAAIG,KAAK9mB,EAAEymB,IAAI,MAAM,OAAOpN,EAAEtZ,IAAI,SAASF,EAAEE,KAAKA,EAAE2mB,MAAM3mB,EAAE2mB,KAAI,IAAK,EAAE9d,KAAK7I,KAAKgnB,EAAEC,OAAO,IAAIpnB,EAAEqnB,sBAAsB,EAAErnB,EAAEqnB,oBAAoB,GAAGF,GAAG,SAASA,IAAI,IAAI,IAAIhnB,EAAEgnB,EAAEC,IAAI,EAAEzzB,QAAQwM,EAAE,EAAEoZ,MAAK,SAASpZ,EAAEH,GAAG,OAAOG,EAAE8mB,IAAIL,IAAI5mB,EAAEinB,IAAIL,OAAM,EAAE,GAAGzmB,EAAEkS,MAAK,SAASlS,GAAG,IAAIH,EAAEI,EAAER,EAAEjF,EAAE6rB,EAAEC,EAAEtmB,EAAE2mB,MAAMN,GAAG7rB,GAAGqF,EAAEG,GAAG8mB,KAAKJ,KAAKJ,EAAEzmB,EAAEsnB,OAAOlnB,EAAE,IAAIR,EAAE4Z,EAAE,GAAG7e,IAAIssB,IAAItsB,EAAEssB,IAAI,EAAElnB,EAAE0mB,EAAE9rB,EAAEiF,EAAEI,EAAEunB,SAAI,IAASd,EAAEe,gBAAgB,MAAM7sB,EAAEqsB,IAAI,CAACR,GAAG,KAAKpmB,EAAE,MAAMomB,EAAE1U,EAAEnX,GAAG6rB,EAAE7rB,EAAEqsB,KAAKS,EAAErnB,EAAEzF,GAAGA,EAAEksB,KAAKL,GAAG/M,EAAE9e,QAAO,SAAS2F,EAAEH,EAAEH,EAAEI,EAAER,EAAEjF,EAAE6rB,EAAEC,EAAEH,EAAE5sB,EAAE8f,GAAG,IAAI7Z,EAAE4mB,EAAEX,EAAE7mB,EAAE0a,EAAExZ,EAAEknB,EAAE7mB,EAAEV,GAAGA,EAAE+mB,KAAKrlB,EAAEomB,EAAEpnB,EAAE3M,OAAO,IAAIyM,EAAEumB,IAAI,GAAGhnB,EAAE,EAAEA,EAAEK,EAAErM,OAAOgM,IAAI,GAAG,OAAOZ,EAAEqB,EAAEumB,IAAIhnB,GAAG,OAAOZ,EAAEiB,EAAEL,KAAK,kBAAkBZ,EAAE,KAAK,iBAAiBA,GAAG,iBAAiBA,GAAG,iBAAiBA,EAAEwB,EAAE,KAAKxB,EAAE,KAAK,KAAKA,GAAG9D,MAAM0sB,QAAQ5oB,GAAGwB,EAAEb,EAAE,CAAC2N,SAAStO,GAAG,KAAK,KAAK,MAAMA,EAAE6nB,IAAI,EAAErmB,EAAExB,EAAEnC,KAAKmC,EAAErM,MAAMqM,EAAEtL,IAAI,KAAKsL,EAAEkoB,KAAKloB,GAAG,CAAC,GAAGA,EAAEgnB,GAAG3lB,EAAErB,EAAE6nB,IAAIxmB,EAAEwmB,IAAI,EAAE,QAAQhB,EAAEtlB,EAAEX,KAAKimB,GAAG7mB,EAAEtL,KAAKmyB,EAAEnyB,KAAKsL,EAAEnC,OAAOgpB,EAAEhpB,KAAK0D,EAAEX,QAAG,OAAY,IAAI4mB,EAAE,EAAEA,EAAEmB,EAAEnB,IAAI,CAAC,IAAIX,EAAEtlB,EAAEimB,KAAKxnB,EAAEtL,KAAKmyB,EAAEnyB,KAAKsL,EAAEnC,OAAOgpB,EAAEhpB,KAAK,CAAC0D,EAAEimB,QAAG,EAAO,MAAMX,EAAE,KAAK7lB,EAAEI,EAAEpB,EAAE6mB,EAAEA,GAAG,EAAEjrB,EAAE6rB,EAAEC,EAAEH,EAAE5sB,EAAE8f,GAAGC,EAAE1a,EAAE8nB,KAAKN,EAAExnB,EAAE8kB,MAAM+B,EAAE/B,KAAK0C,IAAIY,IAAIA,EAAE,IAAIvB,EAAE/B,KAAKsD,EAAEne,KAAK4c,EAAE/B,IAAI,KAAK9kB,GAAGooB,EAAEne,KAAKud,EAAExnB,EAAEgoB,KAAKtN,EAAE1a,IAAI,MAAM0a,GAAG,MAAMxZ,IAAIA,EAAEwZ,GAAG,mBAAmB1a,EAAEnC,MAAM,MAAMmC,EAAE4nB,KAAK5nB,EAAE4nB,MAAMf,EAAEe,IAAI5nB,EAAE+nB,IAAIptB,EAAEma,EAAE9U,EAAErF,EAAEyG,GAAGzG,EAAEkuB,EAAEznB,EAAEpB,EAAE6mB,EAAEtlB,EAAEmZ,EAAE/f,GAAG8f,GAAG,WAAWpZ,EAAExD,KAAK,mBAAmBwD,EAAExD,OAAOwD,EAAE0mB,IAAIptB,GAAGyG,EAAEtM,MAAM,IAAI6F,GAAGksB,EAAEiB,KAAKntB,GAAGA,EAAE0C,YAAY+D,IAAIzG,EAAEoY,EAAE8T,IAAI,IAAIxlB,EAAEymB,IAAI5mB,EAAEN,EAAE+nB,EAAE/nB,KAAK,MAAMW,EAAEX,KAAK,mBAAmBS,EAAExD,MAAM,MAAM0D,EAAEX,GAAGknB,KAAKvmB,EAAEX,GAAGknB,KAAKzmB,EAAE0mB,MAAM1mB,EAAE0mB,IAAIhV,EAAElS,EAAED,EAAE,IAAIkoB,EAAEvnB,EAAEX,GAAGW,EAAEX,KAAK,GAAGwnB,EAAE,IAAIxnB,EAAE,EAAEA,EAAEwnB,EAAExzB,OAAOgM,IAAIlB,EAAE0oB,EAAExnB,GAAGwnB,IAAIxnB,GAAGwnB,IAAIxnB,IAAI,SAASkU,EAAE1T,EAAEH,EAAEI,GAAG,IAAIR,EAAEjF,EAAE,IAAIiF,EAAE,EAAEA,EAAEO,EAAEwmB,IAAIhzB,OAAOiM,KAAKjF,EAAEwF,EAAEwmB,IAAI/mB,MAAMjF,EAAEorB,GAAG5lB,EAAEH,EAAE,mBAAmBrF,EAAEiC,KAAKiX,EAAElZ,EAAEqF,EAAEI,GAAGwnB,EAAExnB,EAAEzF,EAAEA,EAAEwF,EAAEwmB,IAAIhsB,EAAEksB,IAAI7mB,IAAI,OAAOA,EAAE,SAAS0nB,EAAEvnB,EAAEH,GAAG,OAAOA,EAAEA,GAAG,GAAG,MAAMG,GAAG,kBAAkBA,IAAIlF,MAAM0sB,QAAQxnB,GAAGA,EAAEkS,MAAK,SAASlS,GAAGunB,EAAEvnB,EAAEH,MAAKA,EAAEgJ,KAAK7I,IAAIH,EAAE,SAAS4nB,EAAEznB,EAAEH,EAAEI,EAAER,EAAEjF,EAAE6rB,GAAG,IAAIC,EAAEH,EAAE3qB,EAAE,QAAG,IAASqE,EAAE8mB,IAAIL,EAAEzmB,EAAE8mB,IAAI9mB,EAAE8mB,SAAI,OAAY,GAAG,MAAM1mB,GAAGzF,GAAG6rB,GAAG,MAAM7rB,EAAEyB,WAAW+D,EAAE,GAAG,MAAMqmB,GAAGA,EAAEpqB,aAAa+D,EAAEA,EAAEpD,YAAYpC,GAAG8rB,EAAE,SAAS,CAAC,IAAIH,EAAEE,EAAE7qB,EAAE,GAAG2qB,EAAEA,EAAEna,cAAcxQ,EAAEiE,EAAEjM,OAAOgI,GAAG,EAAE,GAAG2qB,GAAG3rB,EAAE,MAAMwF,EAAEA,EAAE+L,aAAavR,EAAE6rB,GAAGC,EAAED,EAAE,YAAO,IAASC,EAAEA,EAAE9rB,EAAEwR,YAAY,SAAS2b,EAAE3nB,EAAEH,EAAEI,EAAER,EAAEjF,GAAG,IAAI6rB,EAAE,IAAIA,KAAKpmB,EAAE,aAAaomB,GAAG,QAAQA,GAAGA,KAAKxmB,GAAG9B,EAAEiC,EAAEqmB,EAAE,KAAKpmB,EAAEomB,GAAG5mB,GAAG,IAAI4mB,KAAKxmB,EAAErF,GAAG,mBAAmBqF,EAAEwmB,IAAI,aAAaA,GAAG,QAAQA,GAAG,UAAUA,GAAG,YAAYA,GAAGpmB,EAAEomB,KAAKxmB,EAAEwmB,IAAItoB,EAAEiC,EAAEqmB,EAAExmB,EAAEwmB,GAAGpmB,EAAEomB,GAAG5mB,GAAG,SAASkkB,EAAE3jB,EAAEH,EAAEI,GAAG,MAAMJ,EAAE,GAAGG,EAAE4nB,YAAY/nB,EAAEI,GAAGD,EAAEH,GAAG,MAAMI,EAAE,GAAG,iBAAiBA,GAAG1G,EAAE8E,KAAKwB,GAAGI,EAAEA,EAAE,KAAK,SAASlC,EAAEiC,EAAEH,EAAEI,EAAER,EAAEjF,GAAG,IAAI6rB,EAAErmB,EAAE,GAAG,UAAUH,EAAE,GAAG,iBAAiBI,EAAED,EAAEqG,MAAMwhB,QAAQ5nB,MAAM,CAAC,GAAG,iBAAiBR,IAAIO,EAAEqG,MAAMwhB,QAAQpoB,EAAE,IAAIA,EAAE,IAAII,KAAKJ,EAAEQ,GAAGJ,KAAKI,GAAG0jB,EAAE3jB,EAAEqG,MAAMxG,EAAE,IAAI,GAAGI,EAAE,IAAIJ,KAAKI,EAAER,GAAGQ,EAAEJ,KAAKJ,EAAEI,IAAI8jB,EAAE3jB,EAAEqG,MAAMxG,EAAEI,EAAEJ,SAAS,GAAG,MAAMA,EAAE,IAAI,MAAMA,EAAE,GAAGwmB,EAAExmB,KAAKA,EAAEA,EAAEioB,QAAQ,WAAW,KAAKjoB,EAAEA,EAAEgU,gBAAgB7T,EAAEH,EAAEgU,cAAc1Z,MAAM,GAAG0F,EAAE1F,MAAM,GAAG6F,EAAEH,IAAIG,EAAEH,EAAE,IAAIG,EAAEH,EAAEA,EAAEwmB,GAAGpmB,EAAEA,EAAER,GAAGO,EAAE2I,iBAAiB9I,EAAEwmB,EAAE0B,EAAEC,EAAE3B,GAAGrmB,EAAE8I,oBAAoBjJ,EAAEwmB,EAAE0B,EAAEC,EAAE3B,QAAQ,GAAG,4BAA4BxmB,EAAE,CAAC,GAAGrF,EAAEqF,EAAEA,EAAEioB,QAAQ,aAAa,KAAKA,QAAQ,SAAS,UAAU,GAAG,SAASjoB,GAAG,SAASA,GAAG,SAASA,GAAG,aAAaA,GAAG,aAAaA,GAAGA,KAAKG,EAAE,IAAIA,EAAEH,GAAG,MAAMI,EAAE,GAAGA,EAAE,MAAMD,EAAE,MAAMA,IAAI,mBAAmBC,IAAI,MAAMA,KAAI,IAAKA,GAAG,MAAMJ,EAAE,IAAI,MAAMA,EAAE,IAAIG,EAAErD,aAAakD,EAAEI,GAAGD,EAAE0R,gBAAgB7R,KAAK,SAASmoB,EAAEhoB,GAAG/M,KAAK4M,EAAEG,EAAEvD,MAAK,GAAIoD,EAAE/C,MAAM+C,EAAE/C,MAAMkD,GAAGA,GAAG,SAAS+nB,EAAE/nB,GAAG/M,KAAK4M,EAAEG,EAAEvD,MAAK,GAAIoD,EAAE/C,MAAM+C,EAAE/C,MAAMkD,GAAGA,GAAG,SAASJ,EAAEI,EAAEC,EAAER,EAAEjF,EAAE6rB,EAAEC,EAAEH,EAAE3qB,EAAE2F,GAAG,IAAI5H,EAAEiG,EAAE4mB,EAAEhmB,EAAEqlB,EAAE9T,EAAE2H,EAAExZ,EAAEknB,EAAEtT,EAAE6T,EAAEE,EAAExnB,EAAExD,KAAK,QAAG,IAASwD,EAAE4lB,YAAY,OAAO,KAAK,MAAMpmB,EAAEonB,MAAM1lB,EAAE1B,EAAEonB,IAAIrrB,EAAEyE,EAAEymB,IAAIjnB,EAAEinB,IAAIzmB,EAAE4mB,IAAI,KAAKP,EAAE,CAAC9qB,KAAKjC,EAAEsG,EAAE4mB,MAAMltB,EAAE0G,GAAG,IAAID,EAAE,GAAG,mBAAmBynB,EAAE,CAAC,GAAG3nB,EAAEG,EAAE1N,MAAMy0B,GAAGztB,EAAEkuB,EAAEQ,cAAcztB,EAAEjB,EAAEqtB,KAAKlT,EAAEna,EAAEytB,EAAEA,EAAEz0B,MAAMmB,MAAM6F,EAAEqsB,GAAGprB,EAAEiF,EAAEmnB,IAAItN,GAAG9Z,EAAES,EAAE2mB,IAAInnB,EAAEmnB,KAAKhB,GAAGpmB,EAAE0oB,KAAK,cAAcT,GAAGA,EAAExe,UAAUma,OAAOnjB,EAAE2mB,IAAIpnB,EAAE,IAAIioB,EAAE3nB,EAAE4T,IAAIzT,EAAE2mB,IAAIpnB,EAAE,IAAIZ,EAAEkB,EAAE4T,GAAGlU,EAAEqmB,YAAY4B,EAAEjoB,EAAE4jB,OAAO+E,GAAGnB,GAAGA,EAAEoB,IAAI5oB,GAAGA,EAAEjN,MAAMuN,EAAEN,EAAE6oB,QAAQ7oB,EAAE6oB,MAAM,IAAI7oB,EAAE+e,QAAQ7K,EAAElU,EAAE4nB,IAAI5sB,EAAE4rB,EAAE5mB,EAAEmnB,KAAI,EAAGnnB,EAAEqnB,IAAI,IAAI,MAAMrnB,EAAE8oB,MAAM9oB,EAAE8oB,IAAI9oB,EAAE6oB,OAAO,MAAMZ,EAAEc,2BAA2B/oB,EAAE8oB,KAAK9oB,EAAE6oB,QAAQ7oB,EAAE8oB,IAAIjP,EAAE,GAAG7Z,EAAE8oB,MAAMjP,EAAE7Z,EAAE8oB,IAAIb,EAAEc,yBAAyBzoB,EAAEN,EAAE8oB,OAAOloB,EAAEZ,EAAEjN,MAAMkzB,EAAEjmB,EAAE6oB,MAAMjC,EAAE,MAAMqB,EAAEc,0BAA0B,MAAM/oB,EAAEgpB,oBAAoBhpB,EAAEgpB,qBAAqB,MAAMhpB,EAAEipB,mBAAmBjpB,EAAEqnB,IAAIhe,KAAKrJ,EAAEipB,uBAAuB,CAAC,GAAG,MAAMhB,EAAEc,0BAA0BzoB,IAAIM,GAAG,MAAMZ,EAAEkpB,2BAA2BlpB,EAAEkpB,0BAA0B5oB,EAAE4T,IAAIlU,EAAEknB,KAAK,MAAMlnB,EAAEmpB,wBAAuB,IAAKnpB,EAAEmpB,sBAAsB7oB,EAAEN,EAAE8oB,IAAI5U,IAAIzT,EAAE6mB,MAAMrnB,EAAEqnB,IAAI,CAACtnB,EAAEjN,MAAMuN,EAAEN,EAAE6oB,MAAM7oB,EAAE8oB,IAAIroB,EAAE6mB,MAAMrnB,EAAEqnB,MAAMtnB,EAAEmnB,KAAI,GAAInnB,EAAEsnB,IAAI7mB,EAAEA,EAAEymB,IAAIjnB,EAAEinB,IAAIzmB,EAAEumB,IAAI/mB,EAAE+mB,IAAIvmB,EAAEumB,IAAI7jB,SAAQ,SAAS3C,GAAGA,IAAIA,EAAE4lB,GAAG3lB,MAAKT,EAAEqnB,IAAIrzB,QAAQ2yB,EAAEtd,KAAKrJ,GAAG,MAAMQ,EAAE,MAAMR,EAAEopB,qBAAqBppB,EAAEopB,oBAAoB9oB,EAAEN,EAAE8oB,IAAI5U,GAAG,MAAMlU,EAAEqpB,oBAAoBrpB,EAAEqnB,IAAIhe,MAAK,WAAWrJ,EAAEqpB,mBAAmBzoB,EAAEqlB,EAAE9T,MAAKnS,EAAE+e,QAAQ7K,EAAElU,EAAEjN,MAAMuN,EAAEN,EAAE6oB,MAAM7oB,EAAE8oB,KAAK/uB,EAAEsG,EAAEonB,MAAM1tB,EAAE0G,GAAGT,EAAEmnB,KAAI,EAAGnnB,EAAEsnB,IAAI7mB,EAAET,EAAE2nB,IAAInnB,EAAEzG,EAAEiG,EAAE4jB,OAAO5jB,EAAEjN,MAAMiN,EAAE6oB,MAAM7oB,EAAE+e,SAAS/e,EAAE6oB,MAAM7oB,EAAE8oB,IAAI,MAAM9oB,EAAEspB,kBAAkBtuB,EAAE6e,EAAEA,EAAE,GAAG7e,GAAGgF,EAAEspB,oBAAoB1C,GAAG,MAAM5mB,EAAEupB,0BAA0BpX,EAAEnS,EAAEupB,wBAAwB3oB,EAAEqlB,IAAI8B,EAAE,MAAMhuB,GAAGA,EAAEkD,OAAO8C,GAAG,MAAMhG,EAAEjG,IAAIiG,EAAEhH,MAAM2a,SAAS3T,EAAE4G,EAAEH,EAAElF,MAAM0sB,QAAQD,GAAGA,EAAE,CAACA,GAAGtnB,EAAER,EAAEjF,EAAE6rB,EAAEC,EAAEH,EAAE3qB,EAAE2F,GAAG3B,EAAEunB,KAAK9mB,EAAEymB,IAAIzmB,EAAE4mB,IAAI,KAAKrnB,EAAEqnB,IAAIrzB,QAAQ2yB,EAAEtd,KAAKrJ,GAAG8Z,IAAI9Z,EAAE0oB,IAAI1oB,EAAEomB,GAAG,MAAMpmB,EAAEknB,KAAI,OAAQ,MAAMJ,GAAGrmB,EAAE6mB,MAAMrnB,EAAEqnB,KAAK7mB,EAAEumB,IAAI/mB,EAAE+mB,IAAIvmB,EAAEymB,IAAIjnB,EAAEinB,KAAKzmB,EAAEymB,IAAIsC,EAAEvpB,EAAEinB,IAAIzmB,EAAER,EAAEjF,EAAE6rB,EAAEC,EAAEH,EAAEhlB,IAAI5H,EAAEsG,EAAEopB,SAAS1vB,EAAE0G,GAAG,MAAMD,GAAGC,EAAE6mB,IAAI,MAAM3lB,GAAG,MAAMmlB,KAAKrmB,EAAEymB,IAAIlrB,EAAEyE,EAAE4mB,MAAM1lB,EAAEmlB,EAAEA,EAAEvxB,QAAQyG,IAAI,MAAMqE,EAAE6mB,IAAI1mB,EAAEC,EAAER,IAAI,SAAS6nB,EAAEtnB,EAAEC,GAAGJ,EAAE+mB,KAAK/mB,EAAE+mB,IAAI3mB,EAAED,GAAGA,EAAEkS,MAAK,SAASjS,GAAG,IAAID,EAAEC,EAAE4mB,IAAI5mB,EAAE4mB,IAAI,GAAG7mB,EAAEkS,MAAK,SAASlS,GAAGA,EAAEkJ,KAAKjJ,MAAK,MAAMD,GAAGH,EAAE6mB,IAAI1mB,EAAEC,EAAE6mB,SAAQ,SAASkC,EAAEnpB,EAAEI,EAAER,EAAEjF,EAAE6rB,EAAEC,EAAEH,EAAEhlB,GAAG,IAAI5H,EAAE8f,EAAE+M,EAAEhmB,EAAEX,EAAElN,MAAMkzB,EAAExlB,EAAE1N,MAAMgN,EAAEU,EAAExD,KAAKmC,EAAE,EAAE,GAAG,QAAQW,IAAI8mB,GAAE,GAAI,MAAMC,EAAE,KAAK1nB,EAAE0nB,EAAE9yB,OAAOoL,IAAI,IAAIrF,EAAE+sB,EAAE1nB,MAAMrF,IAAIsG,IAAIN,EAAEhG,EAAE2vB,WAAW3pB,EAAE,GAAGhG,EAAEuS,WAAW,CAACjM,EAAEtG,EAAE+sB,EAAE1nB,GAAG,KAAK,MAAM,GAAG,MAAMiB,EAAE,CAAC,GAAG,OAAON,EAAE,OAAO9D,SAAS0tB,eAAe1D,GAAG5lB,EAAEwmB,EAAE5qB,SAAS2tB,gBAAgB,6BAA6B7pB,GAAG9D,SAASJ,cAAckE,EAAEkmB,EAAE4D,IAAI5D,GAAGa,EAAE,KAAKnlB,GAAE,EAAG,GAAG,OAAO5B,EAAEa,IAAIqlB,GAAGtkB,GAAGtB,EAAE8a,OAAO8K,IAAI5lB,EAAE8a,KAAK8K,OAAO,CAAC,GAAGa,EAAEA,GAAG,EAAEpd,KAAKrJ,EAAEypB,YAAYjQ,GAAGjZ,EAAEX,EAAElN,OAAO,GAAGg3B,wBAAwBnD,EAAEX,EAAE8D,yBAAyBpoB,EAAE,CAAC,GAAG,MAAMmlB,EAAE,IAAIlmB,EAAE,GAAGxB,EAAE,EAAEA,EAAEiB,EAAE2pB,WAAWh2B,OAAOoL,IAAIwB,EAAEP,EAAE2pB,WAAW5qB,GAAGzK,MAAM0L,EAAE2pB,WAAW5qB,GAAGlL,OAAO0yB,GAAG/M,KAAK+M,IAAI/M,GAAG+M,EAAEqD,QAAQpQ,EAAEoQ,QAAQrD,EAAEqD,SAAS5pB,EAAEkP,aAAalP,EAAEkP,UAAUqX,GAAGA,EAAEqD,QAAQ,KAAK,GAAG9B,EAAE9nB,EAAE4lB,EAAErlB,EAAEimB,EAAEllB,GAAGilB,EAAEnmB,EAAEumB,IAAI,QAAQ,GAAG5nB,EAAEqB,EAAE1N,MAAM2a,SAAS/M,EAAEN,EAAE/E,MAAM0sB,QAAQ5oB,GAAGA,EAAE,CAACA,GAAGqB,EAAER,EAAEjF,EAAE6rB,GAAG,kBAAkB9mB,EAAE+mB,EAAEH,EAAEG,EAAEA,EAAE,GAAG7mB,EAAE+mB,KAAK7U,EAAElS,EAAE,GAAG0B,GAAG,MAAMmlB,EAAE,IAAI1nB,EAAE0nB,EAAE9yB,OAAOoL,KAAK,MAAM0nB,EAAE1nB,IAAI,EAAE0nB,EAAE1nB,IAAIuC,IAAI,UAAUskB,QAAG,KAAU7mB,EAAE6mB,EAAE/xB,SAASkL,IAAIiB,EAAEnM,OAAO,aAAa6L,IAAIX,IAAIb,EAAE8B,EAAE,QAAQjB,EAAEwB,EAAE1M,OAAM,GAAI,YAAY+xB,QAAG,KAAU7mB,EAAE6mB,EAAEiE,UAAU9qB,IAAIiB,EAAE6pB,SAAS3rB,EAAE8B,EAAE,UAAUjB,EAAEwB,EAAEspB,SAAQ,IAAK,OAAO7pB,EAAE,SAASvB,EAAE0B,EAAEC,EAAER,GAAG,IAAI,mBAAmBO,EAAEA,EAAEC,GAAGD,EAAEsN,QAAQrN,EAAE,MAAMD,GAAGH,EAAE6mB,IAAI1mB,EAAEP,IAAI,SAASioB,EAAE1nB,EAAEC,EAAER,GAAG,IAAIjF,EAAE6rB,EAAE,GAAGxmB,EAAE8pB,SAAS9pB,EAAE8pB,QAAQ3pB,IAAIxF,EAAEwF,EAAE0jB,OAAOlpB,EAAE8S,SAAS9S,EAAE8S,UAAUtN,EAAE0mB,KAAKpoB,EAAE9D,EAAE,KAAKyF,IAAI,OAAOzF,EAAEwF,EAAE4mB,KAAK,CAAC,GAAGpsB,EAAEovB,qBAAqB,IAAIpvB,EAAEovB,uBAAuB,MAAM5pB,GAAGH,EAAE6mB,IAAI1mB,EAAEC,GAAGzF,EAAEusB,KAAKvsB,EAAE2sB,IAAI,KAAK,GAAG3sB,EAAEwF,EAAEwmB,IAAI,IAAIH,EAAE,EAAEA,EAAE7rB,EAAEhH,OAAO6yB,IAAI7rB,EAAE6rB,IAAIqB,EAAEltB,EAAE6rB,GAAGpmB,EAAE,mBAAmBD,EAAEvD,MAAMgD,GAAG,MAAMO,EAAE0mB,KAAK,EAAE1mB,EAAE0mB,KAAK1mB,EAAE0mB,IAAI1mB,EAAE2mB,SAAI,EAAO,SAASwB,EAAEnoB,EAAEH,EAAEI,GAAG,OAAOhN,KAAK4yB,YAAY7lB,EAAEC,GAAG,SAASzB,EAAEyB,EAAER,EAAEjF,GAAG,IAAI6rB,EAAEC,EAAEH,EAAEtmB,EAAE+lB,IAAI/lB,EAAE+lB,GAAG3lB,EAAER,GAAG6mB,GAAGD,EAAE,mBAAmB7rB,GAAG,KAAKA,GAAGA,EAAEgsB,KAAK/mB,EAAE+mB,IAAIL,EAAE,GAAGvmB,EAAEH,EAAEQ,IAAIomB,GAAG7rB,GAAGiF,GAAG+mB,IAAIJ,EAAE7mB,EAAE,KAAK,CAACU,IAAIqmB,GAAG,EAAE,OAAE,IAAS7mB,EAAE4nB,iBAAiBhB,GAAG7rB,EAAE,CAACA,GAAG8rB,EAAE,KAAK7mB,EAAE5D,WAAW,EAAEqN,KAAKzJ,EAAE6pB,YAAY,KAAKnD,GAAGE,GAAG7rB,EAAEA,EAAE8rB,EAAEA,EAAEI,IAAIjnB,EAAE5D,WAAWwqB,GAAGiB,EAAEnB,EAAElmB,GAAiP,SAAS1C,EAAEyC,EAAEH,GAAG,IAAII,EAAE,CAAC2mB,IAAI/mB,EAAE,OAAOsmB,IAAIP,GAAG5lB,EAAE6pB,SAAS,SAAS7pB,EAAEH,GAAG,OAAOG,EAAEkN,SAASrN,IAAIiqB,SAAS,SAAS9pB,GAAG,IAAIC,EAAER,EAAE,OAAOxM,KAAK61B,kBAAkB7oB,EAAE,IAAIR,EAAE,IAAII,GAAG5M,KAAKA,KAAK61B,gBAAgB,WAAW,OAAOrpB,GAAGxM,KAAK01B,sBAAsB,SAAS3oB,GAAG/M,KAAKV,MAAMmB,QAAQsM,EAAEtM,OAAOuM,EAAEiS,KAAKpS,IAAI7M,KAAKm1B,IAAI,SAASpoB,GAAGC,EAAE4I,KAAK7I,GAAG,IAAIH,EAAEG,EAAE4pB,qBAAqB5pB,EAAE4pB,qBAAqB,WAAW3pB,EAAE4Q,OAAO5Q,EAAElL,QAAQiL,GAAG,GAAGH,GAAGA,EAAEqJ,KAAKlJ,MAAMA,EAAEkN,WAAW,OAAOjN,EAAE6pB,SAASlE,GAAG3lB,EAAE4pB,SAAS5B,YAAYhoB,EAAE,EAAEkB,EAAEhH,MAAM0F,EAAE,CAAC6mB,IAAI,SAAS1mB,EAAEH,GAAG,IAAI,IAAII,EAAER,EAAEjF,EAAEqF,EAAEA,EAAE+lB,IAAI,IAAI3lB,EAAEJ,EAAE+mB,OAAO3mB,EAAE2lB,GAAG,IAAI,IAAInmB,EAAEQ,EAAE4lB,cAAc,MAAMpmB,EAAEsqB,2BAA2B9pB,EAAE+pB,SAASvqB,EAAEsqB,yBAAyB/pB,IAAIxF,EAAEyF,EAAE0mB,KAAK,MAAM1mB,EAAEgqB,oBAAoBhqB,EAAEgqB,kBAAkBjqB,GAAGxF,EAAEyF,EAAE0mB,KAAKnsB,EAAE,OAAOyF,EAAEioB,IAAIjoB,EAAE,MAAMJ,GAAGG,EAAEH,EAAE,MAAMG,IAAI,EAAE,EAAwDpB,EAAEqK,UAAU+gB,SAAS,SAAShqB,EAAEH,GAAG,IAAII,EAAEA,EAAE,MAAMhN,KAAKq1B,KAAKr1B,KAAKq1B,MAAMr1B,KAAKo1B,MAAMp1B,KAAKq1B,IAAIr1B,KAAKq1B,IAAIjP,EAAE,GAAGpmB,KAAKo1B,OAAO,mBAAmBroB,IAAIA,EAAEA,EAAEqZ,EAAE,GAAGpZ,GAAGhN,KAAKV,QAAQyN,GAAGqZ,EAAEpZ,EAAED,GAAG,MAAMA,GAAG/M,KAAK6zB,MAAMjnB,GAAG5M,KAAK4zB,IAAIhe,KAAKhJ,GAAGC,EAAE7M,QAAQ2L,EAAEqK,UAAUihB,YAAY,SAASlqB,GAAG/M,KAAK6zB,MAAM7zB,KAAKyzB,KAAI,EAAG1mB,GAAG/M,KAAK4zB,IAAIhe,KAAK7I,GAAGF,EAAE7M,QAAQ2L,EAAEqK,UAAUma,OAAO7jB,EAAE,EAAE,GAAG,EAAE,mBAAmB4qB,QAAQA,QAAQlhB,UAAUmhB,KAAKlkB,KAAKikB,QAAQE,WAAW3vB,WAAWssB,EAAEC,IAAI,EAAEd,EAAE,ECAjhT,IAAM,EAAE,EAAM,EAAE,GAAG,EAAE,EAAEM,IAAI,EAAE,EAAEQ,IAAI,EAAE,EAAEgC,OAAO,GAAE,EAAErC,IAAI,GAAE,EAAE+C,QAA2nC,SAAS,KAAI,EAAEhnB,SAAQ,SAASnI,GAAG,GAAGA,EAAE2sB,IAAI,IAAI3sB,EAAE8vB,IAAIzD,IAAIlkB,QAAQ,IAAGnI,EAAE8vB,IAAIzD,IAAIlkB,QAAQ,IAAGnI,EAAE8vB,IAAIzD,IAAI,GAAG,MAAM5mB,GAAGzF,EAAE8vB,IAAIzD,IAAI,GAAG,EAAEH,IAAIzmB,EAAEzF,EAAEssB,SAAQ,EAAE,GAAG,EAAEL,IAAI,SAASzmB,GAAG,EAAE,KAAK,GAAG,EAAEA,IAAI,EAAEinB,IAAI,SAASjnB,GAAG,GAAG,EAAEA,GAAK,EAAE,IAAIsmB,GAAG,EAAEtmB,EAAE4mB,KAAK0D,IAAIhE,IAAIA,EAAEO,IAAIlkB,QAAQ,IAAG2jB,EAAEO,IAAIlkB,QAAQ,IAAG2jB,EAAEO,IAAI,KAAK,EAAEoC,OAAO,SAASzuB,GAAG,GAAG,EAAEA,GAAG,IAAI6rB,EAAE7rB,EAAEosB,IAAIP,GAAGA,EAAEiE,KAAKjE,EAAEiE,IAAIzD,IAAIrzB,SAAS,IAAI,EAAEqV,KAAKwd,IAAI,IAAI,EAAElgB,yBAAyB,EAAE,EAAEA,wBAAwB,SAASnG,GAAG,IAAIxF,EAAEyF,EAAE,WAAWxF,aAAa6rB,GAAG,IAAGiE,qBAAqB/vB,GAAGE,WAAWsF,IAAIsmB,EAAE5rB,WAAWuF,EAAE,KAAK,KAAIzF,EAAE2L,sBAAsBlG,MAAM,KAAI,OAAE,GAAQ,EAAE2mB,IAAI,SAASpsB,EAAEyF,GAAGA,EAAEiS,MAAK,SAAS1X,GAAG,IAAIA,EAAEqsB,IAAIlkB,QAAQ,IAAGnI,EAAEqsB,IAAIrsB,EAAEqsB,IAAIpT,QAAO,SAASzT,GAAG,OAAOA,EAAE4lB,IAAI,GAAE5lB,MAAK,MAAMsmB,GAAGrmB,EAAEiS,MAAK,SAASlS,GAAGA,EAAE6mB,MAAM7mB,EAAE6mB,IAAI,OAAM5mB,EAAE,GAAG,EAAEymB,IAAIJ,EAAE9rB,EAAEssB,SAAQ,IAAG,GAAEtsB,EAAEyF,IAAI,EAAE0pB,QAAQ,SAASnvB,GAAG,IAAG,GAAEA,GAAG,IAAIyF,EAAEzF,EAAEosB,IAAI,GAAG3mB,GAAGA,EAAEqqB,IAAI,IAAIrqB,EAAEqqB,IAAI1E,GAAGjjB,QAAQ,IAAG,MAAMnI,GAAG,EAAEksB,IAAIlsB,EAAEyF,EAAE6mB,OAAO,IAAI,GAAE,mBAAmB3gB,sBAAsB,SAAS,GAAEnG,GAAG,IAAIxF,EAAE,EAAE,mBAAmBwF,EAAE4mB,KAAK5mB,EAAE4mB,MAAM,EAAEpsB,EAAE,SAAS,GAAEwF,GAAG,IAAIxF,EAAE,EAAEwF,EAAE4mB,IAAI5mB,EAAE4lB,KAAK,EAAEprB,ECA5vD,SAAS,GAAEwF,EAAExF,GAAG,IAAI,IAAIgB,KAAKhB,EAAEwF,EAAExE,GAAGhB,EAAEgB,GAAG,OAAOwE,EAAE,SAAS,GAAEA,EAAExF,GAAG,IAAI,IAAIgB,KAAKwE,EAAE,GAAG,aAAaxE,KAAKA,KAAKhB,GAAG,OAAM,EAAG,IAAI,IAAI8rB,KAAK9rB,EAAE,GAAG,aAAa8rB,GAAGtmB,EAAEsmB,KAAK9rB,EAAE8rB,GAAG,OAAM,EAAG,OAAM,EAAG,SAASkE,GAAExqB,GAAG/M,KAAKV,MAAMyN,GAAkTwqB,GAAEvhB,UAAU,IAAI,GAAGwhB,sBAAqB,EAAGD,GAAEvhB,UAAU0f,sBAAsB,SAAS3oB,EAAExF,GAAG,OAAO,GAAEvH,KAAKV,MAAMyN,IAAI,GAAE/M,KAAKo1B,MAAM7tB,IAAI,IAAI,GAAE,EAAEisB,IAAI,EAAEA,IAAI,SAASzmB,GAAGA,EAAEvD,MAAMuD,EAAEvD,KAAKiuB,KAAK1qB,EAAE0jB,MAAM1jB,EAAEzN,MAAMmxB,IAAI1jB,EAAE0jB,IAAI1jB,EAAE0jB,IAAI,MAAM,IAAG,GAAE1jB,IAAU,oBAAoB2qB,QAAQA,OAAOC,KAAKD,OAAOC,IAAI,qBAAwR,IAA8M,GAAE,EAAElE,IAAI,EAAEA,IAAI,SAAS1mB,EAAExF,EAAEgB,GAAG,GAAGwE,EAAEoqB,KAAK,IAAI,IAAI9D,EAAErmB,EAAEzF,EAAEyF,EAAEA,EAAE2lB,IAAI,IAAIU,EAAErmB,EAAE2mB,MAAMN,EAAEM,IAAI,OAAO,MAAMpsB,EAAEksB,MAAMlsB,EAAEksB,IAAIlrB,EAAEkrB,IAAIlsB,EAAEgsB,IAAIhrB,EAAEgrB,KAAKF,EAAEM,IAAI5mB,EAAExF,GAAG,GAAEwF,EAAExF,EAAEgB,IAAI,IAAI,GAAE,EAAEmuB,QAAQ,SAAS,KAAI12B,KAAK43B,IAAI,EAAE53B,KAAKuH,EAAE,KAAKvH,KAAKwzB,IAAI,KAAK,SAAS9nB,GAAEqB,GAAG,IAAIxF,EAAEwF,EAAE4lB,GAAGgB,IAAI,OAAOpsB,GAAGA,EAAEksB,KAAKlsB,EAAEksB,IAAI1mB,GAAuL,SAAS,KAAI/M,KAAKgN,EAAE,KAAKhN,KAAKozB,EAAE,KAAK,EAAEsD,QAAQ,SAAS3pB,GAAG,IAAIxF,EAAEwF,EAAE4mB,IAAIpsB,GAAGA,EAAEswB,KAAKtwB,EAAEswB,MAAMtwB,IAAG,IAAKwF,EAAE6mB,MAAM7mB,EAAEvD,KAAK,MAAM,IAAG,GAAEuD,KAAK,GAAEiJ,UAAU,IAAI,GAAG2d,IAAI,SAAS5mB,EAAExF,GAAG,IAAIgB,EAAEhB,EAAEosB,IAAIN,EAAErzB,KAAK,MAAMqzB,EAAE9rB,IAAI8rB,EAAE9rB,EAAE,IAAI8rB,EAAE9rB,EAAEqO,KAAKrN,GAAG,IAAIyE,EAAEtB,GAAE2nB,EAAEQ,KAAKT,GAAE,EAAG5mB,EAAE,WAAW4mB,IAAIA,GAAE,EAAG7qB,EAAEsvB,IAAI,KAAK7qB,EAAEA,EAAEJ,GAAGA,MAAMrE,EAAEsvB,IAAIrrB,EAAE,IAAII,EAAE,WAAW,MAAMymB,EAAEuE,IAAI,CAAC,GAAGvE,EAAE+B,MAAM3B,IAAI,CAAC,IAAI1mB,EAAEsmB,EAAE+B,MAAM3B,IAAIJ,EAAEQ,IAAIN,IAAI,GAAG,SAASxmB,EAAExF,EAAEgB,EAAE8qB,GAAG,OAAO9rB,IAAIA,EAAEssB,IAAI,KAAKtsB,EAAEgsB,IAAIhsB,EAAEgsB,KAAKhsB,EAAEgsB,IAAIvyB,KAAI,SAASuG,GAAG,OAAOwF,EAAExF,EAAEgB,EAAE8qB,MAAK9rB,EAAEosB,KAAKpsB,EAAEosB,IAAIO,MAAM3rB,IAAIhB,EAAEksB,KAAKJ,EAAEva,aAAavR,EAAEksB,IAAIlsB,EAAEmsB,KAAKnsB,EAAEosB,IAAIF,KAAI,EAAGlsB,EAAEosB,IAAIO,IAAIb,IAAI9rB,EAAlL,CAAqLwF,EAAEA,EAAE4mB,IAAIO,IAAInnB,EAAE4mB,IAAImE,KAAK,IAAIvwB,EAAE,IAAI8rB,EAAE0D,SAAS,CAACtD,IAAIJ,EAAEG,IAAI,OAAOjsB,EAAE8rB,EAAE9rB,EAAEwwB,OAAOxwB,EAAE0vB,gBAAgB/D,GAAE,IAAK3rB,EAAEqsB,IAAIP,EAAEuE,OAAO1E,GAAGG,EAAE0D,SAAS,CAACtD,IAAIJ,EAAEG,IAAIH,EAAEQ,IAAIN,IAAI,KAAKxmB,EAAEoqB,KAAK3qB,EAAEA,IAAI,GAAEwJ,UAAU2gB,qBAAqB,WAAW32B,KAAKuH,EAAE,IAAI,GAAEyO,UAAUma,OAAO,SAASpjB,EAAExF,GAAG,GAAGvH,KAAKwzB,IAAI,CAAC,GAAGxzB,KAAK6zB,IAAIN,IAAI,CAAC,IAAIhrB,EAAEC,SAASJ,cAAc,OAAOirB,EAAErzB,KAAK6zB,IAAIN,IAAI,GAAGI,IAAI3zB,KAAK6zB,IAAIN,IAAI,GAAG,SAASxmB,EAAExF,EAAEgB,EAAE8qB,GAAG,OAAO9rB,IAAIA,EAAEosB,KAAKpsB,EAAEosB,IAAI0D,MAAM9vB,EAAEosB,IAAI0D,IAAI1E,GAAGjjB,SAAQ,SAAS3C,GAAG,mBAAmBA,EAAE4mB,KAAK5mB,EAAE4mB,SAAQpsB,EAAEosB,IAAI0D,IAAI,MAAM,OAAO9vB,EAAE,GAAE,GAAGA,IAAIosB,MAAMpsB,EAAEosB,IAAIO,MAAMb,IAAI9rB,EAAEosB,IAAIO,IAAI3rB,GAAGhB,EAAEosB,IAAI,MAAMpsB,EAAEgsB,IAAIhsB,EAAEgsB,KAAKhsB,EAAEgsB,IAAIvyB,KAAI,SAASuG,GAAG,OAAOwF,EAAExF,EAAEgB,EAAE8qB,OAAM9rB,EAA5P,CAA+PvH,KAAKwzB,IAAIjrB,EAAE8qB,EAAEyE,IAAIzE,EAAEa,KAAKl0B,KAAKwzB,IAAI,KAAK,IAAIxmB,EAAEzF,EAAEksB,KAAK,EAAEnnB,EAAE,KAAKS,EAAEirB,UAAU,OAAOhrB,IAAIA,EAAE4mB,IAAI,MAAM,CAAC,EAAEtnB,EAAE,KAAK/E,EAAEksB,IAAI,KAAK1mB,EAAEkN,UAAUjN,IAAI,IAAI,GAAE,SAASD,EAAExF,EAAEgB,GAAG,KAAKA,EAAE,KAAKA,EAAE,IAAIwE,EAAEqmB,EAAE6E,OAAO1wB,GAAGwF,EAAEzN,MAAM44B,cAAc,MAAMnrB,EAAEzN,MAAM44B,YAAY,KAAKnrB,EAAEqmB,EAAE+E,MAAM,IAAI5vB,EAAEwE,EAAEC,EAAEzE,GAAG,CAAC,KAAKA,EAAEhI,OAAO,GAAGgI,EAAEwvB,KAAFxvB,GAAU,GAAGA,EAAE,GAAGA,EAAE,GAAG,MAAMwE,EAAEC,EAAEzE,EAAEA,EAAE,KAAK,SAAS,GAAEwE,GAAG,OAAO/M,KAAK61B,gBAAgB,WAAW,OAAO9oB,EAAEue,SAASve,EAAEkN,SAAS,SAAS,GAAElN,GAAG,IAAIxF,EAAEvH,KAAKuI,EAAEwE,EAAEP,EAAEjF,EAAEovB,qBAAqB,WAAW,EAAE,KAAKpvB,EAAEqF,GAAGrF,EAAEqF,EAAE,KAAKrF,EAAEiF,EAAE,MAAMjF,EAAEiF,GAAGjF,EAAEiF,IAAIjE,GAAGhB,EAAEovB,uBAAuB5pB,EAAE8mB,KAAKtsB,EAAEqF,IAAIrF,EAAEiF,EAAEjE,EAAEhB,EAAEqF,EAAE,CAACiM,SAAS,EAAE7P,WAAWT,EAAE8tB,WAAW,GAAG1sB,YAAY,SAASoD,GAAG/M,KAAKq2B,WAAWzgB,KAAK7I,GAAGxF,EAAEiF,EAAE7C,YAAYoD,IAAI+L,aAAa,SAAS/L,EAAExE,GAAGvI,KAAKq2B,WAAWzgB,KAAK7I,GAAGxF,EAAEiF,EAAE7C,YAAYoD,IAAIlE,YAAY,SAASkE,GAAG/M,KAAKq2B,WAAWzY,OAAO5d,KAAKq2B,WAAWv0B,QAAQiL,KAAK,EAAE,GAAGxF,EAAEiF,EAAE3D,YAAYkE,MAAM,EAAE,EAAE,GAAE,CAACue,QAAQ/jB,EAAE+jB,SAASve,EAAE8mB,KAAKtsB,EAAEqF,IAAIrF,EAAEqF,GAAGrF,EAAEovB,uBAAuB,SAAS9qB,GAAEkB,EAAExF,GAAG,OAAO,EAAE,GAAE,CAACssB,IAAI9mB,EAAEP,EAAEjF,KAAK,GAAEyO,UAAU,IAAI,GAAGyd,IAAI,SAAS1mB,GAAG,IAAIxF,EAAEvH,KAAKuI,EAAEmD,GAAEnE,EAAEssB,KAAKR,EAAE9rB,EAAE6rB,EAAErW,IAAIhQ,GAAG,OAAOsmB,EAAE,KAAK,SAASrmB,GAAG,IAAIomB,EAAE,WAAW7rB,EAAEjI,MAAM44B,aAAa7E,EAAEzd,KAAK5I,GAAG,GAAEzF,EAAEwF,EAAEsmB,IAAIrmB,KAAKzE,EAAEA,EAAE6qB,GAAGA,MAAM,GAAEpd,UAAUma,OAAO,SAASpjB,GAAG/M,KAAKgN,EAAE,KAAKhN,KAAKozB,EAAE,IAAIgF,IAAI,IAAI7wB,EAAE,EAAEwF,EAAEkN,UAAUlN,EAAEmrB,aAAa,MAAMnrB,EAAEmrB,YAAY,IAAI3wB,EAAE8wB,UAAU,IAAI,IAAI9vB,EAAEhB,EAAEhH,OAAOgI,KAAKvI,KAAKozB,EAAE/Q,IAAI9a,EAAEgB,GAAGvI,KAAKgN,EAAE,CAAC,EAAE,EAAEhN,KAAKgN,IAAI,OAAOD,EAAEkN,UAAU,GAAEjE,UAAU4f,mBAAmB,GAAE5f,UAAUwf,kBAAkB,WAAW,IAAIzoB,EAAE/M,KAAKA,KAAKozB,EAAE1jB,SAAQ,SAASnI,EAAEgB,GAAG,GAAEwE,EAAExE,EAAEhB,OAAM,IAAI,GAAE,oBAAoBmwB,QAAQA,OAAOC,KAAKD,OAAOC,IAAI,kBAAkB,MAAM,GAAE,mOAAmOW,GAAE,SAASvrB,GAAG,OAAO,oBAAoB2qB,QAAQ,iBAAiBA,SAAS,eAAe,eAAetsB,KAAK2B,IAAkL,EAAEiJ,UAAUuiB,iBAAiB,GAAG,CAAC,qBAAqB,4BAA4B,uBAAuB7oB,SAAQ,SAAS3C,GAAGuE,OAAOwL,eAAe,EAAE9G,UAAUjJ,EAAE,CAACkd,cAAa,EAAGlN,IAAI,WAAW,OAAO/c,KAAK,UAAU+M,IAAIsV,IAAI,SAAS9a,GAAG+J,OAAOwL,eAAe9c,KAAK+M,EAAE,CAACkd,cAAa,EAAGC,UAAS,EAAGzpB,MAAM8G,UAAS,IAAI,GAAE,EAAEsC,MAAM,SAASuC,MAAK,SAASH,KAAI,OAAOjM,KAAKw4B,aAAa,SAAS,KAAI,OAAOx4B,KAAKy4B,iBAAiB,EAAE5uB,MAAM,SAASkD,GAAG,OAAO,KAAIA,EAAE,GAAEA,IAAIA,EAAE2rB,QAAQtsB,GAAEW,EAAE4rB,qBAAqB1sB,GAAEc,EAAE6rB,mBAAmB,GAAE7rB,EAAE8rB,YAAY9rB,GAAG,IAAMpC,GAAE,CAACsf,cAAa,EAAGlN,IAAI,WAAW,OAAO/c,KAAKowB,QAAQrlB,GAAE,EAAEyf,MAAM,EAAEA,MAAM,SAASzd,GAAG,IAAIxF,EAAEwF,EAAEvD,KAAKjB,EAAEwE,EAAEzN,MAAM+zB,EAAE9qB,EAAE,GAAG,iBAAiBhB,EAAE,CAAC,IAAI,IAAIyF,KAAKqmB,EAAE,GAAG9qB,EAAE,CAAC,IAAI6qB,EAAE7qB,EAAEyE,GAAG,UAAUA,GAAG,iBAAiBzE,GAAG,MAAM6qB,IAAI,iBAAiBpmB,GAAG,UAAUzE,GAAG,MAAMA,EAAE9H,MAAMuM,EAAE,QAAQ,aAAaA,IAAG,IAAKomB,EAAEA,EAAE,GAAG,iBAAiBhoB,KAAK4B,GAAGA,EAAE,aAAa,6BAA6B5B,KAAK4B,EAAEzF,KAAK+wB,GAAE/vB,EAAEiB,MAAMwD,EAAE,UAAU,6BAA6B5B,KAAK4B,GAAGA,EAAEA,EAAE4T,cAAc,GAAExV,KAAK4B,GAAGA,EAAEA,EAAE6nB,QAAQ,WAAW,OAAOjU,cAAc,OAAOwS,IAAIA,OAAE,GAAQC,EAAErmB,GAAGomB,GAAG,UAAU7rB,GAAG8rB,EAAEyF,UAAUjxB,MAAM0sB,QAAQlB,EAAE5yB,SAAS4yB,EAAE5yB,MAAM,EAAE8H,EAAE0R,UAAUvK,SAAQ,SAAS3C,GAAGA,EAAEzN,MAAMyc,UAAU,GAAGsX,EAAE5yB,MAAMqB,QAAQiL,EAAEzN,MAAMmB,WAAU,UAAU8G,GAAG,MAAM8rB,EAAE7L,eAAe6L,EAAE5yB,MAAM,EAAE8H,EAAE0R,UAAUvK,SAAQ,SAAS3C,GAAGA,EAAEzN,MAAMyc,SAASsX,EAAEyF,UAAU,GAAGzF,EAAE7L,aAAa1lB,QAAQiL,EAAEzN,MAAMmB,OAAO4yB,EAAE7L,cAAcza,EAAEzN,MAAMmB,UAASsM,EAAEzN,MAAM+zB,EAAE9rB,GAAGgB,EAAE6nB,OAAO7nB,EAAEP,YAAY2C,GAAEqf,WAAW,cAAczhB,EAAE,MAAMA,EAAEP,YAAYqrB,EAAEjD,MAAM7nB,EAAEP,WAAWsJ,OAAOwL,eAAeuW,EAAE,YAAY1oB,KAAIoC,EAAEgsB,SAAS,GAAEhuB,IAAGA,GAAEgC,IAAI,IAAI9B,GAAE,EAAE+oB,IAAI,EAAEA,IAAI,SAASjnB,GAAG9B,IAAGA,GAAE8B,GAAKA,EAAE4mB,KAAgW,ICI3tOqF,GAAkC,qBAAfC,WAA6BA,WAAat3B,OAoBjE,SAASu3B,KACL,IAAIC,EAAuB,EAAelF,kBACtCmF,EAAY,GAChB,SAASC,EAAiB5O,GACtB2O,EAAUxjB,KAAK6U,GAEnB,EAAewJ,kBAAoBoF,EACnC,EAAc,EAAqB,GAAe,IAAK7wB,SAASJ,cAAc,QAC9E,MAAOgxB,EAAU74B,OACb64B,EAAUE,OAAVF,GAEJ,EAAenF,kBAAoBkF,EA9BnCH,GAAUO,iBACVz2B,QAAQC,KAAK,oCAGbi2B,GAAUO,iBAAmB,CACzBC,UAAW,EACXpxB,cAAe,EACf+nB,OAAQ,EACRsJ,UAAWjH,EACXkH,SAAU,EACVC,cAAeA,GACfC,aAAc,GACdV,WAAYA,GACZW,uBAAwBA,IAmBhC,IAAI,GAA+B,SAAUC,GAEzC,SAASC,IACL,OAAkB,OAAXD,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAI/D,OANA0yB,EAAUqH,EAAeD,GAIzBC,EAAc/jB,UAAUma,OAAS,WAAc,OAAO,EAAqB,MAAO,KAClF4J,EAAc/jB,UAAUwf,kBAAoB,WAAcx1B,KAAK+2B,SAAS,KACjEgD,EAPuB,CAQhC,GACF,SAASJ,GAAcnS,GACnB,IAAIwS,EAAc,EAAqBxS,GACnCyS,EAAeD,EAAYnD,SA0B/B,OAzBAmD,EAAYnD,SAAW,WACnB,IAAI91B,EAAQf,KACRk6B,GAASl6B,KAAK61B,gBACd5b,EAAWggB,EAAavyB,MAAM1H,KAAMM,WACxC,GAAI45B,EAAO,CACP,IAAIC,EAAS,GACbn6B,KAAK01B,sBAAwB,SAAU0E,GAC/Br5B,EAAMzB,MAAMmB,QAAU25B,EAAO35B,OAC7B05B,EAAOzqB,SAAQ,SAAUxB,GACrBA,EAAEod,QAAU8O,EAAO35B,MACnByN,EAAE+oB,kBAIdj3B,KAAKm1B,IAAM,SAAUjnB,GACjBisB,EAAOvkB,KAAK1H,GACZ,IAAImsB,EAAMnsB,EAAEyoB,qBACZzoB,EAAEyoB,qBAAuB,WACrBwD,EAAOvc,OAAOuc,EAAOr4B,QAAQoM,GAAI,GACjCmsB,GAAOA,EAAIpkB,KAAK/H,KAI5B,OAAO+L,GAEJ+f,EAEX,SAASH,GAAuBlxB,GAC5B,EAAc,KAAMA,G,UC5ExB,GAAgC,qBAArB4wB,iBACP,MAAM,IAAI3pB,MAAM,sFAEpB,IAAI4pB,GAAYD,iBAAiBC,UAC7BpxB,GAAgBmxB,iBAAiBnxB,cACjC,GAASmxB,iBAAiBpJ,OAC1BsJ,GAAYF,iBAAiBE,UAC7BC,GAAWH,iBAAiBG,SAC5B,GAAgBH,iBAAiBI,cACjCC,GAAeL,iBAAiBK,aAChC,GAAaL,iBAAiBL,WAC9B,GAAyBK,iBAAiBM,uBCC1CS,GAAgC,WAChC,SAASA,EAAehP,EAASiP,GAC7Bv6B,KAAKsrB,QAAUA,EACftrB,KAAKu6B,oBAAsBA,EAoC/B,OAlCAD,EAAetkB,UAAU7N,OAAS,WAC9BnI,KAAKsrB,QAAQkP,SAAS,CAClBhxB,KAAM,sBACNixB,SAAUz6B,KAAKu6B,oBAAoBE,YAG3CH,EAAetkB,UAAU0kB,QAAU,WAC/B16B,KAAKsrB,QAAQkP,SAAS,CAClBhxB,KAAM,sBACNmxB,UAAW,CAAC36B,KAAKu6B,oBAAoBE,UACrCG,WAAW,KAGnBtpB,OAAOwL,eAAewd,EAAetkB,UAAW,KAAM,CAClD+G,IAAK,WACD,OAAO/c,KAAKu6B,oBAAoBM,UAEpC7Q,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAewd,EAAetkB,UAAW,MAAO,CACnD+G,IAAK,WACD,OAAO/c,KAAKu6B,oBAAoBO,KAAKC,KAEzC/Q,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAewd,EAAetkB,UAAW,SAAU,CACtD+G,IAAK,WACD,OAAO/c,KAAKu6B,oBAAoBO,KAAKlsB,QAEzCob,YAAY,EACZC,cAAc,IAEXqQ,EAvCwB,GA0CnC,SAASU,GAAcvlB,GACfA,EAAGzM,YACHyM,EAAGzM,WAAWH,YAAY4M,GAKlC,SAASwlB,GAAexlB,EAAIqT,GACxB,GAAIrT,EAAGylB,QACH,OAAOzlB,EAAGylB,QAAQpS,GAItB,IAAKtgB,SAAS2yB,gBAAgBtjB,SAASpC,GACnC,OAAO,KAEX,EAAG,CACC,GAAI2lB,GAAe3lB,EAAIqT,GACnB,OAAOrT,EAEXA,EAAMA,EAAG4lB,eAAiB5lB,EAAGzM,iBACjB,OAAPyM,GAA+B,IAAhBA,EAAGoD,UAC3B,OAAO,KAEX,SAASuiB,GAAe3lB,EAAIqT,GACxB,IAAIwS,EAAS7lB,EAAG8lB,SAAW9lB,EAAG+lB,iBAAmB/lB,EAAGgmB,kBACpD,OAAOH,EAAOrlB,KAAKR,EAAIqT,GAK3B,SAAS4S,GAAazf,EAAW6M,GAG7B,IAFA,IAAI6S,EAAa1f,aAAqByM,YAAc,CAACzM,GAAaA,EAC9D2f,EAAa,GACRpvB,EAAI,EAAGA,EAAImvB,EAAWp7B,OAAQiM,GAAK,EAExC,IADA,IAAI+uB,EAAUI,EAAWnvB,GAAG0J,iBAAiB4S,GACpCnc,EAAI,EAAGA,EAAI4uB,EAAQh7B,OAAQoM,GAAK,EACrCivB,EAAWhmB,KAAK2lB,EAAQ5uB,IAGhC,OAAOivB,EAoBX,IAAIC,GAAgB,yCACpB,SAASC,GAAWrmB,EAAInW,GACpB,IAAK,IAAIy8B,KAAYz8B,EACjB08B,GAAevmB,EAAIsmB,EAAUz8B,EAAMy8B,IAG3C,SAASC,GAAevmB,EAAIvU,EAAMuO,GACnB,MAAPA,EACAgG,EAAGrC,MAAMlS,GAAQ,GAEG,kBAARuO,GAAoBosB,GAAczwB,KAAKlK,GACnDuU,EAAGrC,MAAMlS,GAAQuO,EAAM,KAGvBgG,EAAGrC,MAAMlS,GAAQuO,EAQzB,SAASwsB,GAAsBzmB,GAC3B,IAAI6J,EAAI6c,EACR,OAA6F,QAArFA,EAAgC,QAA1B7c,EAAK7J,EAAG1L,oBAAiC,IAAPuV,OAAgB,EAASA,EAAGpJ,KAAKT,GAAI,UAAuB,IAAP0mB,EAAgBA,EAAK1mB,EAAGxL,OAIjI,SAASmyB,GAAU1mB,GACf,OAAOA,EAAG2mB,YAAc3mB,EAAG2mB,cAAgB5zB,SAI/C,SAASyX,GAAezK,GACpBA,EAAGyK,iBAIP,SAASoc,GAAuBvT,EAAUvT,GACtC,OAAO,SAAUC,GACb,IAAI8mB,EAAerB,GAAezlB,EAAGxL,OAAQ8e,GACzCwT,GACA/mB,EAAQU,KAAKqmB,EAAc9mB,EAAI8mB,IAI3C,SAASC,GAAiBtgB,EAAWugB,EAAW1T,EAAUvT,GACtD,IAAIknB,EAAkBJ,GAAuBvT,EAAUvT,GAEvD,OADA0G,EAAUvG,iBAAiB8mB,EAAWC,GAC/B,WACHxgB,EAAUpG,oBAAoB2mB,EAAWC,IAGjD,SAASC,GAAwBzgB,EAAW6M,EAAU6T,EAAcC,GAChE,IAAIC,EACJ,OAAON,GAAiBtgB,EAAW,YAAa6M,GAAU,SAAUgU,EAAaR,GAC7E,GAAIA,IAAiBO,EAAqB,CACtCA,EAAsBP,EACtBK,EAAaG,EAAaR,GAC1B,IAAIS,EAAqB,SAAUC,GAC/BH,EAAsB,KACtBD,EAAaI,EAAcV,GAC3BA,EAAazmB,oBAAoB,aAAcknB,IAGnDT,EAAa5mB,iBAAiB,aAAcqnB,OAMxD,IAAIE,GAAuB,CACvB,sBACA,iBACA,iBACA,kBACA,iBAGJ,SAASC,GAAmBznB,EAAIgV,GAC5B,IAAI0S,EAAe,SAAU3nB,GACzBiV,EAASjV,GACTynB,GAAqBvtB,SAAQ,SAAU0tB,GACnC3nB,EAAGI,oBAAoBunB,EAAWD,OAG1CF,GAAqBvtB,SAAQ,SAAU0tB,GACnC3nB,EAAGC,iBAAiB0nB,EAAWD,MAIvC,IAAIE,GAAa,EACjB,SAASC,KAEL,OADAD,IAAc,EACP18B,OAAO08B,IAKlB,SAASE,KACL/0B,SAAS+N,KAAKtO,UAAUC,IAAI,kBAGhC,SAASs1B,KACLh1B,SAAS+N,KAAKtO,UAAUE,OAAO,kBAInC,SAASs1B,GAAiBhoB,GACtBA,EAAGxN,UAAUC,IAAI,mBACjBuN,EAAGC,iBAAiB,cAAeuK,IAEvC,SAASyd,GAAejoB,GACpBA,EAAGxN,UAAUE,OAAO,mBACpBsN,EAAGI,oBAAoB,cAAeoK,IAI1C,SAAS0d,GAAmBloB,GACxBA,EAAGC,iBAAiB,cAAeuK,IAEvC,SAAS2d,GAAiBnoB,GACtBA,EAAGI,oBAAoB,cAAeoK,IAE1C,SAAS4d,GAAgB7rB,GACrB,IAEIxF,EACA4C,EAHA0uB,EAAQ,GACRC,EAAS,GAYb,IATqB,kBAAV/rB,EACP+rB,EAAS/rB,EAAM/D,MAAM,WAEC,oBAAV+D,EACZ+rB,EAAS,CAAC/rB,GAELnK,MAAM0sB,QAAQviB,KACnB+rB,EAAS/rB,GAERxF,EAAI,EAAGA,EAAIuxB,EAAOx9B,OAAQiM,GAAK,EAChC4C,EAAQ2uB,EAAOvxB,GACM,kBAAV4C,EACP0uB,EAAMloB,KAAyB,MAApBxG,EAAMuR,OAAO,GACpB,CAAEqd,MAAO5uB,EAAM3B,UAAU,GAAIwwB,OAAQ,GACrC,CAAED,MAAO5uB,EAAO6uB,MAAO,IAEL,oBAAV7uB,GACZ0uB,EAAMloB,KAAK,CAAEsoB,KAAM9uB,IAG3B,OAAO0uB,EAEX,SAASK,GAAoBC,EAAMC,EAAMC,GACrC,IAAI9xB,EACA+xB,EACJ,IAAK/xB,EAAI,EAAGA,EAAI8xB,EAAW/9B,OAAQiM,GAAK,EAEpC,GADA+xB,EAAMC,GAAmBJ,EAAMC,EAAMC,EAAW9xB,IAC5C+xB,EACA,OAAOA,EAGf,OAAO,EAEX,SAASC,GAAmBJ,EAAMC,EAAMI,GACpC,OAAIA,EAAUP,KACHO,EAAUP,KAAKE,EAAMC,GAEzBK,GAAgBN,EAAKK,EAAUT,OAAQK,EAAKI,EAAUT,SACtDS,EAAUR,OAAS,GAE9B,SAASS,GAAgBtY,EAAGC,GACxB,OAAKD,GAAMC,EAGF,MAALA,GACQ,EAEH,MAALD,EACO,EAEM,kBAANA,GAA+B,kBAANC,EACzB1lB,OAAOylB,GAAGuY,cAAch+B,OAAO0lB,IAEnCD,EAAIC,EAXA,EAef,SAASuY,GAASnvB,EAAKovB,GACnB,IAAIv4B,EAAI3F,OAAO8O,GACf,MAAO,MAAMqvB,OAAO,EAAGD,EAAMv4B,EAAE/F,QAAU+F,EAI7C,SAASy4B,GAAe3Y,EAAGC,GACvB,OAAOD,EAAIC,EAEf,SAAS2Y,GAAMjyB,GACX,OAAOA,EAAI,IAAM,EAIrB,SAASkyB,GAAyBC,GAC9B,IAAIC,EAAaD,EAAO/b,cAAc,+BAClCic,EAAiBF,EAAO/b,cAAc,iCAC1C,IAAKgc,EACD,MAAM,IAAIvvB,MAAM,8CAEpB,IAAKwvB,EACD,MAAM,IAAIxvB,MAAM,gDAEpB,OAAOsvB,EAAOjb,wBAAwBtQ,MAAQwrB,EAAWlb,wBAAwBtQ,MAC7EyrB,EAAenb,wBAAwBtQ,MAG/C,IAAI0rB,GAAU,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAEzD,SAASC,GAASzyB,EAAGE,GACjB,IAAIqZ,EAAImZ,GAAe1yB,GAEvB,OADAuZ,EAAE,IAAU,EAAJrZ,EACDyyB,GAAepZ,GAE1B,SAASqZ,GAAQ5yB,EAAGE,GAChB,IAAIqZ,EAAImZ,GAAe1yB,GAEvB,OADAuZ,EAAE,IAAMrZ,EACDyyB,GAAepZ,GAE1B,SAASsZ,GAAM7yB,EAAGE,GACd,IAAIqZ,EAAImZ,GAAe1yB,GAEvB,OADAuZ,EAAE,IAAMrZ,EACDyyB,GAAepZ,GAI1B,SAASuZ,GAAUC,EAAIC,GACnB,OAAOC,GAASF,EAAIC,GAAM,EAE9B,SAASC,GAASF,EAAIC,GAClB,OAAQA,EAAGE,UAAYH,EAAGG,WAAa,MAE3C,SAASC,GAAUJ,EAAIC,GACnB,OAAQA,EAAGE,UAAYH,EAAGG,WAAa,KAE3C,SAASE,GAAYL,EAAIC,GACrB,OAAQA,EAAGE,UAAYH,EAAGG,WAAa,IAE3C,SAASG,GAAYN,EAAIC,GACrB,OAAQA,EAAGE,UAAYH,EAAGG,WAAa,IAE3C,SAASI,GAAeP,EAAIC,GACxB,IAAIO,EAAQC,GAAWT,GACnBU,EAAQD,GAAWR,GACvB,MAAO,CACHU,MAAO,EACPt6B,OAAQ,EACRwN,KAAM9P,KAAKC,MAAMk8B,GAASM,EAAOE,IACjCE,aAAeX,EAAGE,UAAYO,EAAMP,WAAcH,EAAGG,UAAYK,EAAML,YAI/E,SAASU,GAAeb,EAAIC,GACxB,IAAIvzB,EAAIo0B,GAAcd,EAAIC,GAC1B,OAAU,OAANvzB,GAAcA,EAAI,IAAM,EACjBA,EAAI,EAER,KAEX,SAASo0B,GAAcd,EAAIC,GACvB,OAAIc,GAASf,KAAQe,GAASd,GACnBl8B,KAAKC,MAAMk8B,GAASF,EAAIC,IAE5B,KAGX,SAASQ,GAAWxzB,GAChB,OAAO2yB,GAAe,CAClB3yB,EAAE+zB,iBACF/zB,EAAEg0B,cACFh0B,EAAEi0B,eAGV,SAASC,GAAYl0B,GACjB,OAAO2yB,GAAe,CAClB3yB,EAAE+zB,iBACF/zB,EAAEg0B,cACFh0B,EAAEi0B,aACFj0B,EAAEm0B,gBAGV,SAASC,GAAcp0B,GACnB,OAAO2yB,GAAe,CAClB3yB,EAAE+zB,iBACF/zB,EAAEg0B,cACFh0B,EAAEi0B,aACFj0B,EAAEm0B,cACFn0B,EAAEq0B,kBAGV,SAASC,GAAct0B,GACnB,OAAO2yB,GAAe,CAClB3yB,EAAE+zB,iBACF/zB,EAAEg0B,cACFh0B,EAAEi0B,aACFj0B,EAAEm0B,cACFn0B,EAAEq0B,gBACFr0B,EAAEu0B,kBAIV,SAASC,GAAWC,EAAQC,EAAKC,GAC7B,IAAIr0B,EAAIm0B,EAAOV,iBACX1zB,EAAIu0B,GAAgBH,EAAQn0B,EAAGo0B,EAAKC,GACxC,GAAIt0B,EAAI,EACJ,OAAOu0B,GAAgBH,EAAQn0B,EAAI,EAAGo0B,EAAKC,GAE/C,IAAIE,EAAQD,GAAgBH,EAAQn0B,EAAI,EAAGo0B,EAAKC,GAChD,OAAIE,GAAS,EACF/9B,KAAKyM,IAAIlD,EAAGw0B,GAEhBx0B,EAEX,SAASu0B,GAAgBH,EAAQp1B,EAAMq1B,EAAKC,GACxC,IAAIG,EAAiBnC,GAAe,CAACtzB,EAAM,EAAG,EAAI01B,GAAgB11B,EAAMq1B,EAAKC,KACzEK,EAAWxB,GAAWiB,GACtB7tB,EAAO9P,KAAKC,MAAMk8B,GAAS6B,EAAgBE,IAC/C,OAAOl+B,KAAKm+B,MAAMruB,EAAO,GAAK,EAGlC,SAASmuB,GAAgB11B,EAAMq1B,EAAKC,GAEhC,IAAIO,EAAM,EAAIR,EAAMC,EAEhBQ,GAAS,EAAIxC,GAAe,CAACtzB,EAAM,EAAG61B,IAAME,YAAcV,GAAO,EACrE,OAAQS,EAAQD,EAAM,EAG1B,SAASG,GAAiBh/B,GACtB,MAAO,CACHA,EAAKQ,cACLR,EAAKoK,WACLpK,EAAKK,UACLL,EAAKgI,WACLhI,EAAKsK,aACLtK,EAAKqK,aACLrK,EAAK+Q,mBAGb,SAASkuB,GAAiB/b,GACtB,OAAO,IAAIjjB,KAAKijB,EAAE,GAAIA,EAAE,IAAM,EAAW,MAARA,EAAE,GAAa,EAAIA,EAAE,GACtDA,EAAE,IAAM,EAAGA,EAAE,IAAM,EAAGA,EAAE,IAAM,GAElC,SAASmZ,GAAer8B,GACpB,MAAO,CACHA,EAAK09B,iBACL19B,EAAK29B,cACL39B,EAAK49B,aACL59B,EAAK89B,cACL99B,EAAKg+B,gBACLh+B,EAAKk+B,gBACLl+B,EAAKk/B,sBAGb,SAAS5C,GAAepZ,GAMpB,OAHiB,IAAbA,EAAE7lB,SACF6lB,EAAIA,EAAE9F,OAAO,CAAC,KAEX,IAAInd,KAAKA,KAAKk/B,IAAI36B,MAAMvE,KAAMijB,IAGzC,SAASkc,GAAYz1B,GACjB,OAAQ8C,MAAM9C,EAAEkzB,WAEpB,SAASY,GAAS9zB,GACd,OAAyB,IAAlBA,EAAEm0B,cAAuB,GAAK,GACb,IAApBn0B,EAAEq0B,gBAAyB,GACP,IAApBr0B,EAAEu0B,gBACFv0B,EAAEu1B,qBAGV,SAASG,GAAoBC,EAAOjc,EAAOkc,EAAgBC,GACvD,MAAO,CACHC,WAAYrF,KACZkF,MAAOA,EACPjc,MAAOA,EACPkc,eAAkC,MAAlBA,EAAyB,KAAOA,EAChDC,aAA8B,MAAhBA,EAAuB,KAAOA,GAIpD,IAAI,GAAiBpxB,OAAO0E,UAAUyc,eAGtC,SAASmQ,GAAWC,EAAUC,GAC1B,IAAIC,EAAO,GACX,GAAID,EACA,IAAK,IAAIE,KAAUF,EAAiB,CAGhC,IAFA,IAAIG,EAAc,GAETz2B,EAAIq2B,EAAStiC,OAAS,EAAGiM,GAAK,EAAGA,GAAK,EAAG,CAC9C,IAAIiD,EAAMozB,EAASr2B,GAAGw2B,GACtB,GAAmB,kBAARvzB,GAAoBA,EAC3BwzB,EAAYC,QAAQzzB,QAEnB,QAAYjP,IAARiP,EAAmB,CACxBszB,EAAKC,GAAUvzB,EACf,OAIJwzB,EAAY1iC,SACZwiC,EAAKC,GAAUJ,GAAWK,IAKtC,IAASz2B,EAAIq2B,EAAStiC,OAAS,EAAGiM,GAAK,EAAGA,GAAK,EAAG,CAC9C,IAAIlN,EAAQujC,EAASr2B,GACrB,IAAK,IAAI22B,KAAU7jC,EACT6jC,KAAUJ,IACZA,EAAKI,GAAU7jC,EAAM6jC,IAIjC,OAAOJ,EAEX,SAASK,GAAWC,EAAMnF,GACtB,IAAIoF,EAAW,GACf,IAAK,IAAIjjC,KAAOgjC,EACRnF,EAAKmF,EAAKhjC,GAAMA,KAChBijC,EAASjjC,GAAOgjC,EAAKhjC,IAG7B,OAAOijC,EAEX,SAASC,GAAQF,EAAMnF,GACnB,IAAIsF,EAAU,GACd,IAAK,IAAInjC,KAAOgjC,EACZG,EAAQnjC,GAAO69B,EAAKmF,EAAKhjC,GAAMA,GAEnC,OAAOmjC,EAEX,SAASC,GAAYrd,GAEjB,IADA,IAAIid,EAAO,GACFK,EAAK,EAAGC,EAAMvd,EAAGsd,EAAKC,EAAIpjC,OAAQmjC,IAAM,CAC7C,IAAIE,EAAOD,EAAID,GACfL,EAAKO,IAAQ,EAEjB,OAAOP,EAUX,SAASQ,GAAkBj8B,GACvB,IAAIwe,EAAI,GACR,IAAK,IAAI/lB,KAAOuH,EACZwe,EAAExQ,KAAKhO,EAAIvH,IAEf,OAAO+lB,EAEX,SAAS0d,GAAa1F,EAAMC,GACxB,GAAID,IAASC,EACT,OAAO,EAEX,IAAK,IAAIh+B,KAAO+9B,EACZ,GAAI,GAAenoB,KAAKmoB,EAAM/9B,MACpBA,KAAOg+B,GACT,OAAO,EAInB,IAAK,IAAIh+B,KAAOg+B,EACZ,GAAI,GAAepoB,KAAKooB,EAAMh+B,IACtB+9B,EAAK/9B,KAASg+B,EAAKh+B,GACnB,OAAO,EAInB,OAAO,EAEX,SAAS0jC,GAAgB3F,EAAMC,GAC3B,IAAI7U,EAAO,GACX,IAAK,IAAInpB,KAAO+9B,EACR,GAAenoB,KAAKmoB,EAAM/9B,KACpBA,KAAOg+B,GACT7U,EAAK5T,KAAKvV,IAItB,IAAK,IAAIA,KAAOg+B,EACR,GAAepoB,KAAKooB,EAAMh+B,IACtB+9B,EAAK/9B,KAASg+B,EAAKh+B,IACnBmpB,EAAK5T,KAAKvV,GAItB,OAAOmpB,EAEX,SAASwa,GAAYC,EAAUC,EAAUC,GAErC,QADsB,IAAlBA,IAA4BA,EAAgB,IAC5CF,IAAaC,EACb,OAAO,EAEX,IAAK,IAAI7jC,KAAO6jC,EACZ,KAAI7jC,KAAO4jC,KAAYG,GAAeH,EAAS5jC,GAAM6jC,EAAS7jC,GAAM8jC,EAAc9jC,IAE9E,OAAO,EAIf,IAAK,IAAIA,KAAO4jC,EACZ,KAAM5jC,KAAO6jC,GACT,OAAO,EAGf,OAAO,EAKX,SAASE,GAAeC,EAAMC,EAAMC,GAChC,OAAIF,IAASC,IAAuB,IAAfC,KAGjBA,GACOA,EAAWF,EAAMC,GAIhC,SAASE,GAAgBnB,EAAMnpB,EAAYC,EAAUsN,QAC9B,IAAfvN,IAAyBA,EAAa,QAC7B,IAATuN,IAAmBA,EAAO,GAC9B,IAAIgd,EAAM,GACM,MAAZtqB,IACAA,EAAW7I,OAAOkY,KAAK6Z,GAAM9iC,QAEjC,IAAK,IAAIiM,EAAI0N,EAAY1N,EAAI2N,EAAU3N,GAAKib,EAAM,CAC9C,IAAIhY,EAAM4zB,EAAK72B,QACHhM,IAARiP,GACAg1B,EAAI7uB,KAAKnG,GAGjB,OAAOg1B,EAGX,SAASC,GAAeC,EAASC,EAAeC,EAASC,GACrD,IAAK,IAAIt4B,EAAI,EAAGA,EAAIs4B,EAAevkC,OAAQiM,GAAK,EAAG,CAC/C,IAAIiT,EAASqlB,EAAet4B,GAAGwV,MAAM2iB,EAASE,GAC9C,GAAIplB,EAAQ,CACR,IAAIslB,EAASJ,EAAQI,OAUrB,OATc,MAAVA,IACAA,EAASH,EACK,MAAVG,IACAA,EAAStlB,EAAOulB,YACF,MAAVD,IACAA,GAAS,KAId,CACHA,OAAQA,EACRz0B,SAAUmP,EAAOnP,SACjB20B,SAAUxlB,EAAOwlB,SACjBC,OAAQ14B,IAIpB,OAAO,KAEX,SAAS24B,GAAgBC,EAAYC,EAAc/Z,GAC/C,IAAIuZ,EAAUvZ,EAAQuZ,QAASS,EAAcha,EAAQga,YAAa7lC,EAAU6rB,EAAQ7rB,QAChF8lC,EAAOH,EAAWG,KAAM5c,EAAYyc,EAAWzc,UAInD,IAAK,IAAI6Z,KADT7Z,EAAYya,GAAWza,GAAW,SAAUiB,GAAY,OAAQ2b,EAAK3b,EAAS4Y,OAAOgD,gBACnED,EAAM,CACpB,IAAIE,EAAMF,EAAK/C,GACf,GAAIiD,EAAID,aAAc,CAClB,IAAIl1B,EAAWm1B,EAAID,aAAal1B,SAC3BA,IACDA,EAAWm1B,EAAIV,OACXtlC,EAAQimC,2BACRjmC,EAAQkmC,2BAGhB,IADA,IAAIC,EAASC,GAAsBJ,EAAKn1B,EAAU+0B,EAAcR,EAASS,EAAYR,gBAC5EpB,EAAK,EAAGoC,EAAWF,EAAQlC,EAAKoC,EAASvlC,OAAQmjC,IAAM,CAC5D,IAAIqC,EAAQD,EAASpC,GACjB9Z,EAAW2Y,GAAoBC,EAAO,CACtCuD,MAAOA,EACPC,IAAKnB,EAAQ38B,IAAI69B,EAAOz1B,KAE5BqY,EAAUiB,EAAS+Y,YAAc/Y,IAI7C,MAAO,CAAE2b,KAAMA,EAAM5c,UAAWA,GAKpC,SAASkd,GAAsBI,EAAU31B,EAAU+0B,EAAcR,EAASC,GACtE,IAAIoB,EAAUpB,EAAemB,EAAST,aAAaN,QAC/CiB,EAAUD,EAAQE,OAAOH,EAAST,aAAaP,SAAU,CACzDc,MAAOlB,EAAQwB,SAAShB,EAAaU,MAAOz1B,GAC5C01B,IAAKX,EAAaW,KACnBnB,GAKH,OAHIoB,EAASlB,SACToB,EAAUA,EAAQnlC,IAAIq/B,KAEnB8F,EAGX,IAAIG,GAAiB,CAAC,QAAS,SAAU,OAAQ,gBAC7CC,GAAW,2DAEf,SAASC,GAAex0B,EAAOy0B,GAC3B,IAAIpnB,EACJ,MAAqB,kBAAVrN,EACA00B,GAAY10B,GAEF,kBAAVA,GAAsBA,EACtB20B,GAAY30B,GAEF,kBAAVA,EACA20B,IAAatnB,EAAK,GAAIA,EAAGonB,GAAQ,gBAAkBz0B,EAAOqN,IAE9D,KAEX,SAASqnB,GAAYpgC,GACjB,IAAIuG,EAAI05B,GAAS/2B,KAAKlJ,GACtB,GAAIuG,EAAG,CACH,IAAI+5B,EAAO/5B,EAAE,IAAM,EAAI,EACvB,MAAO,CACH0zB,MAAO,EACPt6B,OAAQ,EACRwN,KAAMmzB,GAAQ/5B,EAAE,GAAKb,SAASa,EAAE,GAAI,IAAM,GAC1C2zB,aAAcoG,GAA0C,IAAjC/5B,EAAE,GAAKb,SAASa,EAAE,GAAI,IAAM,GAAU,GAAK,IAC5B,IAAjCA,EAAE,GAAKb,SAASa,EAAE,GAAI,IAAM,GAAU,IACL,KAAjCA,EAAE,GAAKb,SAASa,EAAE,GAAI,IAAM,IAC5BA,EAAE,GAAKb,SAASa,EAAE,GAAI,IAAM,KAIzC,OAAO,KAEX,SAAS85B,GAAY/+B,GACjB,IAAI0I,EAAW,CACXiwB,MAAO34B,EAAI24B,OAAS34B,EAAIsE,MAAQ,EAChCjG,OAAQ2B,EAAI3B,QAAU2B,EAAIkF,OAAS,EACnC2G,KAAM7L,EAAI6L,MAAQ7L,EAAIoD,KAAO,EAC7Bw1B,aAA6C,IAA9B54B,EAAI6I,OAAS7I,EAAIgD,MAAQ,GAAU,GAAK,IAChB,IAAlChD,EAAI6E,SAAW7E,EAAIi/B,QAAU,GAAU,IACL,KAAlCj/B,EAAI4D,SAAW5D,EAAIk/B,QAAU,IAC7Bl/B,EAAI44B,cAAgB54B,EAAIm/B,aAAen/B,EAAIo/B,IAAM,IAEtDC,EAAQr/B,EAAIq/B,OAASr/B,EAAIs/B,KAK7B,OAJID,IACA32B,EAASmD,MAAgB,EAARwzB,EACjB32B,EAAS62B,gBAAiB,GAEvB72B,EAGX,SAAS82B,GAAeC,EAAIC,GACxB,OAAOD,EAAG9G,QAAU+G,EAAG/G,OACnB8G,EAAGphC,SAAWqhC,EAAGrhC,QACjBohC,EAAG5zB,OAAS6zB,EAAG7zB,MACf4zB,EAAG7G,eAAiB8G,EAAG9G,aAS/B,SAAS+G,GAAaF,EAAIC,GACtB,MAAO,CACH/G,MAAO8G,EAAG9G,MAAQ+G,EAAG/G,MACrBt6B,OAAQohC,EAAGphC,OAASqhC,EAAGrhC,OACvBwN,KAAM4zB,EAAG5zB,KAAO6zB,EAAG7zB,KACnB+sB,aAAc6G,EAAG7G,aAAe8G,EAAG9G,cAG3C,SAASgH,GAAkBF,EAAID,GAC3B,MAAO,CACH9G,MAAO+G,EAAG/G,MAAQ8G,EAAG9G,MACrBt6B,OAAQqhC,EAAGrhC,OAASohC,EAAGphC,OACvBwN,KAAM6zB,EAAG7zB,KAAO4zB,EAAG5zB,KACnB+sB,aAAc8G,EAAG9G,aAAe6G,EAAG7G,cAG3C,SAASiH,GAAiBn7B,EAAGS,GACzB,MAAO,CACHwzB,MAAOj0B,EAAEi0B,MAAQxzB,EACjB9G,OAAQqG,EAAErG,OAAS8G,EACnB0G,KAAMnH,EAAEmH,KAAO1G,EACfyzB,aAAcl0B,EAAEk0B,aAAezzB,GAKvC,SAAS26B,GAAaC,GAClB,OAAOC,GAAYD,GAAO,IAE9B,SAASE,GAAcF,GACnB,OAAOC,GAAYD,GAAO,GAE9B,SAASC,GAAYD,GACjB,OAAOG,GAAUH,GAAO,MAQ5B,SAASG,GAAUH,GACf,OAAmB,QAAZA,EAAIpH,MACM,OAAboH,EAAI1hC,OACO,MAAX0hC,EAAIl0B,KACJk0B,EAAInH,aAGZ,SAASuH,GAAqBC,EAAWC,GAErC,IADA,IAAIxD,EAAM,KACDj4B,EAAI,EAAGA,EAAI85B,GAAe/lC,OAAQiM,GAAK,EAAG,CAC/C,IAAIi6B,EAAOH,GAAe95B,GAC1B,GAAIy7B,EAAYxB,GAAO,CACnB,IAAIyB,EAAWF,EAAUvB,GAAQwB,EAAYxB,GAC7C,IAAKzH,GAAMkJ,IAAsB,OAARzD,GAAgBA,IAAQyD,EAC7C,OAAO,KAEXzD,EAAMyD,OAEL,GAAIF,EAAUvB,GAEf,OAAO,KAGf,OAAOhC,EAEX,SAAS0D,GAA4BR,GACjC,IAAIX,EAAKW,EAAInH,aACb,GAAIwG,EAAI,CACJ,GAAIA,EAAK,MAAS,EACd,MAAO,CAAEP,KAAM,cAAehmC,MAAOumC,GAEzC,GAAIA,EAAK,MAAgB,EACrB,MAAO,CAAEP,KAAM,SAAUhmC,MAAOumC,EAAK,KAEzC,GAAIA,EAAK,OAAqB,EAC1B,MAAO,CAAEP,KAAM,SAAUhmC,MAAOumC,EAAK,KAEzC,GAAIA,EACA,MAAO,CAAEP,KAAM,OAAQhmC,MAAOumC,EAAK,MAG3C,OAAIW,EAAIl0B,KACAk0B,EAAIR,gBAAkBQ,EAAIl0B,KAAO,IAAM,EAChC,CAAEgzB,KAAM,OAAQhmC,MAAOknC,EAAIl0B,KAAO,GAEtC,CAAEgzB,KAAM,MAAOhmC,MAAOknC,EAAIl0B,MAEjCk0B,EAAI1hC,OACG,CAAEwgC,KAAM,QAAShmC,MAAOknC,EAAI1hC,QAEnC0hC,EAAIpH,MACG,CAAEkG,KAAM,OAAQhmC,MAAOknC,EAAIpH,OAE/B,CAAEkG,KAAM,cAAehmC,MAAO,GAIzC,SAAS2nC,GAAe9G,EAAQ+G,EAAgBC,QACtB,IAAlBA,IAA4BA,GAAgB,GAChD,IAAIhiC,EAAIg7B,EAAOj0B,cAcf,OAbA/G,EAAIA,EAAEuuB,QAAQ,OAAQ,IAClByT,IACAhiC,EAAIA,EAAEuuB,QAAQ,aAAc,KAE5BvuB,EAAE/F,OAAS,KACW,MAAlB8nC,EACA/hC,EAAIA,EAAEuuB,QAAQ,IAAK,IAEK,IAAnBwT,IACL/hC,EAAIA,EAAEuuB,QAAQ,IAAK0T,GAAqBF,GAAgB,MAIzD/hC,EAKX,SAASkiC,GAAgBlH,GACrB,OAAOA,EAAOj0B,cAAcwnB,QAAQ,OAAQ,IAGhD,SAAS4T,GAAoBnH,GACzB,OAAO1C,GAAS0C,EAAON,cAAe,GAAK,IACvCpC,GAAS0C,EAAOJ,gBAAiB,GAAK,IACtCtC,GAAS0C,EAAOF,gBAAiB,GAEzC,SAASmH,GAAqB97B,EAASi8B,QACrB,IAAVA,IAAoBA,GAAQ,GAChC,IAAI9B,EAAOn6B,EAAU,EAAI,IAAM,IAC3BgO,EAAM9W,KAAK8W,IAAIhO,GACfgE,EAAQ9M,KAAKm+B,MAAMrnB,EAAM,IACzBkuB,EAAOhlC,KAAKC,MAAM6W,EAAM,IAC5B,OAAIiuB,EACO9B,EAAOhI,GAASnuB,EAAO,GAAK,IAAMmuB,GAAS+J,EAAM,GAErD,MAAQ/B,EAAOn2B,GAASk4B,EAAO,IAAM/J,GAAS+J,EAAM,GAAK,IAkBpE,SAASC,GAAcC,EAAIC,EAAIC,GAC3B,GAAIF,IAAOC,EACP,OAAO,EAEX,IACIt8B,EADAqyB,EAAMgK,EAAGtoC,OAEb,GAAIs+B,IAAQiK,EAAGvoC,OACX,OAAO,EAEX,IAAKiM,EAAI,EAAGA,EAAIqyB,EAAKryB,GAAK,EACtB,KAAMu8B,EAAeA,EAAaF,EAAGr8B,GAAIs8B,EAAGt8B,IAAMq8B,EAAGr8B,KAAOs8B,EAAGt8B,IAC3D,OAAO,EAGf,OAAO,EAGX,SAASw8B,GAAQC,EAAYC,EAAaC,GACtC,IAAIC,EACAC,EACJ,OAAO,WAEH,IADA,IAAIC,EAAU,GACL5F,EAAK,EAAGA,EAAKpjC,UAAUC,OAAQmjC,IACpC4F,EAAQ5F,GAAMpjC,UAAUojC,GAE5B,GAAK0F,GAGA,IAAKR,GAAcQ,EAAaE,GAAU,CACvCH,GACAA,EAAaE,GAEjB,IAAI5E,EAAMwE,EAAWvhC,MAAM1H,KAAMspC,GAC5BJ,GAAgBA,EAAYzE,EAAK4E,KAClCA,EAAa5E,SARjB4E,EAAaJ,EAAWvhC,MAAM1H,KAAMspC,GAYxC,OADAF,EAAcE,EACPD,GAGf,SAASE,GAAcN,EAAYC,EAAaC,GAC5C,IACIK,EACAH,EAFAtoC,EAAQf,KAGZ,OAAO,SAAUypC,GACb,GAAKD,GAGA,IAAK1F,GAAa0F,EAAYC,GAAS,CACpCN,GACAA,EAAaE,GAEjB,IAAI5E,EAAMwE,EAAWhzB,KAAKlV,EAAO0oC,GAC5BP,GAAgBA,EAAYzE,EAAK4E,KAClCA,EAAa5E,SARjB4E,EAAaJ,EAAWhzB,KAAKlV,EAAO0oC,GAYxC,OADAD,EAAaC,EACNJ,GAkEf,IAAIK,GAAmC,CACnCxC,KAAM,EACN9pB,UAAW,EACXusB,eAAgB,EAChBC,SAAU,EACVC,WAAY,GAEZC,GAAgC,CAChCC,aAAc,EACdC,IAAK,EACL99B,KAAM,EACNY,MAAO,EACP9B,IAAK,EACLi/B,QAAS,EACTr/B,KAAM,EACNi8B,OAAQ,EACRC,OAAQ,GAERoD,GAAc,oBACdC,GAAW,KACXC,GAAiB,OACjBC,GAAS,UACTC,GAAS,UACTC,GAAiC,WACjC,SAASA,EAAgBC,GACrB,IAAIC,EAAoB,GACpBC,EAAmB,GACnBC,EAAW,EACf,IAAK,IAAI3H,KAAUwH,EACXxH,KAAU0G,IACVgB,EAAiB1H,GAAUwH,EAAexH,GAC1C2H,EAAWhnC,KAAK0M,IAAIq5B,GAAiC1G,GAAS2H,KAG9DF,EAAkBzH,GAAUwH,EAAexH,GACvCA,KAAU8G,KACVa,EAAWhnC,KAAK0M,IAAIy5B,GAA8B9G,GAAS2H,KAIvE3qC,KAAKyqC,kBAAoBA,EACzBzqC,KAAK0qC,iBAAmBA,EACxB1qC,KAAK2qC,SAAWA,EAChB3qC,KAAK4qC,oBAAsB5B,GAAQ4B,IAkDvC,OAhDAL,EAAgBv0B,UAAUpH,OAAS,SAAU1L,EAAMooB,GAC/C,OAAOtrB,KAAK4qC,oBAAoB5qC,KAAKyqC,kBAAmBzqC,KAAK0qC,iBAAkBpf,EAAxEtrB,CAAiFkD,IAE5FqnC,EAAgBv0B,UAAU60B,YAAc,SAAU9E,EAAOC,EAAK1a,EAASwf,GACnE,IAAIzrB,EAAKrf,KAAMyqC,EAAoBprB,EAAGorB,kBAAmBC,EAAmBrrB,EAAGqrB,iBAC3EK,EAAeC,GAA0BjF,EAAMzE,OAAQ0E,EAAI1E,OAAQhW,EAAQ2f,gBAC/E,IAAKF,EACD,OAAO/qC,KAAK4O,OAAOm3B,EAAOza,GAE9B,IAAI4f,EAAwBH,IACxBG,EAAwB,IACI,YAA3BT,EAAkBv+B,MAAiD,YAA3Bu+B,EAAkBv+B,MAC9B,YAA5Bu+B,EAAkB39B,OAAmD,YAA5B29B,EAAkB39B,OACjC,YAA1B29B,EAAkBz/B,KAA+C,YAA1By/B,EAAkBz/B,MAC1DkgC,EAAwB,GAE5B,IAAIC,EAAQnrC,KAAK4O,OAAOm3B,EAAOza,GAC3B8f,EAAQprC,KAAK4O,OAAOo3B,EAAK1a,GAC7B,GAAI6f,IAAUC,EACV,OAAOD,EAEX,IAAIE,EAAmBC,GAAgCb,EAAmBS,GACtEK,EAAwBX,GAAoBS,EAAkBX,EAAkBpf,GAChFkgB,EAAWD,EAAsBxF,GACjC0F,EAAWF,EAAsBvF,GACjC0F,EAAYC,GAAoBR,EAAOK,EAAUJ,EAAOK,GACxDruB,EAAYstB,EAAiBttB,WAAa0tB,GAA0Bxf,EAAQsgB,kBAAoB,GACpG,OAAIF,EACOA,EAAUG,OAASL,EAAWpuB,EAAYquB,EAAWC,EAAUI,MAEnEX,EAAQ/tB,EAAYguB,GAE/Bb,EAAgBv0B,UAAU+1B,eAAiB,WACvC,OAAQ/rC,KAAK2qC,UACT,KAAK,EACL,KAAK,EACL,KAAK,EACD,MAAO,OACX,KAAK,EACD,MAAO,QACX,KAAK,EACD,MAAO,OACX,KAAK,EACD,MAAO,MACX,QACI,MAAO,SAGZJ,EAtEyB,GAwEpC,SAASK,GAAoBH,EAAmBC,EAAkBpf,GAC9D,IAAI0gB,EAAsB16B,OAAOkY,KAAKihB,GAAmBlqC,OACzD,OAA4B,IAAxByrC,GAAgE,UAAnCvB,EAAkBV,aACxC,SAAU7mC,GAAQ,OAAQqlC,GAAqBrlC,EAAKmlC,iBAEnC,IAAxB2D,GAA6BtB,EAAiBxD,KACvC,SAAUhkC,GAAQ,OAAQ+oC,GAAiB3gB,EAAQ4gB,kBAAkBhpC,EAAKo+B,QAAShW,EAAQ6gB,SAAU7gB,EAAQtnB,OAAQ0mC,EAAiBxD,OAE1IkF,GAA0B3B,EAAmBC,EAAkBpf,GAE1E,SAAS8gB,GAA0B3B,EAAmBC,EAAkBpf,GACpEmf,EAAoB3X,EAAS,GAAI2X,GACjCC,EAAmB5X,EAAS,GAAI4X,GAChC2B,GAAiB5B,EAAmBC,GACpCD,EAAkB6B,SAAW,MAC7B,IACIC,EADAC,EAAe,IAAIC,KAAKC,eAAephB,EAAQtnB,OAAO2oC,MAAOlC,GAEjE,GAAIC,EAAiBf,eAAgB,CACjC,IAAIiD,EAAY9Z,EAAS,GAAI2X,UACtBmC,EAAU/F,OACjB0F,EAAa,IAAIE,KAAKC,eAAephB,EAAQtnB,OAAO2oC,MAAOC,GAE/D,OAAO,SAAU1pC,GACb,IACI0L,EADA0yB,EAASp+B,EAAKo+B,OAGd1yB,EADA29B,IAAejL,EAAOJ,gBACbqL,EAGAC,EAEb,IAAIlmC,EAAIsI,EAAOA,OAAO0yB,GACtB,OAAOuL,GAAYvmC,EAAGpD,EAAMunC,EAAmBC,EAAkBpf,IAGzE,SAAS+gB,GAAiB5B,EAAmBC,GAGrCD,EAAkBV,eACbU,EAAkB7/B,OACnB6/B,EAAkB7/B,KAAO,WAExB6/B,EAAkB5D,SACnB4D,EAAkB5D,OAAS,YAII,SAAnC4D,EAAkBV,eAClBU,EAAkBV,aAAe,SAGjCW,EAAiBf,iBAAmBc,EAAkB3D,QAAU2D,EAAkB1D,qBAC3E2D,EAAiBf,eAGhC,SAASkD,GAAYvmC,EAAGpD,EAAMunC,EAAmBC,EAAkBpf,GA6B/D,OA5BAhlB,EAAIA,EAAEuuB,QAAQwV,GAAQ,IACiB,UAAnCI,EAAkBV,eAClBzjC,EAAIwmC,GAAaxmC,EAAyB,QAArBglB,EAAQghB,UAA6C,MAAvBppC,EAAKmlC,eACpD,MACAE,GAAqBrlC,EAAKmlC,kBAE9BqC,EAAiBb,aACjBvjC,EAAIA,EAAEuuB,QAAQsV,GAAU,IAAIr7B,QAE5B47B,EAAiBf,iBACjBrjC,EAAIA,EAAEuuB,QAAQ,MAAO,MAIS,IAA9B6V,EAAiBd,SACjBtjC,EAAIA,EAAEuuB,QAAQqV,GAAa,IAAIp7B,OAEI,WAA9B47B,EAAiBd,SACtBtjC,EAAIA,EAAEuuB,QAAQqV,IAAa,SAAUtK,EAAIC,GAAM,OAAOA,EAAGkN,uBAEtB,UAA9BrC,EAAiBd,SACtBtjC,EAAIA,EAAEuuB,QAAQqV,IAAa,SAAUtK,EAAIC,GAAM,OAAOA,EAAGkN,oBAAsB,OAE5C,cAA9BrC,EAAiBd,WACtBtjC,EAAIA,EAAEuuB,QAAQqV,IAAa,SAAUtK,GAAM,OAAOA,EAAGmN,wBAEzDzmC,EAAIA,EAAEuuB,QAAQuV,GAAgB,KAC9B9jC,EAAIA,EAAEwI,OACCxI,EAEX,SAASwmC,GAAaxmC,EAAG0mC,GACrB,IAAIC,GAAW,EASf,OARA3mC,EAAIA,EAAEuuB,QAAQyV,IAAQ,WAElB,OADA2C,GAAW,EACJD,KAGNC,IACD3mC,GAAK,IAAM0mC,GAER1mC,EAEX,SAAS2lC,GAAiBiB,EAAKf,EAAUnoC,EAAQsP,GAC7C,IAAI65B,EAAQ,GAYZ,MAXgB,WAAZ75B,EACA65B,EAAMv3B,KAAKu2B,GAEM,UAAZ74B,GACL65B,EAAMv3B,KAAKu2B,EAAU,KAGzBgB,EAAMv3B,KAAK5R,EAAOopC,mBAAmBx+B,OAAOs+B,IACX,QAA7BlpC,EAAOvE,QAAQ4tC,WACfF,EAAM9U,UAEH8U,EAAM/+B,KAAK,IAMtB,SAAS48B,GAA0B3D,EAAIC,EAAIgG,GACvC,OAAIA,EAAGC,cAAclG,KAAQiG,EAAGC,cAAcjG,GACnC,EAEPgG,EAAGE,eAAenG,KAAQiG,EAAGE,eAAelG,GACrC,EAEPgG,EAAGG,aAAapG,KAAQiG,EAAGG,aAAanG,GACjC,EAEP3G,GAAS0G,KAAQ1G,GAAS2G,GACnB,EAEJ,EAEX,SAASgE,GAAgC7rC,EAASiuC,GAC9C,IAAIC,EAAiB,GACrB,IAAK,IAAIxK,KAAU1jC,KACT0jC,KAAU2G,KACZA,GAA8B3G,IAAWuK,KACzCC,EAAexK,GAAU1jC,EAAQ0jC,IAGzC,OAAOwK,EAEX,SAAShC,GAAoBR,EAAOK,EAAUJ,EAAOK,GACjD,IAAImC,EAAK,EACT,MAAOA,EAAKzC,EAAM5qC,OAAQ,CACtB,IAAIstC,EAAS1C,EAAMrpC,QAAQ0pC,EAAUoC,GACrC,IAAgB,IAAZC,EACA,MAEJ,IAAIC,EAAU3C,EAAMrM,OAAO,EAAG+O,GAC9BD,EAAKC,EAASrC,EAASjrC,OACvB,IAAIwtC,EAAS5C,EAAMrM,OAAO8O,GACtBI,EAAK,EACT,MAAOA,EAAK5C,EAAM7qC,OAAQ,CACtB,IAAI0tC,EAAS7C,EAAMtpC,QAAQ2pC,EAAUuC,GACrC,IAAgB,IAAZC,EACA,MAEJ,IAAIC,EAAU9C,EAAMtM,OAAO,EAAGmP,GAC9BD,EAAKC,EAASxC,EAASlrC,OACvB,IAAI4tC,EAAS/C,EAAMtM,OAAOkP,GAC1B,GAAIF,IAAYI,GAAWH,IAAWI,EAClC,MAAO,CACHtC,OAAQiC,EACRhC,MAAOiC,IAKvB,OAAO,KAGX,SAASK,GAAkBC,EAAUpD,GACjC,IAAI7kB,EAAI6kB,EAAeqD,cAAcD,EAAS/M,QAC9C,MAAO,CACHA,OAAQ+M,EAAS/M,OACjB+G,eAAgBgG,EAAShG,eACzB7oB,MAAO4G,EACPla,KAAMka,EAAE,GACRtZ,MAAOsZ,EAAE,GACTpb,IAAKob,EAAE,GACPxb,KAAMwb,EAAE,GACRygB,OAAQzgB,EAAE,GACV0gB,OAAQ1gB,EAAE,GACV2gB,YAAa3gB,EAAE,IAIvB,SAASmoB,GAA2BxI,EAAOC,EAAK1a,EAASwf,GACrD,IAAI0D,EAAYJ,GAAkBrI,EAAOza,EAAQ2f,gBAC7CwD,EAAUzI,EAAMoI,GAAkBpI,EAAK1a,EAAQ2f,gBAAkB,KACrE,MAAO,CACH/nC,KAAMsrC,EACNzI,MAAOyI,EACPxI,IAAKyI,EACLnC,SAAUhhB,EAAQghB,SAClBoC,YAAapjB,EAAQtnB,OAAO2oC,MAC5Bf,iBAAkBd,GAA0Bxf,EAAQsgB,kBAW5D,IAAI+C,GAA8B,WAC9B,SAASA,EAAaC,GAClB5uC,KAAK4uC,OAASA,EAQlB,OANAD,EAAa34B,UAAUpH,OAAS,SAAU1L,EAAMooB,EAASwf,GACrD,OAAOxf,EAAQujB,aAAa7uC,KAAK4uC,OAAQL,GAA2BrrC,EAAM,KAAMooB,EAASwf,KAE7F6D,EAAa34B,UAAU60B,YAAc,SAAU9E,EAAOC,EAAK1a,EAASwf,GAChE,OAAOxf,EAAQujB,aAAa7uC,KAAK4uC,OAAQL,GAA2BxI,EAAOC,EAAK1a,EAASwf,KAEtF6D,EAVsB,GAa7BG,GAA+B,WAC/B,SAASA,EAAc5Q,GACnBl+B,KAAKk+B,KAAOA,EAQhB,OANA4Q,EAAc94B,UAAUpH,OAAS,SAAU1L,EAAMooB,EAASwf,GACtD,OAAO9qC,KAAKk+B,KAAKqQ,GAA2BrrC,EAAM,KAAMooB,EAASwf,KAErEgE,EAAc94B,UAAU60B,YAAc,SAAU9E,EAAOC,EAAK1a,EAASwf,GACjE,OAAO9qC,KAAKk+B,KAAKqQ,GAA2BxI,EAAOC,EAAK1a,EAASwf,KAE9DgE,EAVuB,GAalC,SAASC,GAAgB/8B,GACrB,MAAqB,kBAAVA,GAAsBA,EACtB,IAAIu4B,GAAgBv4B,GAEV,kBAAVA,EACA,IAAI28B,GAAa38B,GAEP,oBAAVA,EACA,IAAI88B,GAAc98B,GAEtB,KAKX,IAAIg9B,GAAuB,CACvBC,gBAAiBC,GACjBC,iBAAkBD,GAClB5+B,SAAUk2B,GACV4I,qBAAsBF,GACtBG,YAAaH,GACbI,cAAeJ,GACfxJ,2BAA4Bc,GAC5Bb,0BAA2Ba,GAC3B+I,iBAAkB/I,GAClBgJ,WAAYhJ,GACZiJ,gBAAiB3uC,QACjB4uC,YAAalJ,GACbmJ,YAAanJ,GACboJ,iBAAkBb,GAClBc,aAAcrJ,GACdsJ,aAActJ,GACduJ,cAAeb,GACfc,cAAed,GACfe,sBAAuBtvC,OACvBuvC,oBAAqBvvC,OACrBwvC,mBAAoBrvC,QACpBsvC,WAAYtvC,QACZuvC,gBAAiBtB,GACjBuB,oBAAqBpB,GACrBqB,iBAAkBrB,GAClBsB,kBAAmBtB,GACnBuB,qBAAsBvB,GACtBwB,kBAAmBxB,GACnByB,eAAgBzB,GAChB0B,gBAAiB1B,GACjB2B,mBAAoB3B,GACpB4B,YAAanwC,OACbowC,YAAaC,OACbC,SAAUnwC,QACVowC,sBAAuBhC,GACvBvpC,YAAa7E,QACbqwC,qBAAsBjC,GACtBkC,kBAAmBlC,GACnBmC,mBAAoBnC,GACpBoC,sBAAuBpC,GACvBqC,SAAUzwC,QACV0wC,eAAgBtC,GAChBuC,aAAcvC,GACdwC,gBAAiBxC,GACjByC,aAAc7wC,QACd8wC,uBAAwB1C,GACxB2C,oBAAqB3C,GACrB4C,qBAAsB5C,GACtB6C,wBAAyB7C,GACzB8C,oBAAqBlxC,QACrBmxC,aAAcnxC,QACdoxC,WAAYvxC,OACZwxC,SAAUxxC,OACVyxC,cAAezxC,OACf2rC,SAAU3rC,OACV0xC,QAASnD,GACTlrC,OAAQkrC,GACRoD,YAAa3xC,OACb4xC,mBAAoBvB,OACpBwB,WAAY1xC,QACZ2xC,uBAAwB3xC,QACxB4xC,aAAc5xC,QACd6xC,WAAYzD,GACZ0D,WAAY/U,GACZgV,iBAAkB/xC,QAClBgyC,mBAAoBhyC,QACpBiyC,kBAAmB/B,OACnBgC,eAAgBhC,OAChBiC,qBAAsBjC,OACtBkC,WAAYpyC,QACZktB,OAAQkhB,GACRiE,cAAejE,GACf7B,UAAW1sC,OACXyyC,iBAAkBrE,GAClBsE,wBAAyBvyC,QACzBwyC,iBAAkBxyC,QAClByyC,gBAAiBzyC,QACjBqrC,SAAUxrC,OACV6yC,0BAA2B1yC,QAC3B2yC,cAAevE,GACfnuB,YAAamuB,GACb5qC,IAAK4qC,GACLwE,mBAAoBxE,GACpByE,kBAAmBzE,GACnB0E,sBAAuB1E,GACvB2E,WAAY3E,GACZtK,cAAe9jC,QACfgzC,mBAAoB5E,GACpB6E,mBAAoB7E,GACpB8E,aAAcrzC,OACdszC,mBAAoBnzC,QACpBozC,sBAAuBpzC,QACvBqzC,aAAcjF,GACdkF,gBAAiBlF,GACjBmF,WAAYnF,GACZoF,qBAAsB3zC,OACtB4zC,iBAAkB5zC,OAClB6zC,eAAgB7zC,OAChB8zC,WAAY9zC,OACZ+zC,gBAAiBxF,GACjByF,aAAczF,GACd0F,cAAe1F,GACf2F,iBAAkB3F,GAClB4F,iBAAkB5F,GAClB6F,cAAe7F,GACf8F,YAAa9F,GACb+F,UAAWn0C,QACXo0C,eAAgBv0C,OAChBw0C,gBAAiBjG,GACjBkG,mBAAoBlG,GACpBmG,gBAAiBnG,GACjBoG,iBAAkBpG,GAClBqG,oBAAqBrG,GACrBsG,oBAAqBtG,GACrBuG,iBAAkBvG,GAClBwG,kBAAmBxG,GACnByG,qBAAsBzG,GACtB0G,aAAc1G,GACd2G,gBAAiB3G,GACjB4G,YAAa9E,OACb+E,kBAAmBvP,GACnBwP,WAAYr1C,OACZs1C,iBAAkB/G,GAClBgH,cAAehH,GACfiH,eAAgBjH,GAChBkH,kBAAmBlH,GACnBmH,aAAcrF,OACdsF,SAAUx1C,QACVy1C,gBAAiBxH,GACjByH,cAAexF,OACfyF,aAAcvH,GACdwH,kBAAmB1F,OACnB2F,WAAY71C,QACZ81C,qBAAsB5F,OACtB6F,oBAAqB7F,OACrB8F,aAAch2C,QACdi2C,cAAe/F,OACfgG,eAAgBhG,OAChBiG,cAAejG,OACfkG,iBAAkBlG,OAClBmG,iBAAkBr2C,QAClBqE,QAAS+pC,GACTkI,SAAUpG,OACVqG,SAAUrG,OACVsG,cAAe32C,OACf42C,cAAe/Q,GACfgR,WAAYtI,GACZuI,UAAW32C,QACX42C,eAAgB52C,QAChB62C,WAAYzI,GACZ0I,aAAc1I,GACd2I,YAAa3I,GAEb4I,aAAcn3C,OACdo3C,cAAe7I,GACf8I,mBAAoB9I,GACpB+I,gBAAiB/I,GACjBgJ,iBAAkBhJ,GAClBiJ,oBAAqBjJ,IAIrBkJ,GAAuB,CACvBpE,aAAc,OACd/D,sBAAuB,MACvBC,oBAAqB,MACrBvK,0BAA2B,WAC3BD,2BAA4B,CAAE16B,IAAK,GACnCmlC,oBAAoB,EACpBZ,iBAAkB,WAClBa,YAAY,EACZU,YAAa,GACbC,YAAa,KACbhB,cAAe,CACXhK,MAAO,QACPsS,OAAQ,GACRrS,IAAK,mBAETiL,UAAU,EACVtrC,aAAa,EACburC,sBAAuB,QACvBK,UAAU,EACVI,cAAc,EACdnC,WAAY,WACZC,iBAAiB,EACjBC,YAAa,WACbC,YAAa,WACbqC,qBAAqB,EACrBC,cAAc,EACdC,WAAY,QACZC,SAAU,MACVC,cAAe,WACf9F,SAAU,QACV+F,QAAS,GACTruC,OAAQ,GACRsuC,YAAa,WACbC,mBAAoB,IACpBC,YAAY,EACZC,wBAAwB,EACxBC,cAAc,EACdC,WAAY,IACZC,WAAY,+BACZhD,iBAAkB,CAAE9iC,MAAO,OAAQ9B,IAAK,UAAWkB,KAAM,WACzD4mC,oBAAoB,EACpBC,kBAAmB,IACnBC,eAAgB,IAChBC,qBAAsB,EACtBC,YAAY,EACZoD,UAAU,EACVK,YAAY,EACZK,eAAgB,GAChBC,cAAe,GACfC,iBAAkB,IAIlBoB,GAA6B,CAC7BC,SAAUrJ,GACVsJ,UAAWtJ,GACXuJ,SAAUvJ,GACVwJ,YAAaxJ,GACbyJ,YAAazJ,GACb0J,aAAc1J,GACd2J,WAAY3J,GACZ4J,gBAAiB5J,GACjB6J,gBAAiB7J,GACjBj4B,OAAQi4B,GACR8J,SAAU9J,GACV+J,QAAS/J,GAETgK,SAAUhK,GACViK,aAAcjK,GACdkK,YAAalK,GACbmK,aAAcnK,GACdoK,eAAgBpK,GAChBqK,QAASrK,GACTsK,eAAgBtK,IAIhBuK,GAA2B,CAC3BC,WAAYxK,GACZyK,MAAOzK,GACP/pC,QAAS+pC,GACT0K,cAAe1K,GACf2K,OAAQ3K,GACR4K,aAAc5K,IAEd6K,GAA6B,CAC7BhK,cAAeiK,GACfhK,cAAegK,GACfN,WAAYM,GACZ3K,YAAa2K,IAEjB,SAASA,GAAmB5zB,EAAGC,GAC3B,MAAiB,kBAAND,GAA+B,kBAANC,GAAkBD,GAAKC,EAChDyd,GAAa1d,EAAGC,GAEpBD,IAAMC,EAIjB,IAAI4zB,GAAuB,CACvBzwC,KAAM7I,OACNu5C,UAAWhL,GACXwK,WAAY/4C,OACZw5C,cAAex5C,OACfy5C,0BAA2BlL,GAC3BmL,eAAgBv5C,QAChBw5C,WAAYpL,GACZ5mC,QAAS4mC,GACTqL,SAAUrL,GACVsL,YAAatL,IAIjB,SAASuL,GAAgBC,GACrB,OAAO9X,GAAW8X,EAAYX,IAElC,SAASY,GAAY3oC,EAAO4oC,GACxB,IAAIjW,EAAU,GACVkW,EAAQ,GACZ,IAAK,IAAI9e,KAAY6e,EACb7e,KAAY/pB,IACZ2yB,EAAQ5I,GAAY6e,EAAS7e,GAAU/pB,EAAM+pB,KAGrD,IAAK,IAAIA,KAAY/pB,EACX+pB,KAAY6e,IACdC,EAAM9e,GAAY/pB,EAAM+pB,IAGhC,MAAO,CAAE4I,QAASA,EAASkW,MAAOA,GAEtC,SAAS3L,GAAS4L,GACd,OAAOA,EAGX,SAASC,GAAYC,EAAWC,EAAa3vB,EAAS4vB,GAGlD,IAFA,IAAI9V,EAAa+V,KACbC,EAAgBC,GAAmB/vB,GAC9BoY,EAAK,EAAG4X,EAAcN,EAAWtX,EAAK4X,EAAY/6C,OAAQmjC,IAAM,CACrE,IAAI6X,EAAWD,EAAY5X,GACvB8X,EAAQC,GAAWF,EAAUN,EAAa3vB,EAAS4vB,EAAgBE,GACnEI,GACAE,GAAkBF,EAAOpW,GAGjC,OAAOA,EAEX,SAASsW,GAAkBF,EAAOpW,GAM9B,YALmB,IAAfA,IAAyBA,EAAa+V,MAC1C/V,EAAWG,KAAKiW,EAAM/V,IAAIjD,OAASgZ,EAAM/V,IACrC+V,EAAM5xB,WACNwb,EAAWzc,UAAU6yB,EAAM5xB,SAAS+Y,YAAc6Y,EAAM5xB,UAErDwb,EAKX,SAASuW,GAAkBvW,EAAYzC,GACnC,IAAI/Y,EAAWwb,EAAWzc,UAAUga,GACpC,GAAI/Y,EAAU,CACV,IAAIgyB,EAAQxW,EAAWG,KAAK3b,EAAS4Y,OAEjCqZ,EAAWC,GAAqB1W,GAAY,SAAU2W,GAAW,OAAOC,GAAmBJ,EAAOG,MAKtG,OAFAF,EAAStW,KAAKqW,EAAMpZ,OAASoZ,EAC7BC,EAASlzB,UAAUiB,EAAS+Y,YAAc/Y,EACnCiyB,EAEX,OAAOV,KAEX,SAASa,GAAmBC,EAAMC,GAC9B,OAAOp7C,QAAQm7C,EAAKE,SAAWF,EAAKE,UAAYD,EAAKC,SAEzD,SAAShB,KACL,MAAO,CAAE5V,KAAM,GAAI5c,UAAW,IAElC,SAASyzB,GAAiBC,EAAQC,GAC9B,MAAO,CACH/W,KAAMzS,EAASA,EAAS,GAAIupB,EAAO9W,MAAO+W,EAAO/W,MACjD5c,UAAWmK,EAASA,EAAS,GAAIupB,EAAO1zB,WAAY2zB,EAAO3zB,YAGnE,SAASmzB,GAAqB1W,EAAYmX,GACtC,IAAIhX,EAAOnC,GAAWgC,EAAWG,KAAMgX,GACnC5zB,EAAYya,GAAWgC,EAAWzc,WAAW,SAAUiB,GAAY,OAAQ2b,EAAK3b,EAAS4Y,UAE7F,MAAO,CAAE+C,KAAMA,EAAM5c,UAAWA,GAEpC,SAAS6zB,GAAqBC,EAAQtnB,GAClC,IAAIoQ,EAAOkX,EAAOlX,KAAM5c,EAAY8zB,EAAO9zB,UACvC+zB,EAAe,GACfC,EAAoB,GACxB,IAAK,IAAIna,KAAS+C,EACTpQ,EAAIoQ,KAAK/C,KACVka,EAAala,GAAS+C,EAAK/C,IAGnC,IAAK,IAAIG,KAAcha,GACdwM,EAAIxM,UAAUga,IACf+Z,EAAa/zB,EAAUga,GAAYH,SAEnCma,EAAkBha,GAAcha,EAAUga,IAGlD,MAAO,CACH4C,KAAMmX,EACN/zB,UAAWg0B,GAInB,SAASC,GAAoB5qC,EAAOsZ,GAChC,OAAIzjB,MAAM0sB,QAAQviB,GACP+oC,GAAY/oC,EAAO,KAAMsZ,GAAS,GAExB,kBAAVtZ,GAAsBA,EACtB+oC,GAAY,CAAC/oC,GAAQ,KAAMsZ,GAAS,GAElC,MAATtZ,EACOrR,OAAOqR,GAEX,KAGX,SAAS6qC,GAAgB/B,GACrB,OAAIjzC,MAAM0sB,QAAQumB,GACPA,EAEQ,kBAARA,EACAA,EAAI7sC,MAAM,OAEd,GAMX,IAAI6uC,GAAoB,CACpBxpC,QAAS3S,OACT4wC,SAAUzwC,QACVi8C,cAAej8C,QACfk8C,iBAAkBl8C,QAClBm8C,WAAY/N,GACZgO,QAAShO,GACTiO,MAAOjO,GACPlnC,UAAW60C,GACXvC,WAAYuC,GACZO,MAAOz8C,OACP08C,gBAAiB18C,OACjB28C,YAAa38C,OACb48C,UAAW58C,QAEX68C,GAAiB,CACjBlqC,QAAS,KACTypC,cAAe,KACfC,iBAAkB,KAClBS,YAAa,GACbP,QAAS,KACTQ,OAAQ,GACRL,gBAAiB,GACjBC,YAAa,GACbC,UAAW,GACXjD,WAAY,IAEhB,SAASqD,GAAchZ,EAASrZ,GAC5B,IAAI2xB,EAAaL,GAAoBjY,EAAQsY,WAAY3xB,GACzD,MAAO,CACHhY,QAASqxB,EAAQrxB,SAAW,KAC5BypC,cAAwC,MAAzBpY,EAAQoY,cAAwBpY,EAAQoY,cAAgBpY,EAAQ4M,SAC/EyL,iBAA8C,MAA5BrY,EAAQqY,iBAA2BrY,EAAQqY,iBAAmBrY,EAAQ4M,SACxFkM,YAA2B,MAAdR,EAAqB,CAACA,GAAc,GACjDC,QAA4B,MAAnBvY,EAAQuY,QAAkBvY,EAAQuY,QAAU,KACrDQ,OAAyB,MAAjB/Y,EAAQwY,MAAgB,CAACxY,EAAQwY,OAAS,GAClDE,gBAAiB1Y,EAAQ0Y,iBAAmB1Y,EAAQyY,OAAS,GAC7DE,YAAa3Y,EAAQ2Y,aAAe3Y,EAAQyY,OAAS,GACrDG,UAAW5Y,EAAQ4Y,WAAa,GAChCjD,YAAa3V,EAAQ38B,WAAa,IAAIsY,OAAOqkB,EAAQ2V,YAAc,KAI3E,SAASsD,GAAgBC,GACrB,OAAOA,EAAIr6B,OAAOs6B,GAAoBN,IAE1C,SAASM,GAAmBC,EAAOC,GAC/B,MAAO,CACH1qC,QAA0B,MAAjB0qC,EAAM1qC,QAAkB0qC,EAAM1qC,QAAUyqC,EAAMzqC,QACvDypC,cAAsC,MAAvBiB,EAAMjB,cAAwBiB,EAAMjB,cAAgBgB,EAAMhB,cACzEC,iBAA4C,MAA1BgB,EAAMhB,iBAA2BgB,EAAMhB,iBAAmBe,EAAMf,iBAClFS,YAAaM,EAAMN,YAAYn9B,OAAO09B,EAAMP,aAC5CP,QAAkC,mBAAlBc,EAAMd,QAAwBc,EAAMd,QAAUa,EAAMb,QACpEQ,OAAQK,EAAML,OAAOp9B,OAAO09B,EAAMN,QAClCL,gBAAiBW,EAAMX,iBAAmBU,EAAMV,gBAChDC,YAAaU,EAAMV,aAAeS,EAAMT,YACxCC,UAAWS,EAAMT,WAAaQ,EAAMR,UACpCjD,WAAYyD,EAAMzD,WAAWh6B,OAAO09B,EAAM1D,aAIlD,IAAI2D,GAA0B,CAC1B/wB,GAAIvsB,OACJw7C,QAASx7C,OACT8c,MAAO9c,OACPo6B,IAAKp6B,QAELu9C,GAAsB,CACtBnY,MAAOmJ,GACPlJ,IAAKkJ,GACLhsC,KAAMgsC,GACNnK,OAAQjkC,SAERq9C,GAAiBrrB,EAASA,EAASA,EAAS,GAAImrB,IAA0BC,IAAsB,CAAEE,cAAelP,KACrH,SAASuM,GAAWX,EAAKG,EAAa3vB,EAAS4vB,EAAgBN,QAC1C,IAAbA,IAAuBA,EAAWS,GAAmB/vB,IACzD,IAAIjM,EAAKg/B,GAAevD,EAAKxvB,EAASsvB,GAAWjW,EAAUtlB,EAAGslB,QAASkW,EAAQx7B,EAAGw7B,MAC9EjW,EAAgB0Z,GAAuBrD,EAAa3vB,GACpDizB,EAAe7Z,GAAeC,EAASC,EAAetZ,EAAQuZ,QAASvZ,EAAQga,YAAYR,gBAC/F,GAAIyZ,EAAc,CACd,IAAI9Y,EAAM+Y,GAAc7Z,EAASkW,EAAOI,EAAcA,EAAYxgB,SAAW,GAAI8jB,EAAaxZ,OAAQjkC,QAAQy9C,EAAajuC,UAAWgb,GAMtI,OALAma,EAAID,aAAe,CACfN,OAAQqZ,EAAarZ,OACrBD,SAAUsZ,EAAatZ,SACvB30B,SAAUiuC,EAAajuC,UAEpB,CAAEm1B,IAAKA,EAAK7b,SAAU,MAEjC,IAAI60B,EAAYC,GAAY/Z,EAASC,EAAetZ,EAAS4vB,GAC7D,GAAIuD,EAAW,CACPhZ,EAAM+Y,GAAc7Z,EAASkW,EAAOI,EAAcA,EAAYxgB,SAAW,GAAIgkB,EAAU1Z,OAAQ0Z,EAAUE,OAAQrzB,GAArH,IACI1B,EAAW2Y,GAAoBkD,EAAIjD,MAAOic,EAAUl4B,MAAOk4B,EAAUhc,eAAgBgc,EAAU/b,cACnG,MAAO,CAAE+C,IAAKA,EAAK7b,SAAUA,GAEjC,OAAO,KAEX,SAASy0B,GAAevD,EAAKxvB,EAASsvB,GAElC,YADiB,IAAbA,IAAuBA,EAAWS,GAAmB/vB,IAClDqvB,GAAYG,EAAKF,GAE5B,SAASS,GAAmB/vB,GACxB,OAAOwH,EAASA,EAASA,EAAS,GAAIgqB,IAAoBqB,IAAiB7yB,EAAQga,YAAY8V,eAMnG,SAASoD,GAAc7Z,EAASkW,EAAOpgB,EAAUsK,EAAQ4Z,EAAQrzB,GAc7D,IAbA,IAAIma,EAAM,CACNhoB,MAAOknB,EAAQlnB,OAAS,GACxB0+B,QAASxX,EAAQwX,SAAW,GAC5BthB,SAAU8J,EAAQzX,IAAM,GACxB6N,IAAK4J,EAAQ5J,KAAO,GACpByK,aAAc,KACdhD,MAAOlF,KACP7C,SAAUA,EACVsK,OAAQA,EACR4Z,OAAQA,EACRC,GAAIjB,GAAchZ,EAASrZ,GAC3B8yB,cAAetrB,EAASA,EAAS,GAAK6R,EAAQyZ,eAAiB,IAAMvD,IAEhEnX,EAAK,EAAGrkB,EAAKiM,EAAQga,YAAYuZ,qBAAsBnb,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAClF,IAAIob,EAAcz/B,EAAGqkB,GACrB5Q,EAAS2S,EAAKqZ,EAAYna,IAK9B,OAFArzB,OAAOytC,OAAOtZ,EAAImZ,GAAGtE,YACrBhpC,OAAOytC,OAAOtZ,EAAI2Y,eACX3Y,EAEX,SAASiZ,GAAY/Z,EAASC,EAAetZ,EAAS4vB,GAClD,IACI8D,EAGAC,EAJAla,EAASJ,EAAQI,OAEjBma,EAAc,KACdP,GAAS,EAETQ,EAAY,KACZC,EAA8B,MAAjBza,EAAQoB,MAAgBpB,EAAQoB,MAAQpB,EAAQzhC,KAEjE,GADA87C,EAAY1zB,EAAQuZ,QAAQwa,iBAAiBD,GACzCJ,EACAE,EAAcF,EAAU1d,YAEvB,IAAK4Z,EACN,OAAO,KAoCX,OAlCmB,MAAfvW,EAAQqB,MACRiZ,EAAU3zB,EAAQuZ,QAAQwa,iBAAiB1a,EAAQqB,MAEzC,MAAVjB,IAEIA,EADiB,MAAjBH,EACSA,IAIEoa,GAAaA,EAAUM,sBAC5BL,GAAWA,EAAQK,oBAG7Bva,GAAUma,IACVA,EAAc7e,GAAW6e,IAEzBD,IACAE,EAAYF,EAAQ3d,OAChByD,IACAoa,EAAY9e,GAAW8e,IAEvBD,GAAeC,GAAaD,IAC5BC,EAAY,OAGhBA,EACAR,GAAS,EAEHzD,IACNyD,EAASrzB,EAAQ7rB,QAAQ0wC,qBAAsB,EAC/CgP,EAAY7zB,EAAQuZ,QAAQ38B,IAAIg3C,EAAana,EACzCzZ,EAAQ7rB,QAAQimC,2BAChBpa,EAAQ7rB,QAAQkmC,4BAEjB,CACHZ,OAAQA,EACR4Z,OAAQA,EACRp4B,MAAO,CAAEwf,MAAOmZ,EAAalZ,IAAKmZ,GAClC1c,eAAgBuc,EAAYA,EAAUO,UAAY,KAClD7c,aAAcuc,EAAUA,EAAQM,UAAY,MAGpD,SAASjB,GAAuBrD,EAAa3vB,GACzC,IAAImZ,EAAM,KAOV,OANIwW,IACAxW,EAAMwW,EAAYrW,eAEX,MAAPH,IACAA,EAAMnZ,EAAQ7rB,QAAQmlC,eAEnBH,EAOX,SAAS+a,GAAuBC,GAC5B,IAAIC,EAAS/7C,KAAKm+B,MAAMhC,GAAS2f,EAAW1Z,MAAO0Z,EAAWzZ,OAAS,EACnED,EAAQ1F,GAAWof,EAAW1Z,OAC9BC,EAAMvG,GAAQsG,EAAO2Z,GACzB,MAAO,CAAE3Z,MAAOA,EAAOC,IAAKA,GAIhC,SAAS2Z,GAAuBF,EAAYlQ,QACf,IAArBA,IAA+BA,EAAmB/I,GAAe,IACrE,IAAIoZ,EAAW,KACXC,EAAS,KACb,GAAIJ,EAAWzZ,IAAK,CAChB6Z,EAASxf,GAAWof,EAAWzZ,KAC/B,IAAI8Z,EAAYL,EAAWzZ,IAAIjG,UAAY8f,EAAO9f,UAI9C+f,GAAaA,GAAahY,GAAUyH,KACpCsQ,EAASpgB,GAAQogB,EAAQ,IAUjC,OAPIJ,EAAW1Z,QACX6Z,EAAWvf,GAAWof,EAAW1Z,OAE7B8Z,GAAUA,GAAUD,IACpBC,EAASpgB,GAAQmgB,EAAU,KAG5B,CAAE7Z,MAAO6Z,EAAU5Z,IAAK6Z,GAGnC,SAASE,GAAgBx5B,GACrB,IAAIqxB,EAAe+H,GAAuBp5B,GAC1C,OAAOuZ,GAAS8X,EAAa7R,MAAO6R,EAAa5R,KAAO,EAE5D,SAASga,GAAUC,EAAOnwC,EAAO+0B,EAASqb,GACtC,MAAkB,SAAdA,EACO1Z,GAAe3B,EAAQsb,eAAeF,EAAOnwC,GAAQ,QAE9C,UAAdowC,EACO1Z,GAAe3B,EAAQub,gBAAgBH,EAAOnwC,GAAQ,SAE1DqwB,GAAe8f,EAAOnwC,GAGjC,SAASuwC,GAAWruC,EAAO6yB,GACvB,IAAIkB,EAAQ,KACRC,EAAM,KAOV,OANIh0B,EAAM+zB,QACNA,EAAQlB,EAAQyb,aAAatuC,EAAM+zB,QAEnC/zB,EAAMg0B,MACNA,EAAMnB,EAAQyb,aAAatuC,EAAMg0B,MAEhCD,GAAUC,EAGXD,GAASC,GAAOA,EAAMD,EACf,KAEJ,CAAEA,MAAOA,EAAOC,IAAKA,GALjB,KASf,SAASua,GAAaC,EAAQC,GAC1B,IAEIj0C,EACAk0C,EAHAC,EAAiB,GACjB5a,EAAQ0a,EAAgB1a,MAK5B,IADAya,EAAOr6B,KAAKy6B,IACPp0C,EAAI,EAAGA,EAAIg0C,EAAOjgD,OAAQiM,GAAK,EAChCk0C,EAAYF,EAAOh0C,GAEfk0C,EAAU3a,MAAQA,GAClB4a,EAAe/qC,KAAK,CAAEmwB,MAAOA,EAAOC,IAAK0a,EAAU3a,QAEnD2a,EAAU1a,IAAMD,IAChBA,EAAQ2a,EAAU1a,KAO1B,OAHID,EAAQ0a,EAAgBza,KACxB2a,EAAe/qC,KAAK,CAAEmwB,MAAOA,EAAOC,IAAKya,EAAgBza,MAEtD2a,EAEX,SAASC,GAAcC,EAAQC,GAC3B,OAAOD,EAAO9a,MAAMhG,UAAY+gB,EAAO/a,MAAMhG,UAEjD,SAASghB,GAAgBF,EAAQC,GAC7B,IAAI/a,EAAQ8a,EAAO9a,MAAOC,EAAM6a,EAAO7a,IACnCgb,EAAW,KAoBf,OAnBqB,OAAjBF,EAAO/a,QAEHA,EADU,OAAVA,EACQ+a,EAAO/a,MAGP,IAAI5iC,KAAKQ,KAAK0M,IAAI01B,EAAMhG,UAAW+gB,EAAO/a,MAAMhG,aAG9C,MAAd+gB,EAAO9a,MAEHA,EADQ,OAARA,EACM8a,EAAO9a,IAGP,IAAI7iC,KAAKQ,KAAKyM,IAAI41B,EAAIjG,UAAW+gB,EAAO9a,IAAIjG,cAG5C,OAAVgG,GAA0B,OAARC,GAAgBD,EAAQC,KAC1Cgb,EAAW,CAAEjb,MAAOA,EAAOC,IAAKA,IAE7Bgb,EAEX,SAASC,GAAYJ,EAAQC,GACzB,OAAyB,OAAjBD,EAAO9a,MAAiB,KAAO8a,EAAO9a,MAAMhG,cAAiC,OAAjB+gB,EAAO/a,MAAiB,KAAO+a,EAAO/a,MAAMhG,aAC5F,OAAf8gB,EAAO7a,IAAe,KAAO6a,EAAO7a,IAAIjG,cAA+B,OAAf+gB,EAAO9a,IAAe,KAAO8a,EAAO9a,IAAIjG,WAEzG,SAASmhB,GAAgBL,EAAQC,GAC7B,OAAuB,OAAfD,EAAO7a,KAAiC,OAAjB8a,EAAO/a,OAAkB8a,EAAO7a,IAAM8a,EAAO/a,SACtD,OAAjB8a,EAAO9a,OAAiC,OAAf+a,EAAO9a,KAAgB6a,EAAO9a,MAAQ+a,EAAO9a,KAE/E,SAASmb,GAAmBC,EAAYC,GACpC,OAA6B,OAArBD,EAAWrb,OAAwC,OAArBsb,EAAWtb,OAAkBsb,EAAWtb,OAASqb,EAAWrb,SAC1E,OAAnBqb,EAAWpb,KAAoC,OAAnBqb,EAAWrb,KAAgBqb,EAAWrb,KAAOob,EAAWpb,KAE7F,SAASsb,GAAoB/6B,EAAOrjB,GAChC,OAAwB,OAAhBqjB,EAAMwf,OAAkB7iC,GAAQqjB,EAAMwf,SAC3B,OAAdxf,EAAMyf,KAAgB9iC,EAAOqjB,EAAMyf,KAI5C,SAASub,GAAuBr+C,EAAMqjB,GAClC,OAAmB,MAAfA,EAAMwf,OAAiB7iC,EAAOqjB,EAAMwf,MAC7Bxf,EAAMwf,MAEA,MAAbxf,EAAMyf,KAAe9iC,GAAQqjB,EAAMyf,IAC5B,IAAI7iC,KAAKojB,EAAMyf,IAAIjG,UAAY,GAEnC78B,EAMX,SAASs+C,GAAgBpc,EAAYqc,EAAcpc,EAAckK,GAC7D,IAAImS,EAAqB,GACrBC,EAAmB,GACnBC,EAAe,GACfC,EAAW,GACXC,EAAW,GACXC,EAAWC,GAAgB5c,EAAWG,KAAMkc,GAChD,IAAK,IAAIjf,KAAS4C,EAAWG,KAAM,CAC/B,IAAIE,EAAML,EAAWG,KAAK/C,GACtBoc,EAAKmD,EAAStc,EAAIjD,OACH,uBAAfoc,EAAGtrC,UACCmyB,EAAI0W,SACJuF,EAAmBjc,EAAI0W,SAAW,GAC7ByF,EAAanc,EAAI0W,WAClByF,EAAanc,EAAI0W,SAAW1W,IAIhCkc,EAAiBnf,GAAS,IAItC,IAAK,IAAIG,KAAcyC,EAAWzc,UAAW,CACzC,IAAIiB,EAAWwb,EAAWzc,UAAUga,GAGhCsf,GAFAxc,EAAML,EAAWG,KAAK3b,EAAS4Y,OAC/Boc,EAAKmD,EAAStc,EAAIjD,OACN5Y,EAASrD,OACrB27B,GAAgBzc,EAAIV,QAAUwK,EAC9BoQ,GAAuBsC,EAAW1S,GAClC0S,EACAE,EAAcpB,GAAgBmB,EAAa7c,GAC3C8c,IACmB,uBAAfvD,EAAGtrC,QACCmyB,EAAI0W,QACJuF,EAAmBjc,EAAI0W,SAASvmC,KAAKusC,GAGrCR,EAAiB/3B,EAAS4Y,OAAO5sB,KAAKusC,GAGtB,SAAfvD,EAAGtrC,UACQ,eAAfsrC,EAAGtrC,QAA2BuuC,EAAWC,GAAUlsC,KAAK,CACrD6vB,IAAKA,EACLmZ,GAAIA,EACJh1B,SAAUA,EACVrD,MAAO47B,EACPC,QAASF,EAAYnc,OAASmc,EAAYnc,MAAMhG,YAAcoiB,EAAYpc,MAAMhG,UAChFsiB,MAAOH,EAAYlc,KAAOkc,EAAYlc,IAAIjG,YAAcoiB,EAAYnc,IAAIjG,aAKxF,IAAK,IAAIoc,KAAWuF,EAGhB,IAFA,IAAIlB,EAASkB,EAAmBvF,GAC5BwE,EAAiBJ,GAAaC,EAAQnb,GACjC3B,EAAK,EAAG4e,EAAmB3B,EAAgBjd,EAAK4e,EAAiB/hD,OAAQmjC,IAAM,CACpF,IAAI6e,EAAgBD,EAAiB5e,GACjC+B,EAAMmc,EAAazF,GACnByC,EAAKmD,EAAStc,EAAIjD,OACtBqf,EAASjsC,KAAK,CACV6vB,IAAKA,EACLmZ,GAAIA,EACJh1B,SAAU,KACVrD,MAAOg8B,EACPH,SAAS,EACTC,OAAO,IAInB,IAAK,IAAI7f,KAASmf,EACd,CAAInB,EAASmB,EAAiBnf,GAC1Bme,EAAiBJ,GAAaC,EAAQnb,GAC1C,IAFA,IAEShmB,EAAK,EAAGmjC,EAAmB7B,EAAgBthC,EAAKmjC,EAAiBjiD,OAAQ8e,IAAM,CAChFkjC,EAAgBC,EAAiBnjC,GACrCwiC,EAASjsC,KAAK,CACV6vB,IAAKL,EAAWG,KAAK/C,GACrBoc,GAAImD,EAASvf,GACb5Y,SAAU,KACVrD,MAAOg8B,EACPH,SAAS,EACTC,OAAO,KAInB,MAAO,CAAEI,GAAIZ,EAAUa,GAAIZ,GAE/B,SAASa,GAAeld,GACpB,MAA0B,eAAnBA,EAAImZ,GAAGtrC,SAA+C,uBAAnBmyB,EAAImZ,GAAGtrC,QAErD,SAASsvC,GAASntC,EAAIotC,GAClBptC,EAAGqtC,MAAQD,EAEf,SAASE,GAASttC,GACd,OAAOA,EAAGqtC,OACNrtC,EAAGzM,WAAW85C,OACd,KAGR,SAASd,GAAgBgB,EAAWvB,GAChC,OAAOle,GAAQyf,GAAW,SAAU/c,GAAY,OAAOgd,GAAehd,EAAUwb,MAEpF,SAASwB,GAAehd,EAAUwb,GAC9B,IAAI5D,EAAM,GAQV,OAPI4D,EAAa,KACb5D,EAAIjoC,KAAK6rC,EAAa,KAEtBA,EAAaxb,EAASzD,QACtBqb,EAAIjoC,KAAK6rC,EAAaxb,EAASzD,QAEnCqb,EAAIjoC,KAAKqwB,EAAS2Y,IACXhB,GAAgBC,GAE3B,SAASqF,GAAcC,EAAMC,GACzB,IAAIC,EAAOF,EAAKniD,IAAIsiD,IAEpB,OADAD,EAAKl9B,MAAK,SAAUiY,EAAMC,GAAQ,OAAOF,GAAoBC,EAAMC,EAAM+kB,MAClEC,EAAKriD,KAAI,SAAUkN,GAAK,OAAOA,EAAEq1C,QAG5C,SAASD,GAAmBT,GACxB,IAAIW,EAAaX,EAAIW,WACjBvd,EAAWud,EAAW/d,IACtBlf,EAAQi9B,EAAW55B,SAAW45B,EAAW55B,SAASrD,MAAQi9B,EAAWj9B,MACrEwf,EAAQxf,EAAMwf,MAAQxf,EAAMwf,MAAMhG,UAAY,EAC9CiG,EAAMzf,EAAMyf,IAAMzf,EAAMyf,IAAIjG,UAAY,EAC5C,OAAOjN,EAASA,EAASA,EAAS,GAAImT,EAASmY,eAAgBnY,GAAW,CAAE/Y,GAAI+Y,EAASpL,SAAUkL,MAAOA,EACtGC,IAAKA,EAAK11B,SAAU01B,EAAMD,EAAOhB,OAAQiM,OAAO/K,EAASlB,QAASwe,KAAMV,IAEhF,SAASY,GAAoBZ,EAAKv3B,GAK9B,IAJA,IAAIga,EAAcha,EAAQga,YACtBoe,EAAepe,EAAYqe,wBAC3BtkC,EAAKwjC,EAAIW,WAAY/d,EAAMpmB,EAAGomB,IAAKmZ,EAAKv/B,EAAGu/B,GAC3CnvC,EAAMmvC,EAAG7B,cACJrZ,EAAK,EAAGkgB,EAAiBF,EAAchgB,EAAKkgB,EAAerjD,OAAQmjC,IAAM,CAC9E,IAAImgB,EAAcD,EAAelgB,GACjCj0B,EAAMo0C,EAAYp0C,EAAKg2B,EAAKmZ,EAAItzB,GAEpC,OAAO7b,EAEX,SAASq0C,GAAyBjB,EAAKv3B,GACnC,OAAOu3B,EAAIT,SAAWS,EAAIW,WAAW5E,GAAG5B,kBAAoB1xB,EAAQ7rB,QAAQ4zC,wBAEhF,SAAS0Q,GAAuBlB,EAAKv3B,GACjC,OAAOu3B,EAAIR,OAASQ,EAAIW,WAAW5E,GAAG5B,iBAE1C,SAASgH,GAAiBnB,EAAKoB,EAAY34B,EAAS44B,EACpDC,EACAC,EAAeC,GACX,IAAIxf,EAAUvZ,EAAQuZ,QAASplC,EAAU6rB,EAAQ7rB,QAC7C6zC,EAAmB7zC,EAAQ6zC,iBAAkBC,EAAkB9zC,EAAQ8zC,gBACvEtN,EAAW4c,EAAIW,WAAW/d,IAC1B6e,EAAgBzB,EAAIW,WAAW55B,SACX,MAApB0pB,IACAA,GAA+C,IAA5B4Q,GAEA,MAAnB3Q,IACAA,GAA6C,IAA3B4Q,GAEtB,IAAII,EAAkBD,EAAc/9B,MAAMwf,MACtCye,EAAgBF,EAAc/9B,MAAMyf,IACpCye,EAAWL,GAAiBvB,EAAI9c,OAAS8c,EAAIW,WAAWj9B,MAAMwf,MAC9D2e,EAASL,GAAexB,EAAI7c,KAAO6c,EAAIW,WAAWj9B,MAAMyf,IACxD2e,EAAatkB,GAAWkkB,GAAiBxkB,YAAcM,GAAWokB,GAAU1kB,UAC5E6kB,EAAWvkB,GAAWX,GAAM8kB,GAAgB,IAAIzkB,YAAcM,GAAWX,GAAMglB,GAAS,IAAI3kB,UAChG,OAAIuT,IAAqBrN,EAASlB,SAAW4f,GAAcC,IACvDH,EAAWE,EAAaJ,EAAkBE,EAC1CC,EAASE,EAAWJ,EAAgBE,EAChCnR,GAAmBtN,EAAS0Y,OACrB9Z,EAAQgG,YAAY4Z,EAAUC,EAAQT,EAAY,CACrDxhB,eAAgB2hB,EAAgB,KAAOE,EAAc7hB,eACrDC,aAAc2hB,EAAc,KAAOC,EAAc5hB,eAGlDmC,EAAQj2B,OAAO61C,EAAUR,EAAY,CACxC1E,UAAW6E,EAAgB,KAAOE,EAAc7hB,kBAGjD,GAEX,SAASoiB,GAAWhC,EAAKiC,EAAYC,GACjC,IAAIC,EAAWnC,EAAIW,WAAWj9B,MAC9B,MAAO,CACH0+B,OAAQD,EAAShf,KAAO+e,GAAWD,EAAW/e,OAC9Cmf,SAAUF,EAASjf,QAAUgf,GAAWD,EAAW9e,KACnDmf,QAASL,GAAcxD,GAAoBwD,EAAYE,EAASjf,QAGxE,SAASqf,GAAmB9lD,GACxB,IAAIg7C,EAAa,CAAC,YAkClB,OAjCIh7C,EAAM+lD,UACN/K,EAAW1kC,KAAK,mBAEhBtW,EAAMgmD,aACNhL,EAAW1kC,KAAK,uBAEhBtW,EAAMimD,kBAAoBjmD,EAAMkmD,iBAChClL,EAAW1kC,KAAK,sBAEhBtW,EAAMmmD,YACNnL,EAAW1kC,KAAK,qBAEhBtW,EAAMomD,YACNpL,EAAW1kC,KAAK,qBAEhBtW,EAAMqmD,YACNrL,EAAW1kC,KAAK,qBAEhBtW,EAAM8iD,SACN9H,EAAW1kC,KAAK,kBAEhBtW,EAAM+iD,OACN/H,EAAW1kC,KAAK,gBAEhBtW,EAAM2lD,QACN3K,EAAW1kC,KAAK,iBAEhBtW,EAAM6lD,SACN7K,EAAW1kC,KAAK,kBAEhBtW,EAAM4lD,UACN5K,EAAW1kC,KAAK,mBAEb0kC,EAEX,SAASsL,GAAmBpC,GACxB,OAAOA,EAAW55B,SACZ45B,EAAW55B,SAAS+Y,WACpB6gB,EAAW/d,IAAIjD,MAAQ,IAAMghB,EAAWj9B,MAAMwf,MAAM14B,cAI9D,IAAIw4C,GAAiB,CACjB9f,MAAOmJ,GACPlJ,IAAKkJ,GACLnK,OAAQjkC,SAEZ,SAASglD,GAAchL,EAAKjW,EAASkhB,GACjC,IAAIC,EAAOC,GAAkBnL,EAAKjW,GAC9Bte,EAAQy/B,EAAKz/B,MACjB,IAAKA,EAAMwf,MACP,OAAO,KAEX,IAAKxf,EAAMyf,IAAK,CACZ,GAAuB,MAAnB+f,EACA,OAAO,KAEXx/B,EAAMyf,IAAMnB,EAAQ38B,IAAIqe,EAAMwf,MAAOggB,GAEzC,OAAOC,EAMX,SAASC,GAAkBnL,EAAKjW,GAC5B,IAAIxlB,EAAKs7B,GAAYG,EAAK+K,IAAiBK,EAAgB7mC,EAAGslB,QAASkW,EAAQx7B,EAAGw7B,MAC9EmE,EAAYkH,EAAcngB,MAAQlB,EAAQwa,iBAAiB6G,EAAcngB,OAAS,KAClFkZ,EAAUiH,EAAclgB,IAAMnB,EAAQwa,iBAAiB6G,EAAclgB,KAAO,KAC5EjB,EAASmhB,EAAcnhB,OAK3B,OAJc,MAAVA,IACAA,EAAUia,GAAaA,EAAUM,qBAC3BL,GAAWA,EAAQK,oBAEtBxsB,EAAS,CAAEvM,MAAO,CACjBwf,MAAOiZ,EAAYA,EAAU1d,OAAS,KACtC0E,IAAKiZ,EAAUA,EAAQ3d,OAAS,MACjCyD,OAAQA,GAAU8V,GAE7B,SAASsL,GAAiBC,EAAOC,GAC7B,OAAOpF,GAAYmF,EAAM7/B,MAAO8/B,EAAM9/B,QAClC6/B,EAAMrhB,SAAWshB,EAAMthB,QACvBuhB,GAAiBF,EAAOC,GAGhC,SAASC,GAAiBF,EAAOC,GAC7B,IAAK,IAAItqB,KAAYsqB,EACjB,GAAiB,UAAbtqB,GAAqC,WAAbA,GACpBqqB,EAAMrqB,KAAcsqB,EAAMtqB,GAC1B,OAAO,EAMnB,IAAK,IAAIA,KAAYqqB,EACjB,KAAMrqB,KAAYsqB,GACd,OAAO,EAGf,OAAO,EAEX,SAASE,GAAiBP,EAAMnhB,GAC5B,OAAO/R,EAASA,EAAS,GAAI0zB,GAAcR,EAAKz/B,MAAOse,EAASmhB,EAAKjhB,SAAU,CAAEA,OAAQihB,EAAKjhB,SAElG,SAAS0hB,GAA0BlgC,EAAOse,EAAS6hB,GAC/C,OAAO5zB,EAASA,EAAS,GAAI0zB,GAAcjgC,EAAOse,EAAS6hB,IAAY,CAAEpa,SAAUzH,EAAQyH,WAE/F,SAASka,GAAcjgC,EAAOse,EAAS6hB,GACnC,MAAO,CACH3gB,MAAOlB,EAAQ8hB,OAAOpgC,EAAMwf,OAC5BC,IAAKnB,EAAQ8hB,OAAOpgC,EAAMyf,KAC1B4gB,SAAU/hB,EAAQgiB,UAAUtgC,EAAMwf,MAAO,CAAE2gB,SAAUA,IACrDI,OAAQjiB,EAAQgiB,UAAUtgC,EAAMyf,IAAK,CAAE0gB,SAAUA,KAGzD,SAASK,GAAoBC,EAAUvF,EAAcn2B,GACjD,IAAImZ,EAAM4Z,GAAe,CAAE9M,UAAU,GAASjmB,GAC1Cma,EAAM+Y,GAAc/Z,EAAIE,QAASF,EAAIoW,MAAO,GAChDmM,EAASjiB,QAAQ,EACjBzZ,GACA,MAAO,CACHma,IAAKA,EACLmZ,GAAIqE,GAAexd,EAAKgc,GACxB73B,SAAU2Y,GAAoBkD,EAAIjD,MAAOwkB,EAASzgC,OAClDA,MAAOygC,EAASzgC,MAChB67B,SAAS,EACTC,OAAO,GAIf,SAAS4E,GAAkBC,EAAWC,EAAK77B,GACvCA,EAAQ87B,QAAQC,QAAQ,SAAUv0B,EAASA,EAAS,GAAIw0B,GAA4BJ,EAAW57B,IAAW,CAAEi8B,QAASJ,EAAMA,EAAIK,UAAY,KAAMC,KAAMn8B,EAAQo8B,SAAWp8B,EAAQq8B,YAAYF,QAElM,SAASG,GAAoBT,EAAK77B,GAC9BA,EAAQ87B,QAAQC,QAAQ,WAAY,CAChCE,QAASJ,EAAMA,EAAIK,UAAY,KAC/BC,KAAMn8B,EAAQo8B,SAAWp8B,EAAQq8B,YAAYF,OAGrD,SAASH,GAA4BN,EAAU17B,GAE3C,IADA,IAAIhsB,EAAQ,GACHokC,EAAK,EAAGrkB,EAAKiM,EAAQga,YAAYuiB,mBAAoBnkB,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAChF,IAAIokB,EAAYzoC,EAAGqkB,GACnB5Q,EAASxzB,EAAOwoD,EAAUd,EAAU17B,IAGxC,OADAwH,EAASxzB,EAAOinD,GAAiBS,EAAU17B,EAAQuZ,UAC5CvlC,EAIX,SAASyoD,GAAmBhjB,EAAQzD,EAAQhW,GACxC,IAAIuZ,EAAUvZ,EAAQuZ,QAASplC,EAAU6rB,EAAQ7rB,QAC7CumC,EAAM1E,EAQV,OAPIyD,GACAiB,EAAM3F,GAAW2F,GACjBA,EAAMnB,EAAQ38B,IAAI89B,EAAKvmC,EAAQimC,6BAG/BM,EAAMnB,EAAQ38B,IAAI89B,EAAKvmC,EAAQkmC,2BAE5BK,EAIX,SAASgiB,GAA0B5iB,EAAY6iB,EAAiBC,EAAU58B,GACtE,IAAI68B,EAAenG,GAAgB5c,EAAWG,KAAM0iB,GAChDllB,EAAOoY,KACX,IAAK,IAAI3Y,KAAS4C,EAAWG,KAAM,CAC/B,IAAIE,EAAML,EAAWG,KAAK/C,GAC1BO,EAAKwC,KAAK/C,GAAS4lB,GAAwB3iB,EAAK0iB,EAAa3lB,GAAQ0lB,EAAU58B,GAEnF,IAAK,IAAIqX,KAAcyC,EAAWzc,UAAW,CACzC,IAAIiB,EAAWwb,EAAWzc,UAAUga,GAChC8C,EAAM1C,EAAKwC,KAAK3b,EAAS4Y,OAC7BO,EAAKpa,UAAUga,GAAc0lB,GAA6Bz+B,EAAU6b,EAAK0iB,EAAav+B,EAAS4Y,OAAQ0lB,EAAU58B,GAErH,OAAOyX,EAEX,SAASqlB,GAAwBniB,EAAUqiB,EAAaJ,EAAU58B,GAC9D,IAAI46B,EAAgBgC,EAAShC,eAAiB,GAIlB,MAAxBA,EAAcvH,QACd2J,EAAYtL,mBACXkL,EAASK,YAAcL,EAASM,YACjCtC,EAAcvH,QAAS,GAE3B,IAAI8J,EAAO31B,EAASA,EAASA,EAAS,GAAImT,GAAWigB,GAAgB,CAAEtH,GAAI9rB,EAASA,EAAS,GAAImT,EAAS2Y,IAAKsH,EAActH,MACzHsJ,EAAS9J,gBACTqK,EAAKrK,cAAgBtrB,EAASA,EAAS,GAAI21B,EAAKrK,eAAgB8J,EAAS9J,gBAE7E,IAAK,IAAI1a,EAAK,EAAGrkB,EAAKiM,EAAQga,YAAYojB,yBAA0BhlB,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CACtF,IAAIilB,EAAUtpC,EAAGqkB,GACjBilB,EAAQF,EAAMP,EAAU58B,GAK5B,OAHKm9B,EAAK9J,QAAUrzB,EAAQ7rB,QAAQ0wC,qBAChCsY,EAAK9J,QAAS,GAEX8J,EAEX,SAASJ,GAA6B/D,EAAere,EACrDqiB,EAAaJ,EAAU58B,GACnB,IAAIuZ,EAAUvZ,EAAQuZ,QAClB+jB,EAAcV,EAAShC,gBAAmD,IAAlCgC,EAAShC,cAAcnhB,OAC/D8jB,EAAWX,EAAShC,gBAAmD,IAAlCgC,EAAShC,cAAcvH,OAC5D8J,EAAO31B,EAAS,GAAIwxB,GAwCxB,OAvCIsE,IACAH,EAAKliC,MAAQi5B,GAAuBiJ,EAAKliC,QAEzC2hC,EAASY,YAAcR,EAAYvL,gBACnC0L,EAAKliC,MAAQ,CACTwf,MAAOlB,EAAQ38B,IAAIugD,EAAKliC,MAAMwf,MAAOmiB,EAASY,YAC9C9iB,IAAKnB,EAAQ38B,IAAIugD,EAAKliC,MAAMyf,IAAKkiB,EAASY,cAG9CZ,EAASK,YAAcD,EAAYtL,mBACnCyL,EAAKliC,MAAQ,CACTwf,MAAOlB,EAAQ38B,IAAIugD,EAAKliC,MAAMwf,MAAOmiB,EAASK,YAC9CviB,IAAKyiB,EAAKliC,MAAMyf,MAGpBkiB,EAASM,UAAYF,EAAYtL,mBACjCyL,EAAKliC,MAAQ,CACTwf,MAAO0iB,EAAKliC,MAAMwf,MAClBC,IAAKnB,EAAQ38B,IAAIugD,EAAKliC,MAAMyf,IAAKkiB,EAASM,YAG9CK,IACAJ,EAAKliC,MAAQ,CACTwf,MAAO0iB,EAAKliC,MAAMwf,MAClBC,IAAK+hB,GAAmB9hB,EAASlB,OAAQ0jB,EAAKliC,MAAMwf,MAAOza,KAK/D2a,EAASlB,SACT0jB,EAAKliC,MAAQ,CACTwf,MAAO1F,GAAWooB,EAAKliC,MAAMwf,OAC7BC,IAAK3F,GAAWooB,EAAKliC,MAAMyf,OAI/ByiB,EAAKliC,MAAMyf,IAAMyiB,EAAKliC,MAAMwf,QAC5B0iB,EAAKliC,MAAMyf,IAAM+hB,GAAmB9hB,EAASlB,OAAQ0jB,EAAKliC,MAAMwf,MAAOza,IAEpEm9B,EAKX,IAAIM,GAAyB,WACzB,SAASA,EAAQv/C,EAAMw/C,EAAgBnkB,GACnC7kC,KAAKwJ,KAAOA,EACZxJ,KAAKgpD,eAAiBA,EACtBhpD,KAAK6kC,QAAUA,EA+CnB,OA7CAvzB,OAAOwL,eAAeisC,EAAQ/yC,UAAW,WAAY,CACjD+G,IAAK,WACD,OAAO/c,KAAKgpD,iBAAiBrB,aAEjC39B,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeisC,EAAQ/yC,UAAW,QAAS,CAC9C+G,IAAK,WACD,OAAO/c,KAAKgpD,iBAAiBC,WAEjCj/B,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeisC,EAAQ/yC,UAAW,cAAe,CACpD+G,IAAK,WACD,OAAO/c,KAAK6kC,QAAQ8hB,OAAO3mD,KAAKgpD,iBAAiBE,YAAYC,YAAYpjB,QAE7E/b,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeisC,EAAQ/yC,UAAW,YAAa,CAClD+G,IAAK,WACD,OAAO/c,KAAK6kC,QAAQ8hB,OAAO3mD,KAAKgpD,iBAAiBE,YAAYC,YAAYnjB,MAE7Ehc,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeisC,EAAQ/yC,UAAW,eAAgB,CACrD+G,IAAK,WACD,OAAO/c,KAAK6kC,QAAQ8hB,OAAO3mD,KAAKgpD,iBAAiBE,YAAYE,aAAarjB,QAE9E/b,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeisC,EAAQ/yC,UAAW,aAAc,CACnD+G,IAAK,WACD,OAAO/c,KAAK6kC,QAAQ8hB,OAAO3mD,KAAKgpD,iBAAiBE,YAAYE,aAAapjB,MAE9Ehc,YAAY,EACZC,cAAc,IAElB8+B,EAAQ/yC,UAAUqzC,UAAY,SAAUnoD,GACpC,OAAOlB,KAAKgpD,iBAAiBvpD,QAAQyB,IAElC6nD,EAnDiB,GAsDxBO,GAAwB,CACxBp8B,GAAIvsB,OACJikC,cAAe9jC,QACfi6B,IAAKp6B,OACLiO,OAAQjO,OACRk5C,OAAQ3K,GACRwE,mBAAoBxE,GAEpBqa,QAASra,GACTsa,QAASta,IAEb,SAASua,GAAiB3O,EAAKxvB,EAASsvB,GAEpC,IAAI8O,EAUJ,QAXiB,IAAb9O,IAAuBA,EAAW+O,GAAyBr+B,IAE5C,kBAARwvB,EACP4O,EAAS,CAAE3uB,IAAK+f,GAEI,oBAARA,GAAsBjzC,MAAM0sB,QAAQumB,GAChD4O,EAAS,CAAE7P,OAAQiB,GAEC,kBAARA,GAAoBA,IAChC4O,EAAS5O,GAET4O,EAAQ,CACR,IAAIrqC,EAAKs7B,GAAY+O,EAAQ9O,GAAWjW,EAAUtlB,EAAGslB,QAASkW,EAAQx7B,EAAGw7B,MACrE+O,EAAUC,GAAqBllB,EAASrZ,GAC5C,GAAIs+B,EACA,MAAO,CACHE,KAAMhP,EACNiP,YAAY,EACZC,cAAe,GACfC,WAAY,KACZrlB,cAAeD,EAAQC,cACvB8O,mBAAoB/O,EAAQ+O,mBAC5B6V,QAAS5kB,EAAQ4kB,QACjBC,QAAS7kB,EAAQ6kB,QACjB3uB,SAAU8J,EAAQzX,IAAM,GACxBuN,SAAU6C,KACV4sB,YAAaN,EAAQM,YACrBpvB,KAAM8uB,EAAQ9uB,KACd8jB,GAAIjB,GAAchZ,EAASrZ,GAC3B8yB,cAAevD,GAI3B,OAAO,KAEX,SAAS8O,GAAyBr+B,GAC9B,OAAOwH,EAASA,EAASA,EAAS,GAAIgqB,IAAoBwM,IAAwBh+B,EAAQga,YAAY6kB,qBAE1G,SAASN,GAAqB/O,EAAKxvB,GAE/B,IADA,IAAIia,EAAOja,EAAQga,YAAY8kB,gBACtB59C,EAAI+4B,EAAKhlC,OAAS,EAAGiM,GAAK,EAAGA,GAAK,EAAG,CAC1C,IAAIi5B,EAAMF,EAAK/4B,GACXsuB,EAAO2K,EAAI4kB,UAAUvP,GACzB,GAAIhgB,EACA,MAAO,CAAEovB,YAAa19C,EAAGsuB,KAAMA,GAGvC,OAAO,KAGX,SAASwvB,GAAkBC,EAAaC,GACpC,OAAQA,EAAOhhD,MACX,IAAK,cACD,OAAOghD,EAAOC,WAClB,QACI,OAAOF,GAGnB,SAASG,GAAejrD,EAASolC,GAC7B,IAAI8lB,EAAmBlrD,EAAQshB,YAE/B,OAAwB,MAApB4pC,EACO9lB,EAAQyb,aAAaqK,GAEzBC,GAAOnrD,EAAQ6E,IAAKugC,GAE/B,SAAS+lB,GAAOC,EAAUhmB,GAItB,MAHwB,oBAAbgmB,IACPA,EAAWA,KAEC,MAAZA,EACOhmB,EAAQimB,kBAEZjmB,EAAQyb,aAAauK,GAGhC,IAAI,GAA6B,WAC7B,SAASE,KAuYT,OArYAA,EAAY/0C,UAAUgzC,eAAiB,WACnC,OAAOhpD,KAAKgrD,mBAAmBhC,kBAEnC+B,EAAY/0C,UAAUwkB,SAAW,SAAUgwB,GACvC,OAAOxqD,KAAKgrD,mBAAmBxwB,SAASgwB,IAE5Cl5C,OAAOwL,eAAeiuC,EAAY/0C,UAAW,OAAQ,CACjD+G,IAAK,WAAc,OAAO/c,KAAKgpD,iBAAiBtB,SAEhD19B,YAAY,EACZC,cAAc,IAElB8gC,EAAY/0C,UAAUi1C,eAAiB,SAAUxgC,GAC7CA,KAEJsgC,EAAY/0C,UAAUk1C,WAAa,WAC/BlrD,KAAKqnD,QAAQ,WAAW,IAI5B0D,EAAY/0C,UAAUm1C,UAAY,SAAUjqD,EAAMuO,GAC9CzP,KAAKw6B,SAAS,CACVhxB,KAAM,aACN4hD,WAAYlqD,EACZmqD,eAAgB57C,KAGxBs7C,EAAY/0C,UAAUqzC,UAAY,SAAUnoD,GACxC,OAAOlB,KAAKgrD,mBAAmBM,4BAA4BpqD,IAE/D6pD,EAAY/0C,UAAUu1C,wBAA0B,WAC5C,OAAOj6C,OAAOkY,KAAKxpB,KAAKgpD,iBAAiBwC,sBAI7CT,EAAY/0C,UAAUwa,GAAK,SAAUi7B,EAAal2C,GAC9C,IAAIy1C,EAAqBhrD,KAAKgrD,mBAC1BA,EAAmBU,+BAA+BD,GAClDT,EAAmB5D,QAAQ52B,GAAGi7B,EAAal2C,GAG3CzS,QAAQC,KAAK,0BAA4B0oD,EAAc,MAG/DV,EAAY/0C,UAAU21C,IAAM,SAAUF,EAAal2C,GAC/CvV,KAAKgrD,mBAAmB5D,QAAQuE,IAAIF,EAAal2C,IAGrDw1C,EAAY/0C,UAAUqxC,QAAU,SAAUoE,GAGtC,IAFA,IAAIpsC,EACAgK,EAAO,GACFqa,EAAK,EAAGA,EAAKpjC,UAAUC,OAAQmjC,IACpCra,EAAKqa,EAAK,GAAKpjC,UAAUojC,IAE5BrkB,EAAKrf,KAAKgrD,mBAAmB5D,SAASC,QAAQ3/C,MAAM2X,EAAI0T,EAAc,CAAC04B,GAAcpiC,KAI1F0hC,EAAY/0C,UAAU41C,WAAa,SAAUC,EAAUC,GACnD,IAAI/qD,EAAQf,KACZA,KAAKirD,gBAAe,WAEhB,GADAlqD,EAAMi4C,WACF8S,EACA,GAAIA,EAAY/lB,OAAS+lB,EAAY9lB,IACjCjlC,EAAMy5B,SAAS,CACXhxB,KAAM,mBACNqiD,SAAUA,IAEd9qD,EAAMy5B,SAAS,CACXhxB,KAAM,aACN4hD,WAAY,eACZC,eAAgBS,QAGnB,CACD,IAAIjnB,EAAU9jC,EAAMioD,iBAAiBnkB,QACrC9jC,EAAMy5B,SAAS,CACXhxB,KAAM,mBACNqiD,SAAUA,EACVpB,WAAY5lB,EAAQyb,aAAawL,UAKzC/qD,EAAMy5B,SAAS,CACXhxB,KAAM,mBACNqiD,SAAUA,QAQ1Bd,EAAY/0C,UAAU+1C,OAAS,SAAUtB,EAAYoB,GACjD,IACIG,EADA52B,EAAQp1B,KAAKgpD,iBAEjB6C,EAAWA,GAAY,MACvBG,EAAO52B,EAAM62B,UAAUJ,IAAa7rD,KAAKksD,gBAAgBL,GACzD7rD,KAAKg5C,WACDgT,EACAhsD,KAAKw6B,SAAS,CACVhxB,KAAM,mBACNqiD,SAAUG,EAAKxiD,KACfihD,WAAYA,IAIhBzqD,KAAKw6B,SAAS,CACVhxB,KAAM,cACNihD,WAAYA,KAMxBM,EAAY/0C,UAAUk2C,gBAAkB,SAAUzlB,GAC9C,IAEIj6B,EACAw/C,EAHA3sC,EAAKrf,KAAKgpD,iBAAkBiD,EAAY5sC,EAAG4sC,UAAWE,EAAgB9sC,EAAG8sC,cACzEC,EAAY,GAAG9rC,OAAO6rC,EAAcE,kBAGxC,IAAK,IAAIR,KAAYI,EACjBG,EAAUx2C,KAAKi2C,GAEnB,IAAKr/C,EAAI,EAAGA,EAAI4/C,EAAU7rD,OAAQiM,GAAK,EAEnC,GADAw/C,EAAOC,EAAUG,EAAU5/C,IACvBw/C,GACIA,EAAKM,aAAe7lB,EACpB,OAAOulB,EAInB,OAAO,MAIXjB,EAAY/0C,UAAUu2C,KAAO,WACzBvsD,KAAKg5C,WACLh5C,KAAKw6B,SAAS,CAAEhxB,KAAM,UAE1BuhD,EAAY/0C,UAAUw2C,KAAO,WACzBxsD,KAAKg5C,WACLh5C,KAAKw6B,SAAS,CAAEhxB,KAAM,UAE1BuhD,EAAY/0C,UAAUy2C,SAAW,WAC7B,IAAIr3B,EAAQp1B,KAAKgpD,iBACjBhpD,KAAKg5C,WACLh5C,KAAKw6B,SAAS,CACVhxB,KAAM,cACNihD,WAAYr1B,EAAMyP,QAAQ6nB,SAASt3B,EAAMm1B,aAAc,MAG/DQ,EAAY/0C,UAAU22C,SAAW,WAC7B,IAAIv3B,EAAQp1B,KAAKgpD,iBACjBhpD,KAAKg5C,WACLh5C,KAAKw6B,SAAS,CACVhxB,KAAM,cACNihD,WAAYr1B,EAAMyP,QAAQ6nB,SAASt3B,EAAMm1B,YAAa,MAG9DQ,EAAY/0C,UAAU42C,MAAQ,WAC1B,IAAIx3B,EAAQp1B,KAAKgpD,iBACjBhpD,KAAKg5C,WACLh5C,KAAKw6B,SAAS,CACVhxB,KAAM,cACNihD,WAAYG,GAAOx1B,EAAMxD,gBAAgBttB,IAAK8wB,EAAMyP,YAG5DkmB,EAAY/0C,UAAU62C,SAAW,SAAUC,GACvC,IAAI13B,EAAQp1B,KAAKgpD,iBACjBhpD,KAAKg5C,WACLh5C,KAAKw6B,SAAS,CACVhxB,KAAM,cACNihD,WAAYr1B,EAAMyP,QAAQyb,aAAawM,MAG/C/B,EAAY/0C,UAAU+2C,cAAgB,SAAUC,GAC5C,IAAI53B,EAAQp1B,KAAKgpD,iBACb5zC,EAAQoxB,GAAewmB,GACvB53C,IACApV,KAAKg5C,WACLh5C,KAAKw6B,SAAS,CACVhxB,KAAM,cACNihD,WAAYr1B,EAAMyP,QAAQ38B,IAAIktB,EAAMm1B,YAAan1C,OAK7D21C,EAAY/0C,UAAUzS,QAAU,WAC5B,IAAI6xB,EAAQp1B,KAAKgpD,iBACjB,OAAO5zB,EAAMyP,QAAQ8hB,OAAOvxB,EAAMm1B,cAItCQ,EAAY/0C,UAAUhI,WAAa,SAAU1B,EAAG2gD,GAC5C,IAAIpoB,EAAU7kC,KAAKgpD,iBAAiBnkB,QACpC,OAAOA,EAAQj2B,OAAOi2B,EAAQyb,aAAah0C,GAAIyiC,GAAgBke,KAGnElC,EAAY/0C,UAAU60B,YAAc,SAAUxD,EAAIC,EAAI4lB,GAClD,IAAIroB,EAAU7kC,KAAKgpD,iBAAiBnkB,QACpC,OAAOA,EAAQgG,YAAYhG,EAAQyb,aAAajZ,GAAKxC,EAAQyb,aAAahZ,GAAKyH,GAAgBme,GAAWA,IAE9GnC,EAAY/0C,UAAU6wC,UAAY,SAAUv6C,EAAGo6C,GAC3C,IAAI7hB,EAAU7kC,KAAKgpD,iBAAiBnkB,QACpC,OAAOA,EAAQgiB,UAAUhiB,EAAQyb,aAAah0C,GAAI,CAAEo6C,SAAUA,KAMlEqE,EAAY/0C,UAAUiB,OAAS,SAAUk2C,EAAWC,GAChD,IAAIC,EAGIA,EAFO,MAAXD,EACuB,MAAnBD,EAAUpnB,MACOonB,EAGA,CACbpnB,MAAOonB,EACPnnB,IAAK,MAKI,CACbD,MAAOonB,EACPnnB,IAAKonB,GAGb,IAAIh4B,EAAQp1B,KAAKgpD,iBACb9B,EAAYpB,GAAcuH,EAAgBj4B,EAAMyP,QAAS2B,GAAe,CAAE/yB,KAAM,KAChFyzC,IACAlnD,KAAKw6B,SAAS,CAAEhxB,KAAM,eAAgB09C,UAAWA,IACjDD,GAAkBC,EAAW,KAAM9xB,KAI3C21B,EAAY/0C,UAAUgjC,SAAW,SAAUmO,GACvC,IAAI/xB,EAAQp1B,KAAKgpD,iBACb5zB,EAAMk4B,gBACNttD,KAAKw6B,SAAS,CAAEhxB,KAAM,mBACtBo+C,GAAoBT,EAAK/xB,KAKjC21B,EAAY/0C,UAAU+b,SAAW,SAAUw7B,EAAYC,GACnD,GAAID,aAAsB,GAAU,CAChC,IAAI9nB,EAAM8nB,EAAWE,KACjB7jC,EAAW2jC,EAAWG,UACtBC,EAAc3tD,KAAKgpD,iBASvB,OAPK2E,EAAYvoB,WAAWG,KAAKE,EAAIjD,SACjCxiC,KAAKw6B,SAAS,CACVhxB,KAAM,aACN47B,WAAYsW,GAAkB,CAAEjW,IAAKA,EAAK7b,SAAUA,MAExD5pB,KAAK4tD,gBAAgBL,IAElBA,EAEX,IACItS,EADA7lB,EAAQp1B,KAAKgpD,iBAEjB,GAAIwE,aAAuBlzB,GACvB2gB,EAAcuS,EAAYjzB,yBAEzB,GAA2B,mBAAhBizB,EACRA,IACAvS,EAAcpX,GAAkBzO,EAAM0kB,cAAc,SAGvD,GAAmB,MAAf0T,EAAqB,CAC1B,IAAIK,EAAY7tD,KAAK8tD,mBAAmBN,GACxC,IAAKK,EAED,OADA/qD,QAAQC,KAAK,2CAA8CyqD,EAAc,KAClE,KAEXvS,EAAc4S,EAAUtzB,oBAE5B,IAAIihB,EAAQC,GAAW8R,EAAYtS,EAAa7lB,GAAO,GACvD,GAAIomB,EAAO,CACP,IAAIuS,EAAc,IAAI,GAAS34B,EAAOomB,EAAM/V,IAAK+V,EAAM/V,IAAID,aAAe,KAAOgW,EAAM5xB,UAMvF,OALA5pB,KAAKw6B,SAAS,CACVhxB,KAAM,aACN47B,WAAYsW,GAAkBF,KAElCx7C,KAAK4tD,gBAAgBG,GACdA,EAEX,OAAO,MAEXhD,EAAY/0C,UAAU43C,gBAAkB,SAAUI,GAC9C,IAAIjtD,EAAQf,KACRonD,EAAUpnD,KAAKgpD,iBAAiB5B,QACpCA,EAAQC,QAAQ,WAAY,CACxBx9C,MAAOmkD,EACPC,cAAe,GACfC,OAAQ,WACJntD,EAAMy5B,SAAS,CACXhxB,KAAM,gBACN47B,WAAY+oB,GAAgBH,SAM5CjD,EAAY/0C,UAAUo4C,aAAe,SAAUlhC,GAC3C,IAAIkI,EAAQp1B,KAAKgpD,iBACb3pC,EAAK+V,EAAMgQ,WAAYG,EAAOlmB,EAAGkmB,KAAM5c,EAAYtJ,EAAGsJ,UAE1D,IAAK,IAAI6Z,KADTtV,EAAKvsB,OAAOusB,GACMqY,EAAM,CACpB,IAAIE,EAAMF,EAAK/C,GACf,GAAIiD,EAAI5K,WAAa3N,EAAI,CACrB,GAAIuY,EAAID,aACJ,OAAO,IAAI,GAASpQ,EAAOqQ,EAAK,MAEpC,IAAK,IAAI9C,KAAcha,EAAW,CAC9B,IAAIiB,EAAWjB,EAAUga,GACzB,GAAI/Y,EAAS4Y,QAAUiD,EAAIjD,MACvB,OAAO,IAAI,GAASpN,EAAOqQ,EAAK7b,KAKhD,OAAO,MAEXmhC,EAAY/0C,UAAUq4C,UAAY,WAC9B,IAAIV,EAAc3tD,KAAKgpD,iBACvB,OAAOsF,GAAeX,EAAYvoB,WAAYuoB,IAElD5C,EAAY/0C,UAAUu4C,gBAAkB,WACpCvuD,KAAKw6B,SAAS,CAAEhxB,KAAM,uBAI1BuhD,EAAY/0C,UAAUw4C,gBAAkB,WACpC,IAAIp5B,EAAQp1B,KAAKgpD,iBACbyF,EAAar5B,EAAM0kB,aACnB4U,EAAa,GACjB,IAAK,IAAIC,KAAcF,EACnBC,EAAW94C,KAAK,IAAI0kB,GAAelF,EAAOq5B,EAAWE,KAEzD,OAAOD,GAEX3D,EAAY/0C,UAAU83C,mBAAqB,SAAU5gC,GACjD,IAAIkI,EAAQp1B,KAAKgpD,iBACbyF,EAAar5B,EAAM0kB,aAEvB,IAAK,IAAIrf,KADTvN,EAAKvsB,OAAOusB,GACSuhC,EACjB,GAAIA,EAAWh0B,GAAUI,WAAa3N,EAClC,OAAO,IAAIoN,GAAelF,EAAOq5B,EAAWh0B,IAGpD,OAAO,MAEXswB,EAAY/0C,UAAU44C,eAAiB,SAAUpB,GAC7C,IAAIp4B,EAAQp1B,KAAKgpD,iBACjB,GAAIwE,aAAuBlzB,GAQvB,OANKlF,EAAM0kB,aAAa0T,EAAYjzB,oBAAoBE,WACpDz6B,KAAKw6B,SAAS,CACVhxB,KAAM,oBACNqlD,QAAS,CAACrB,EAAYjzB,uBAGvBizB,EAEX,IAAIvS,EAAcwO,GAAiB+D,EAAap4B,GAChD,OAAI6lB,GACAj7C,KAAKw6B,SAAS,CAAEhxB,KAAM,oBAAqBqlD,QAAS,CAAC5T,KAC9C,IAAI3gB,GAAelF,EAAO6lB,IAE9B,MAEX8P,EAAY/0C,UAAU84C,sBAAwB,WAC1C9uD,KAAKw6B,SAAS,CAAEhxB,KAAM,8BAE1BuhD,EAAY/0C,UAAU+4C,cAAgB,WAClC/uD,KAAKw6B,SAAS,CAAEhxB,KAAM,sBAAuBoxB,WAAW,KAI5DmwB,EAAY/0C,UAAUg5C,aAAe,SAAUC,GAC3C,IAAIC,EAAO1oB,GAAeyoB,GACtBC,GACAlvD,KAAKqnD,QAAQ,iBAAkB,CAAE6H,KAAMA,KAGxCnE,EAxYqB,GA2Y5B,GAA0B,WAG1B,SAASoE,EAAS7jC,EAASma,EAAK7b,GAC5B5pB,KAAKovD,SAAW9jC,EAChBtrB,KAAKytD,KAAOhoB,EACZzlC,KAAK0tD,UAAY9jC,GAAY,KAyajC,OApaAulC,EAASn5C,UAAUq5C,QAAU,SAAUnuD,EAAMuO,GACzC,IAAI4P,EAAI6c,EACR,GAAIh7B,KAAQg9C,GACRp7C,QAAQC,KAAK,6FAGZ,GAAa,OAAT7B,EACLuO,EAAMwuC,GAAwB/8C,GAAMuO,GACpCzP,KAAKsvD,OAAO,CACRpJ,cAAe,CAAErrB,SAAUprB,UAG9B,GAAIvO,KAAQ+8C,GACbxuC,EAAMwuC,GAAwB/8C,GAAMuO,GACpCzP,KAAKsvD,OAAO,CACRpJ,eAAgB7mC,EAAK,GAAIA,EAAGne,GAAQuO,EAAK4P,UAG5C,GAAIne,KAAQ47C,GAAmB,CAChC,IAAI8B,EAAK9B,GAAkB57C,GAAMuO,GACpB,UAATvO,EACA09C,EAAK,CAAEvB,gBAAiB5tC,EAAK6tC,YAAa7tC,GAE5B,aAATvO,EACL09C,EAAK,CAAE7B,cAAettC,EAAKutC,iBAAkBvtC,IAGvCysB,EAAK,GAAIA,EAAGh7B,GAAQuO,EAA1BmvC,EAA+B1iB,GAEnCl8B,KAAKsvD,OAAO,CACRpJ,cAAe,CAAEtH,GAAIA,UAIzB97C,QAAQC,KAAK,uBAAyB7B,EAAO,oCAGrDiuD,EAASn5C,UAAUu5C,gBAAkB,SAAUruD,EAAMuO,GACjD,IAAI4P,EACJrf,KAAKsvD,OAAO,CACRlR,eAAgB/+B,EAAK,GAAIA,EAAGne,GAAQuO,EAAK4P,MAGjD8vC,EAASn5C,UAAUw5C,SAAW,SAAUpQ,EAAY3/C,QAChC,IAAZA,IAAsBA,EAAU,IACpC,IAAIolC,EAAU7kC,KAAKovD,SAASvqB,QACxBkB,EAAQlB,EAAQyb,aAAalB,GACjC,GAAIrZ,GAAS/lC,KAAK0tD,UAAW,CACzB,IAAI+B,EAAgBzvD,KAAK0tD,UAAUnnC,MAC/BgiC,EAAavI,GAAUyP,EAAc1pB,MAAOA,EAAOlB,EAASplC,EAAQiwD,aACpEjwD,EAAQkwD,iBACR3vD,KAAKsvD,OAAO,CAAExG,WAAYP,IAG1BvoD,KAAKsvD,OAAO,CAAE/G,WAAYA,MAItC4G,EAASn5C,UAAU45C,OAAS,SAAUC,EAAUpwD,QAC5B,IAAZA,IAAsBA,EAAU,IACpC,IACIumC,EADAnB,EAAU7kC,KAAKovD,SAASvqB,QAE5B,IAAgB,MAAZgrB,IACA7pB,EAAMnB,EAAQyb,aAAauP,GACtB7pB,KAILhmC,KAAK0tD,UACL,GAAI1nB,EAAK,CACL,IAAIwiB,EAAWxI,GAAUhgD,KAAK0tD,UAAUnnC,MAAMyf,IAAKA,EAAKnB,EAASplC,EAAQiwD,aACzE1vD,KAAKsvD,OAAO,CAAE9G,SAAUA,SAGxBxoD,KAAKsvD,OAAO,CAAEpJ,cAAe,CAAEvH,QAAQ,MAInDwQ,EAASn5C,UAAU85C,SAAW,SAAU1Q,EAAYyQ,EAAUpwD,QAC1C,IAAZA,IAAsBA,EAAU,IACpC,IAGIumC,EAHAnB,EAAU7kC,KAAKovD,SAASvqB,QACxBqhB,EAAgB,CAAEnhB,OAAQtlC,EAAQslC,QAClCgB,EAAQlB,EAAQyb,aAAalB,GAEjC,GAAKrZ,IAGW,MAAZ8pB,IACA7pB,EAAMnB,EAAQyb,aAAauP,GACtB7pB,KAILhmC,KAAK0tD,UAAW,CAChB,IAAI+B,EAAgBzvD,KAAK0tD,UAAUnnC,OAGZ,IAAnB9mB,EAAQslC,SACR0qB,EAAgBjQ,GAAuBiQ,IAE3C,IAAIlH,EAAavI,GAAUyP,EAAc1pB,MAAOA,EAAOlB,EAASplC,EAAQiwD,aACxE,GAAI1pB,EAAK,CACL,IAAIwiB,EAAWxI,GAAUyP,EAAczpB,IAAKA,EAAKnB,EAASplC,EAAQiwD,aAC9DtoB,GAAemhB,EAAYC,GAC3BxoD,KAAKsvD,OAAO,CAAExG,WAAYP,EAAYrC,cAAeA,IAGrDlmD,KAAKsvD,OAAO,CAAE/G,WAAYA,EAAYC,SAAUA,EAAUtC,cAAeA,SAI7EA,EAAcvH,QAAS,EACvB3+C,KAAKsvD,OAAO,CAAExG,WAAYP,EAAYrC,cAAeA,MAIjEiJ,EAASn5C,UAAU+5C,UAAY,SAAU/C,GACrC,IAAI53C,EAAQoxB,GAAewmB,GACvB53C,GACApV,KAAKsvD,OAAO,CAAE/G,WAAYnzC,KAGlC+5C,EAASn5C,UAAUg6C,QAAU,SAAUhD,GACnC,IAAI53C,EAAQoxB,GAAewmB,GACvB53C,GACApV,KAAKsvD,OAAO,CAAE9G,SAAUpzC,KAGhC+5C,EAASn5C,UAAUi6C,UAAY,SAAUjD,GACrC,IAAI53C,EAAQoxB,GAAewmB,GACvB53C,GACApV,KAAKsvD,OAAO,CAAExG,WAAY1zC,KAGlC+5C,EAASn5C,UAAUk6C,UAAY,SAAUnrB,EAAQtlC,QAC7B,IAAZA,IAAsBA,EAAU,IACpC,IAAIymD,EAAgB,CAAEnhB,OAAQA,GAC1B4qB,EAAmBlwD,EAAQkwD,iBACP,MAApBA,IACAA,EAAmB3vD,KAAKovD,SAAS3vD,QAAQgzC,wBAEzCzyC,KAAKytD,KAAK1oB,SAAWA,IACrBmhB,EAAcvH,OAASgR,GAE3B3vD,KAAKsvD,OAAO,CAAEpJ,cAAeA,KAEjCiJ,EAASn5C,UAAU60B,YAAc,SAAUslB,GACvC,IAAItrB,EAAU7kC,KAAKovD,SAASvqB,QACxBjb,EAAW5pB,KAAK0tD,UAChBT,EAAYle,GAAgBohB,GAChC,OAAInwD,KAAKytD,KAAK9O,OACH9Z,EAAQgG,YAAYjhB,EAASrD,MAAMwf,MAAOnc,EAASrD,MAAMyf,IAAKinB,EAAW,CAC5ExqB,eAAgB7Y,EAAS6Y,eACzBC,aAAc9Y,EAAS8Y,eAGxBmC,EAAQj2B,OAAOgb,EAASrD,MAAMwf,MAAOknB,EAAW,CACnD1N,UAAW31B,EAAS6Y,kBAG5B0sB,EAASn5C,UAAUs5C,OAAS,SAAUpH,GAClC,IAAIt+B,EAAW5pB,KAAK0tD,UACpB,GAAI9jC,EAAU,CACV,IAAI6b,EAAMzlC,KAAKytD,KACX2C,EAAYpwD,KAAKovD,SACjBiB,EAAeD,EAAUpH,iBAAiB5jB,WAC1CkrB,EAAiB3U,GAAkB0U,EAAczmC,EAAS+Y,YAC1DslB,EAAkB,CAClB,GAAI,CACA30C,QAAS,GACTypC,eAAe,EACfC,kBAAkB,EAClBS,YAAa,GACbP,QAAS,KACTQ,OAAQ,GACRL,gBAAiB,GACjBC,YAAa,GACbC,UAAW,GACXjD,WAAY,KAGpBgW,EAAiBtI,GAA0BsI,EAAgBrI,EAAiBC,EAAUkI,GACtF,IAAIG,EAAW,IAAIpB,EAASiB,EAAW3qB,EAAK7b,GAC5C5pB,KAAKytD,KAAO6C,EAAe/qB,KAAKE,EAAIjD,OACpCxiC,KAAK0tD,UAAY4C,EAAe3nC,UAAUiB,EAAS+Y,YACnDytB,EAAU51B,SAAS,CACfhxB,KAAM,eACN47B,WAAYkrB,IAEhBF,EAAUhJ,QAAQC,QAAQ,cAAe,CACrCkJ,SAAUA,EACV1mD,MAAO7J,KACPiuD,cAAeK,GAAegC,EAAgBF,EAAWxmC,GACzDskC,OAAQ,WACJkC,EAAU51B,SAAS,CACfhxB,KAAM,eACN47B,WAAYirB,SAMhClB,EAASn5C,UAAU7N,OAAS,WACxB,IAAImjB,EAAUtrB,KAAKovD,SACfoB,EAAUrC,GAAgBnuD,MAC9BsrB,EAAQkP,SAAS,CACbhxB,KAAM,gBACN47B,WAAYorB,IAEhBllC,EAAQ87B,QAAQC,QAAQ,cAAe,CACnCx9C,MAAO7J,KACPiuD,cAAe,GACfC,OAAQ,WACJ5iC,EAAQkP,SAAS,CACbhxB,KAAM,eACN47B,WAAYorB,QAK5Bl/C,OAAOwL,eAAeqyC,EAASn5C,UAAW,SAAU,CAChD+G,IAAK,WACD,IAAI0d,EAAWz6B,KAAKytD,KAAKhzB,SACzB,OAAIA,EACO,IAAIH,GAAet6B,KAAKovD,SAAUpvD,KAAKovD,SAASpG,iBAAiBlP,aAAarf,IAElF,MAEXzQ,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,QAAS,CAC/C+G,IAAK,WACD,OAAO/c,KAAK0tD,UACR1tD,KAAKovD,SAASvqB,QAAQ8hB,OAAO3mD,KAAK0tD,UAAUnnC,MAAMwf,OAClD,MAER/b,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,MAAO,CAC7C+G,IAAK,WACD,OAAQ/c,KAAK0tD,WAAa1tD,KAAKytD,KAAK9O,OAChC3+C,KAAKovD,SAASvqB,QAAQ8hB,OAAO3mD,KAAK0tD,UAAUnnC,MAAMyf,KAClD,MAERhc,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,WAAY,CAClD+G,IAAK,WACD,IAAI6M,EAAW5pB,KAAK0tD,UACpB,OAAI9jC,EACO5pB,KAAKovD,SAASvqB,QAAQgiB,UAAUj9B,EAASrD,MAAMwf,MAAO,CACzD2gB,SAAU1mD,KAAKytD,KAAK1oB,OACpBwa,UAAW31B,EAAS6Y,iBAGrB,IAEXzY,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,SAAU,CAChD+G,IAAK,WACD,IAAI6M,EAAW5pB,KAAK0tD,UACpB,OAAI9jC,GAAY5pB,KAAKytD,KAAK9O,OACf3+C,KAAKovD,SAASvqB,QAAQgiB,UAAUj9B,EAASrD,MAAMyf,IAAK,CACvD0gB,SAAU1mD,KAAKytD,KAAK1oB,OACpBwa,UAAW31B,EAAS8Y,eAGrB,IAEX1Y,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,KAAM,CAG5C+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAK5yB,UACpC7Q,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,UAAW,CACjD+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAKtR,SACpCnyB,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,SAAU,CAChD+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAK1oB,QACpC/a,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,QAAS,CAC/C+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAKhwC,OACpCuM,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,MAAO,CAC7C+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAK1yB,KACpC/Q,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,UAAW,CACjD+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAK7O,GAAGtrC,SAAW,QAElD0W,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,gBAAiB,CACvD+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAK7O,GAAG7B,eACvC/yB,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,mBAAoB,CAC1D+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAK7O,GAAG5B,kBACvChzB,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,aAAc,CACpD+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAK7O,GAAGnB,YAAY,IAAM,MACzDzzB,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,UAAW,CACjD+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAK7O,GAAG1B,SACvClzB,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,QAAS,CAC/C+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAK7O,GAAGlB,OAAO,IAAM,MACpD1zB,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,kBAAmB,CACzD+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAK7O,GAAGvB,iBACvCrzB,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,cAAe,CACrD+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAK7O,GAAGtB,aACvCtzB,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,YAAa,CACnD+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAK7O,GAAGrB,WACvCvzB,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,aAAc,CAEpD+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAK7O,GAAGtE,YACvCtwB,YAAY,EACZC,cAAc,IAElB3Y,OAAOwL,eAAeqyC,EAASn5C,UAAW,gBAAiB,CACvD+G,IAAK,WAAc,OAAO/c,KAAKytD,KAAKrP,eACpCp0B,YAAY,EACZC,cAAc,IAElBklC,EAASn5C,UAAUy6C,cAAgB,SAAUvD,QACxB,IAAbA,IAAuBA,EAAW,IACtC,IAAIznB,EAAMzlC,KAAKytD,KACX7O,EAAKnZ,EAAImZ,GACTv/B,EAAKrf,KAAM4mD,EAAWvnC,EAAGunC,SAAUE,EAASznC,EAAGynC,OAC/CriB,EAAM,GAiDV,OAhDIgB,EAAIhoB,QACJgnB,EAAIhnB,MAAQgoB,EAAIhoB,OAEhBmpC,IACAniB,EAAIsB,MAAQ6gB,GAEZE,IACAriB,EAAIuB,IAAM8gB,GAEVrhB,EAAI5K,WACJ4J,EAAIvX,GAAKuY,EAAI5K,UAEb4K,EAAI0W,UACJ1X,EAAI0X,QAAU1W,EAAI0W,SAElB1W,EAAI1K,MACJ0J,EAAI1J,IAAM0K,EAAI1K,KAEd6jB,EAAGtrC,SAA0B,SAAfsrC,EAAGtrC,UACjBmxB,EAAInxB,QAAUsrC,EAAGtrC,SAIjB45C,EAASwD,eAAiB9R,EAAGvB,iBAAmBuB,EAAGvB,kBAAoBuB,EAAGtB,YAC1E7Y,EAAI2Y,MAAQwB,EAAGvB,iBAGXuB,EAAGvB,kBACH5Y,EAAI4Y,gBAAkBuB,EAAGvB,iBAEzBuB,EAAGtB,cACH7Y,EAAI6Y,YAAcsB,EAAGtB,cAGzBsB,EAAGrB,YACH9Y,EAAI8Y,UAAYqB,EAAGrB,WAEnBqB,EAAGtE,WAAW/5C,SACdkkC,EAAI6V,WAAasE,EAAGtE,YAEpBhpC,OAAOkY,KAAKic,EAAI2Y,eAAe79C,SAC3B2sD,EAASyD,sBACT79B,EAAS2R,EAAKgB,EAAI2Y,eAGlB3Z,EAAI2Z,cAAgB3Y,EAAI2Y,eAGzB3Z,GAEX0qB,EAASn5C,UAAU46C,OAAS,WACxB,OAAO5wD,KAAKywD,iBAETtB,EA/akB,GAib7B,SAAShB,GAAgBH,GACrB,IAAI3uC,EAAI6c,EACJuJ,EAAMuoB,EAASP,KACf7jC,EAAWokC,EAASN,UACxB,MAAO,CACHnoB,MAAOlmB,EAAK,GAAIA,EAAGomB,EAAIjD,OAASiD,EAAKpmB,GACrCsJ,UAAWiB,GACJsS,EAAK,GAAIA,EAAGtS,EAAS+Y,YAAc/Y,EAAUsS,GAAM,IAGlE,SAASoyB,GAAelpB,EAAY9Z,EAASulC,GACzC,IAAItrB,EAAOH,EAAWG,KAAM5c,EAAYyc,EAAWzc,UAC/CmoC,EAAY,GACZC,EAAoBF,EAAkBA,EAAgBluB,WAAa,GACvE,IAAK,IAAIzV,KAAMvE,EAAW,CACtB,IAAIiB,EAAWjB,EAAUuE,GACrBuY,EAAMF,EAAK3b,EAAS4Y,OACpB5Y,EAAS+Y,aAAeouB,GACxBD,EAAUl7C,KAAK,IAAI,GAAS0V,EAASma,EAAK7b,IAGlD,OAAOknC,EAGX,IAAIE,GAAyB,GAC7B,SAASC,GAAuB/vD,EAAMgwD,GAClCF,GAAuB9vD,GAAQgwD,EAEnC,SAASC,GAAqBjwD,GAC1B,OAAO,IAAI8vD,GAAuB9vD,GAEtC,IAAIkwD,GAAyC,WACzC,SAASA,KAiBT,OAfAA,EAAwBp7C,UAAUu3B,cAAgB,SAAUjhC,GACxD,OAAOA,EAAEs0B,kBAEbwwB,EAAwBp7C,UAAUw3B,eAAiB,SAAUlhC,GACzD,OAAOA,EAAEu0B,eAEbuwB,EAAwBp7C,UAAUy3B,aAAe,SAAUnhC,GACvD,OAAOA,EAAEw0B,cAEbswB,EAAwBp7C,UAAUq7C,cAAgB,SAAUljD,GACxD,OAAOqxB,GAAerxB,IAE1BijD,EAAwBp7C,UAAUs4B,cAAgB,SAAUhN,GACxD,OAAO/B,GAAe+B,IAEnB8vB,EAlBiC,GAoB5CH,GAAuB,UAAWG,IAElC,IAAIE,GAAS,oHACb,SAAStvC,GAAMuvC,GACX,IAAI1kD,EAAIykD,GAAO9hD,KAAK+hD,GACpB,GAAI1kD,EAAG,CACH,IAAIy0B,EAAS,IAAIn+B,KAAKA,KAAKk/B,IAAI2O,OAAOnkC,EAAE,IAAKA,EAAE,GAAKmkC,OAAOnkC,EAAE,IAAM,EAAI,EAAGmkC,OAAOnkC,EAAE,IAAM,GAAImkC,OAAOnkC,EAAE,IAAM,GAAImkC,OAAOnkC,EAAE,IAAM,GAAImkC,OAAOnkC,EAAE,KAAO,GAAIA,EAAE,IAA6B,IAAvBmkC,OAAO,KAAOnkC,EAAE,KAAc,IAC7L,GAAIy1B,GAAYhB,GAAS,CACrB,IAAI+G,EAAiB,KAKrB,OAJIx7B,EAAE,MACFw7B,GAA4B,MAAVx7B,EAAE,KAAe,EAAI,IAA2B,GAArBmkC,OAAOnkC,EAAE,KAAO,GACzDmkC,OAAOnkC,EAAE,KAAO,KAEjB,CACHy0B,OAAQA,EACRge,mBAAoBzyC,EAAE,GACtBw7B,eAAgBA,IAI5B,OAAO,KAGX,IAAImpB,GAAyB,WACzB,SAASA,EAAQtE,GACb,IAAI5gB,EAAWtsC,KAAKssC,SAAW4gB,EAAS5gB,SACpCmlB,EAA+B,UAAbnlB,GAAqC,QAAbA,EAC1C4gB,EAASwE,mBAAqBD,IAC9BzxD,KAAK0xD,kBAAoB,IAAIxE,EAASwE,kBAAkBplB,IAE5DtsC,KAAK2xD,iBAAmB7wD,SAAS2wD,GAAmBzxD,KAAK0xD,mBACzD1xD,KAAKirC,eAAiBkmB,GAAqBjE,EAASjiB,gBACpDjrC,KAAKgE,OAASkpD,EAASlpD,OACvBhE,KAAK4xD,QAAU1E,EAASlpD,OAAOkjC,KAAK3F,IACpCvhC,KAAK6xD,QAAU3E,EAASlpD,OAAOkjC,KAAK1F,IACG,QAAnC0rB,EAAShc,wBACTlxC,KAAK4xD,QAAU,EACf5xD,KAAK6xD,QAAU,GAEc,kBAAtB3E,EAAS9V,WAChBp3C,KAAK4xD,QAAU1E,EAAS9V,UAEkB,oBAAnC8V,EAAShc,wBAChBlxC,KAAK8xD,eAAiB5E,EAAShc,uBAEnClxC,KAAKmsC,SAAgC,MAArB+gB,EAAS/gB,SAAmB+gB,EAAS/gB,SAAW+gB,EAASlpD,OAAOvE,QAAQ0sC,SACxFnsC,KAAK6uC,aAAeqe,EAASre,aAC7B7uC,KAAK4rC,iBAAmBshB,EAASthB,iBAwSrC,OArSA4lB,EAAQx7C,UAAUsqC,aAAe,SAAUtuC,GACvC,IAAI8oB,EAAO96B,KAAKq/C,iBAAiBrtC,GACjC,OAAa,OAAT8oB,EACO,KAEJA,EAAKwG,QAEhBkwB,EAAQx7C,UAAU80C,gBAAkB,WAChC,OAAI9qD,KAAK2xD,iBACE3xD,KAAK+xD,mBAAkB,IAAI5uD,MAAO48B,WAItCP,GAAe0C,GAAiB,IAAI/+B,QAE/CquD,EAAQx7C,UAAUqpC,iBAAmB,SAAUrtC,GAC3C,GAAqB,kBAAVA,EACP,OAAOhS,KAAKgiB,MAAMhQ,GAEtB,IAAIsvB,EAAS,KAab,MAZqB,kBAAVtvB,EACPsvB,EAASthC,KAAK+xD,kBAAkB//C,GAE3BA,aAAiB7O,MACtB6O,EAAQA,EAAM+tB,UACTpwB,MAAMqC,KACPsvB,EAASthC,KAAK+xD,kBAAkB//C,KAG/BnK,MAAM0sB,QAAQviB,KACnBsvB,EAAS9B,GAAextB,IAEb,OAAXsvB,GAAoBgB,GAAYhB,GAG7B,CAAEA,OAAQA,EAAQge,mBAAmB,EAAOC,UAAW,MAFnD,MAIfiS,EAAQx7C,UAAUgM,MAAQ,SAAU1b,GAChC,IAAI6mC,EAAQnrB,GAAM1b,GAClB,GAAc,OAAV6mC,EACA,OAAO,KAEX,IAAI7L,EAAS6L,EAAM7L,OACfie,EAAY,KAShB,OAR6B,OAAzBpS,EAAM9E,iBACFroC,KAAK2xD,iBACLrwB,EAASthC,KAAK+xD,kBAAkBzwB,EAAOvB,UAAmC,GAAvBoN,EAAM9E,eAAsB,KAG/EkX,EAAYpS,EAAM9E,gBAGnB,CAAE/G,OAAQA,EAAQge,kBAAmBnS,EAAMmS,kBAAmBC,UAAWA,IAGpFiS,EAAQx7C,UAAUg8C,QAAU,SAAU1wB,GAClC,OAAOthC,KAAKirC,eAAesC,cAAcjM,IAE7CkwB,EAAQx7C,UAAU1I,SAAW,SAAUg0B,GACnC,OAAOthC,KAAKirC,eAAeuC,eAAelM,IAG9CkwB,EAAQx7C,UAAU9N,IAAM,SAAUo5B,EAAQqG,GACtC,IAAIvhB,EAAIpmB,KAAKirC,eAAeqD,cAAchN,GAK1C,OAJAlb,EAAE,IAAMuhB,EAAIpH,MACZna,EAAE,IAAMuhB,EAAI1hC,OACZmgB,EAAE,IAAMuhB,EAAIl0B,KACZ2S,EAAE,IAAMuhB,EAAInH,aACLxgC,KAAKirC,eAAeomB,cAAcjrC,IAE7CorC,EAAQx7C,UAAUqwB,SAAW,SAAU/E,EAAQqG,GAC3C,IAAIvhB,EAAIpmB,KAAKirC,eAAeqD,cAAchN,GAK1C,OAJAlb,EAAE,IAAMuhB,EAAIpH,MACZna,EAAE,IAAMuhB,EAAI1hC,OACZmgB,EAAE,IAAMuhB,EAAIl0B,KACZ2S,EAAE,IAAMuhB,EAAInH,aACLxgC,KAAKirC,eAAeomB,cAAcjrC,IAE7CorC,EAAQx7C,UAAU02C,SAAW,SAAUprB,EAAQv0B,GAC3C,IAAIqZ,EAAIpmB,KAAKirC,eAAeqD,cAAchN,GAE1C,OADAlb,EAAE,IAAMrZ,EACD/M,KAAKirC,eAAeomB,cAAcjrC,IAE7CorC,EAAQx7C,UAAUi8C,UAAY,SAAU3wB,EAAQv0B,GAC5C,IAAIqZ,EAAIpmB,KAAKirC,eAAeqD,cAAchN,GAE1C,OADAlb,EAAE,IAAMrZ,EACD/M,KAAKirC,eAAeomB,cAAcjrC,IAG7CorC,EAAQx7C,UAAUmqC,eAAiB,SAAUvgB,EAAIC,GAC7C,IAAIoL,EAAiBjrC,KAAKirC,eAC1B,OAAItK,GAASf,KAAQe,GAASd,IAC1BoL,EAAewC,aAAa7N,KAAQqL,EAAewC,aAAa5N,IAChEoL,EAAeuC,eAAe5N,KAAQqL,EAAeuC,eAAe3N,GAC7DoL,EAAesC,cAAc1N,GAAMoL,EAAesC,cAAc3N,GAEpE,MAEX4xB,EAAQx7C,UAAUoqC,gBAAkB,SAAUxgB,EAAIC,GAC9C,IAAIoL,EAAiBjrC,KAAKirC,eAC1B,OAAItK,GAASf,KAAQe,GAASd,IAC1BoL,EAAewC,aAAa7N,KAAQqL,EAAewC,aAAa5N,GACxDoL,EAAeuC,eAAe3N,GAAMoL,EAAeuC,eAAe5N,GACE,IAAvEqL,EAAesC,cAAc1N,GAAMoL,EAAesC,cAAc3N,IAElE,MAGX4xB,EAAQx7C,UAAUk8C,kBAAoB,SAAUtyB,EAAIC,GAChD,IAAI9yB,EAAI/M,KAAKmgD,eAAevgB,EAAIC,GAChC,OAAU,OAAN9yB,EACO,CAAE05B,KAAM,OAAQhmC,MAAOsM,IAElCA,EAAI/M,KAAKogD,gBAAgBxgB,EAAIC,GACnB,OAAN9yB,EACO,CAAE05B,KAAM,QAAShmC,MAAOsM,IAEnCA,EAAI0zB,GAAeb,EAAIC,GACb,OAAN9yB,EACO,CAAE05B,KAAM,OAAQhmC,MAAOsM,IAElCA,EAAI2zB,GAAcd,EAAIC,GACZ,OAAN9yB,EACO,CAAE05B,KAAM,MAAOhmC,MAAOsM,IAEjCA,EAAIizB,GAAUJ,EAAIC,GACdb,GAAMjyB,GACC,CAAE05B,KAAM,OAAQhmC,MAAOsM,IAElCA,EAAIkzB,GAAYL,EAAIC,GAChBb,GAAMjyB,GACC,CAAE05B,KAAM,SAAUhmC,MAAOsM,IAEpCA,EAAImzB,GAAYN,EAAIC,GAChBb,GAAMjyB,GACC,CAAE05B,KAAM,SAAUhmC,MAAOsM,GAE7B,CAAE05B,KAAM,cAAehmC,MAAOo/B,EAAGE,UAAYH,EAAGG,kBAE3DyxB,EAAQx7C,UAAUm8C,sBAAwB,SAAUvyB,EAAIC,EAAIvzB,GAExD,IAAI8lD,EACJ,OAAI9lD,EAAEi0B,QACF6xB,EAAOpyD,KAAKmgD,eAAevgB,EAAIC,GAClB,OAATuyB,GACOA,EAAO1qB,GAAap7B,GAG/BA,EAAErG,SACFmsD,EAAOpyD,KAAKogD,gBAAgBxgB,EAAIC,GACnB,OAATuyB,GACOA,EAAOvqB,GAAcv7B,GAGhCA,EAAEmH,OACF2+C,EAAO1xB,GAAcd,EAAIC,GACZ,OAATuyB,GACOA,EAAOxqB,GAAYt7B,IAG1BuzB,EAAGE,UAAYH,EAAGG,WAAa+H,GAAUx7B,IAIrDklD,EAAQx7C,UAAUq8C,QAAU,SAAUxlD,EAAG45B,GACrC,MAAa,SAATA,EACOzmC,KAAKsyD,YAAYzlD,GAEf,UAAT45B,EACOzmC,KAAKuyD,aAAa1lD,GAEhB,SAAT45B,EACOzmC,KAAKwyD,YAAY3lD,GAEf,QAAT45B,EACOpG,GAAWxzB,GAET,SAAT45B,EACO1F,GAAYl0B,GAEV,WAAT45B,EACOxF,GAAcp0B,GAEZ,WAAT45B,EACOtF,GAAct0B,GAElB,MAEX2kD,EAAQx7C,UAAUs8C,YAAc,SAAUzlD,GACtC,OAAO7M,KAAKirC,eAAeomB,cAAc,CACrCrxD,KAAKirC,eAAesC,cAAc1gC,MAG1C2kD,EAAQx7C,UAAUu8C,aAAe,SAAU1lD,GACvC,OAAO7M,KAAKirC,eAAeomB,cAAc,CACrCrxD,KAAKirC,eAAesC,cAAc1gC,GAClC7M,KAAKirC,eAAeuC,eAAe3gC,MAG3C2kD,EAAQx7C,UAAUw8C,YAAc,SAAU3lD,GACtC,OAAO7M,KAAKirC,eAAeomB,cAAc,CACrCrxD,KAAKirC,eAAesC,cAAc1gC,GAClC7M,KAAKirC,eAAeuC,eAAe3gC,GACnCA,EAAEi0B,cAAiBj0B,EAAEo1B,YAAcjiC,KAAK4xD,QAAU,GAAK,KAI/DJ,EAAQx7C,UAAUk2B,kBAAoB,SAAU5K,GAC5C,OAAIthC,KAAK8xD,eACE9xD,KAAK8xD,eAAe9xD,KAAK2mD,OAAOrlB,IAEpCD,GAAWC,EAAQthC,KAAK4xD,QAAS5xD,KAAK6xD,UAGjDL,EAAQx7C,UAAUpH,OAAS,SAAU0yB,EAAQ2rB,EAAWwF,GAEpD,YADoB,IAAhBA,IAA0BA,EAAc,IACrCxF,EAAUr+C,OAAO,CACpB0yB,OAAQA,EACR+G,eAAyC,MAAzBoqB,EAAYlT,UACxBkT,EAAYlT,UACZv/C,KAAK0yD,gBAAgBpxB,IAC1BthC,OAEPwxD,EAAQx7C,UAAU60B,YAAc,SAAU9E,EAAOC,EAAKinB,EAAWwF,GAK7D,YAJoB,IAAhBA,IAA0BA,EAAc,IACxCA,EAAYE,iBACZ3sB,EAAMtG,GAAMsG,GAAM,IAEfinB,EAAUpiB,YAAY,CACzBvJ,OAAQyE,EACRsC,eAA8C,MAA9BoqB,EAAYhwB,eACxBgwB,EAAYhwB,eACZziC,KAAK0yD,gBAAgB3sB,IAC1B,CACCzE,OAAQ0E,EACRqC,eAA4C,MAA5BoqB,EAAY/vB,aACxB+vB,EAAY/vB,aACZ1iC,KAAK0yD,gBAAgB1sB,IAC1BhmC,KAAMyyD,EAAY7mB,mBAMzB4lB,EAAQx7C,UAAU6wC,UAAY,SAAUvlB,EAAQsxB,QACvB,IAAjBA,IAA2BA,EAAe,IAC9C,IAAIvqB,EAAiB,KASrB,OARKuqB,EAAaC,qBAEVxqB,EAD0B,MAA1BuqB,EAAarT,UACIqT,EAAarT,UAGbv/C,KAAK0yD,gBAAgBpxB,IAGvC8G,GAAe9G,EAAQ+G,EAAgBuqB,EAAalM,WAG/D8K,EAAQx7C,UAAU+7C,kBAAoB,SAAU/qB,GAC5C,MAAsB,UAAlBhnC,KAAKssC,SACE9M,GAAe0C,GAAiB,IAAI/+B,KAAK6jC,KAE9B,QAAlBhnC,KAAKssC,UAAuBtsC,KAAK0xD,kBAG9BlyB,GAAex/B,KAAK0xD,kBAAkBoB,iBAAiB9rB,IAFnD,IAAI7jC,KAAK6jC,IAIxBwqB,EAAQx7C,UAAU08C,gBAAkB,SAAU7lD,GAC1C,MAAsB,UAAlB7M,KAAKssC,UACGnK,GAAiB5C,GAAe1yB,IAAIkmD,oBAE1B,QAAlB/yD,KAAKssC,SACE,EAEPtsC,KAAK0xD,kBACE1xD,KAAK0xD,kBAAkBsB,eAAezzB,GAAe1yB,IAEzD,MAGX2kD,EAAQx7C,UAAU2wC,OAAS,SAAU95C,EAAG0yC,GACpC,MAAsB,UAAlBv/C,KAAKssC,SACEnK,GAAiB5C,GAAe1yB,IAErB,QAAlB7M,KAAKssC,SACE,IAAInpC,KAAK0J,EAAEkzB,WAEjB//B,KAAK0xD,kBAGH,IAAIvuD,KAAK0J,EAAEkzB,UAC6C,IAA3D//B,KAAK0xD,kBAAkBsB,eAAezzB,GAAe1yB,IAAa,IAH3D,IAAI1J,KAAK0J,EAAEkzB,WAAawf,GAAa,KAK7CiS,EAhUiB,GAmUxByB,GAAgB,GAEhBC,GAAgB,CAChBC,KAAM,KACNjsB,KAAM,CACF3F,IAAK,EACLC,IAAK,GAET6L,UAAW,MACXqM,WAAY,CACR6S,KAAM,OACNC,KAAM,OACNC,SAAU,YACVE,SAAU,YACVzgD,KAAM,OACN0gD,MAAO,QACP9/C,MAAO,QACPo6B,KAAM,OACNl8B,IAAK,MACLooD,KAAM,QAEVjnB,SAAU,IACV6J,WAAY,UACZS,aAAc,OACdqB,aAAc,wBAElB,SAASub,GAAmBC,GAMxB,IALA,IAAIC,EAAcD,EAAmB/yD,OAAS,EAAI+yD,EAAmB,GAAGH,KAAO,KAC3EK,EAAgBP,GAAc3yC,OAAOgzC,GACrCG,EAAe,CACfzqC,GAAIkqC,IAECxvB,EAAK,EAAGgwB,EAAkBF,EAAe9vB,EAAKgwB,EAAgBnzD,OAAQmjC,IAAM,CACjF,IAAIiwB,EAAYD,EAAgBhwB,GAChC+vB,EAAaE,EAAUR,MAAQQ,EAEnC,MAAO,CACH3yD,IAAKyyD,EACLF,YAAaA,GAGrB,SAASK,GAAYC,EAAeC,GAChC,MAA6B,kBAAlBD,GAA+BhsD,MAAM0sB,QAAQs/B,GAGjDE,GAAYF,EAAeC,GAFvBE,GAAYH,EAAcV,KAAM,CAACU,EAAcV,MAAOU,GAIrE,SAASE,GAAYE,EAASH,GAC1B,IAAInnB,EAAQ,GAAGrsB,OAAO2zC,GAAW,IAC7BnZ,EAAMoZ,GAAevnB,EAAOmnB,IAAcZ,GAC9C,OAAOc,GAAYC,EAAStnB,EAAOmO,GAEvC,SAASoZ,GAAevnB,EAAOmnB,GAC3B,IAAK,IAAItnD,EAAI,EAAGA,EAAImgC,EAAMpsC,OAAQiM,GAAK,EAEnC,IADA,IAAI2gC,EAAQR,EAAMngC,GAAGugC,oBAAoB9+B,MAAM,KACtCtB,EAAIwgC,EAAM5sC,OAAQoM,EAAI,EAAGA,GAAK,EAAG,CACtC,IAAIwnD,EAAWhnB,EAAMjmC,MAAM,EAAGyF,GAAGyB,KAAK,KACtC,GAAI0lD,EAAUK,GACV,OAAOL,EAAUK,GAI7B,OAAO,KAEX,SAASH,GAAYC,EAAStnB,EAAOmO,GACjC,IAAIsZ,EAASxxB,GAAW,CAACswB,GAAepY,GAAM,CAAC,sBACxCsZ,EAAOjB,KACd,IAAIjsB,EAAOktB,EAAOltB,KAElB,cADOktB,EAAOltB,KACP,CACH+sB,QAASA,EACTtnB,MAAOA,EACPzF,KAAMA,EACNkG,mBAAoB,IAAIX,KAAK4nB,aAAaJ,GAC1Cx0D,QAAS20D,GAqCjB,IAkFIE,GAlFAC,GAAe,CACfC,UAAW,QACXC,QAAS,QACTC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,GACzBphD,QAAS,qBACTgnC,WAAY,kBACZ6B,QAAS,kBAKb,SAASwY,GAAmB3iD,EAAOsZ,GAC/B,OAAOyvB,GAAY6Z,GAAa5iD,GAAQ,KAAMsZ,GAElD,SAASspC,GAAa5iD,GAClB,IAAI6iD,EAeJ,OAbIA,GADU,IAAV7iD,EACU,CAAC,IAENnK,MAAM0sB,QAAQviB,GAETA,EAAMwO,QAAO,SAAUs0C,GAAU,OAAOA,EAAOJ,cAEnC,kBAAV1iD,GAAsBA,EACxB,CAACA,GAGD,GAEd6iD,EAAUA,EAAQ7zD,KAAI,SAAU8zD,GAAU,OAAQhiC,EAASA,EAAS,GAAIyhC,IAAeO,MAChFD,EAGX,SAASE,GAAgBC,EAAOC,GAC5B,OAAOD,EAAMxwC,MAAQywC,EAAKzwC,MACtBwwC,EAAMxwC,KAAOywC,EAAKrwC,OAClBowC,EAAM1wC,KAAO2wC,EAAK3wC,KAClB0wC,EAAM1wC,IAAM2wC,EAAK7wC,OAGzB,SAAS8wC,GAAeC,EAAOC,GAC3B,IAAI3wB,EAAM,CACNjgB,KAAM7gB,KAAK0M,IAAI8kD,EAAM3wC,KAAM4wC,EAAM5wC,MACjCI,MAAOjhB,KAAKyM,IAAI+kD,EAAMvwC,MAAOwwC,EAAMxwC,OACnCN,IAAK3gB,KAAK0M,IAAI8kD,EAAM7wC,IAAK8wC,EAAM9wC,KAC/BF,OAAQzgB,KAAKyM,IAAI+kD,EAAM/wC,OAAQgxC,EAAMhxC,SAEzC,OAAIqgB,EAAIjgB,KAAOigB,EAAI7f,OAAS6f,EAAIngB,IAAMmgB,EAAIrgB,QAC/BqgB,EAaf,SAAS4wB,GAAeL,EAAOC,GAC3B,MAAO,CACHzwC,KAAM7gB,KAAKyM,IAAIzM,KAAK0M,IAAI2kD,EAAMxwC,KAAMywC,EAAKzwC,MAAOywC,EAAKrwC,OACrDN,IAAK3gB,KAAKyM,IAAIzM,KAAK0M,IAAI2kD,EAAM1wC,IAAK2wC,EAAK3wC,KAAM2wC,EAAK7wC,SAI1D,SAASkxC,GAAcL,GACnB,MAAO,CACHzwC,MAAOywC,EAAKzwC,KAAOywC,EAAKrwC,OAAS,EACjCN,KAAM2wC,EAAK3wC,IAAM2wC,EAAK7wC,QAAU,GAIxC,SAASmxC,GAAWC,EAAQC,GACxB,MAAO,CACHjxC,KAAMgxC,EAAOhxC,KAAOixC,EAAOjxC,KAC3BF,IAAKkxC,EAAOlxC,IAAMmxC,EAAOnxC,KAKjC,SAASoxC,KAIL,OAH0B,MAAtBpB,KACAA,GAAqBqB,MAElBrB,GAEX,SAASqB,KAGL,GAAwB,qBAAbntD,SACP,OAAO,EAEX,IAAIiN,EAAKjN,SAASJ,cAAc,OAChCqN,EAAGrC,MAAMhO,SAAW,WACpBqQ,EAAGrC,MAAMkR,IAAM,MACf7O,EAAGrC,MAAMoR,KAAO,MAChB/O,EAAGqG,UAAY,+CACfrG,EAAG0N,cAAc,SAAS/P,MAAM4a,OAAS,QACzCvY,EAAG0N,cAAc,OAAO/P,MAAM4a,OAAS,OACvCxlB,SAAS+N,KAAK5M,YAAY8L,GAC1B,IAAImgD,EAAMngD,EAAG0N,cAAc,OACvB0yC,EAAWD,EAAIjyC,aAAe,EAElC,OADAnb,SAAS+N,KAAK1N,YAAY4M,GACnBogD,EAGX,IAAIC,GAAoB3a,KACpB4a,GAA0B,WAC1B,SAASA,IACL/1D,KAAKg2D,oBAAsBhtB,GAAQhpC,KAAKi2D,sBACxCj2D,KAAKk2D,mBAAqBltB,GAAQhpC,KAAKm2D,gBACvCn2D,KAAKo2D,gBAAkBptB,GAAQhpC,KAAKq2D,kBACpCr2D,KAAKs2D,kBAAoBttB,GAAQhpC,KAAKu2D,oBACtCv2D,KAAKw2D,eAAiBxtB,GAAQhpC,KAAKy2D,mBACnCz2D,KAAK02D,iBAAmB1tB,GAAQhpC,KAAKy2D,mBACrCz2D,KAAK22D,gBAAkB,GA2G3B,OAzGAZ,EAAS//C,UAAU4gD,WAAa,SAAUt3D,GACtC,IAAIyB,EAAQf,KACR62D,EAAW72D,KAAK82D,WAAWx3D,GAC3By3D,EAAU/2D,KAAKg2D,oBAAoB12D,EAAM8lC,YACzC4xB,EAAiBh3D,KAAKk2D,mBAAmB52D,EAAMguD,eAC/C2J,EAAej3D,KAAKs2D,kBAAkBh3D,EAAMmiD,aAAcsV,GAC1DG,EAAcl3D,KAAKo2D,gBAAgB92D,EAAM8lC,WAAY2xB,GACrDI,EAAan3D,KAAKw2D,eAAel3D,EAAM83D,WACvCC,EAAer3D,KAAK02D,iBAAiBp3D,EAAMg4D,aAC3CV,EAAa,GAEjB,IAAK,IAAIv2D,KADTL,KAAK22D,gBAAkBpzB,GAAQszB,GAAU,SAAUU,EAAMl3D,GAAO,OAAOU,EAAM41D,gBAAgBt2D,IAAQ2oC,GAAQwuB,OAC7FX,EAAU,CACtB,IAAIY,EAAUZ,EAASx2D,GACnB+kC,EAAa8xB,EAAY72D,IAAQy1D,GACjC4B,EAAe13D,KAAK22D,gBAAgBt2D,GACxCu2D,EAAWv2D,GAAO,CACdozC,cAAegkB,EAAQhkB,eAAiBn0C,EAAMm0C,cAC9C6Z,cAAe0J,EAAe32D,IAAQ,KACtC+kC,WAAYA,EACZqc,aAAciW,EAAap4D,EAAMmiD,aAAa,IAAKgW,EAAQ7Y,GAAIqY,EAAa52D,IAC5Es3D,eAAgBvyB,EAAWzc,UAAUrpB,EAAMq4D,gBAAkBr4D,EAAMq4D,eAAiB,GACpFP,UAAWD,EAAW92D,IAAQ,KAC9Bi3D,YAAaD,EAAah3D,IAAQ,MAG1C,OAAOu2D,GAEXb,EAAS//C,UAAUmgD,eAAiB,SAAUnP,GAC1C,IAAI4Q,EAAY,GAChB,GAAI5Q,EAEA,IADA,IAAIx9B,EAAOxpB,KAAK63D,mBAAmB7Q,GAC1BtjB,EAAK,EAAGo0B,EAAStuC,EAAMka,EAAKo0B,EAAOv3D,OAAQmjC,IAAM,CACtD,IAAIrjC,EAAMy3D,EAAOp0B,GACjBk0B,EAAUv3D,GAAO2mD,EAGzB,OAAO4Q,GAEX7B,EAAS//C,UAAUigD,qBAAuB,SAAU7wB,GAChD,IAAIrkC,EAAQf,KACZ,OAAOujC,GAAQ6B,EAAWG,MAAM,SAAUU,GAAY,OAAOllC,EAAMg3D,mBAAmB9xB,OAE1F8vB,EAAS//C,UAAUqgD,iBAAmB,SAAUjxB,EAAY2xB,GACxD,IAAIxxB,EAAOH,EAAWG,KAAM5c,EAAYyc,EAAWzc,UAC/CqvC,EAAc,GAClB,IAAK,IAAIx1B,KAAS+C,EACd,IAAK,IAAI7B,EAAK,EAAGrkB,EAAK03C,EAAQv0B,GAAQkB,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CACxD,IAAIrjC,EAAMgf,EAAGqkB,GACRs0B,EAAY33D,KACb23D,EAAY33D,GAAO86C,MAEvB6c,EAAY33D,GAAKklC,KAAK/C,GAAS+C,EAAK/C,GAG5C,IAAK,IAAIG,KAAcha,EAEnB,IADA,IAAIiB,EAAWjB,EAAUga,GAChBzG,EAAK,EAAG5K,EAAKylC,EAAQntC,EAAS4Y,OAAQtG,EAAK5K,EAAG/wB,OAAQ27B,IAAM,CAC7D77B,EAAMixB,EAAG4K,GACT87B,EAAY33D,KACZ23D,EAAY33D,GAAKsoB,UAAUga,GAAc/Y,GAIrD,OAAOouC,GAEXjC,EAAS//C,UAAUugD,mBAAqB,SAAU9U,EAAcsV,GAC5D,IAAIkB,EAAc,GAClB,IAAK,IAAIz1B,KAASif,EACd,GAAIjf,EACA,IAAK,IAAIkB,EAAK,EAAGrkB,EAAK03C,EAAQv0B,GAAQkB,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CACxD,IAAIrjC,EAAMgf,EAAGqkB,GACRu0B,EAAY53D,KACb43D,EAAY53D,GAAO,IAEvB43D,EAAY53D,GAAKmiC,GAASif,EAAajf,GAInD,OAAOy1B,GAEXlC,EAAS//C,UAAUygD,kBAAoB,SAAUyB,GAC7C,IAAIC,EAAc,GAClB,GAAID,EAAa,CACb,IAAIE,EAAmBp4D,KAAKq2D,iBAAiB6B,EAAYG,eAAgBr4D,KAAKi2D,qBAAqBiC,EAAYG,iBAE3GC,EAAqBt4D,KAAKi2D,qBAAqBiC,EAAYK,eAC3DC,EAAkBx4D,KAAKq2D,iBAAiB6B,EAAYK,cAAeD,GACnEG,EAAW,SAAUp4D,GAChB83D,EAAY93D,KACb83D,EAAY93D,GAAO,CACfg4D,eAAgBD,EAAiB/3D,IAAQy1D,GACzCyC,cAAeC,EAAgBn4D,IAAQy1D,GACvC4C,QAASR,EAAYQ,WAIjC,IAAK,IAAIr4D,KAAO+3D,EACZK,EAASp4D,GAEb,IAAK,IAAIA,KAAOm4D,EACZC,EAASp4D,GAGjB,OAAO83D,GAEJpC,EAnHkB,GAqH7B,SAASyB,GAAmBmB,EAAOC,EAAe3B,GAC9C,IAAI4B,EAAY,GACZF,GACAE,EAAUjjD,KAAK+iD,GAEfC,GACAC,EAAUjjD,KAAKgjD,GAEnB,IAAIE,EAAQ,CACR,GAAIlb,GAAgBib,IAKxB,OAHI5B,GACAnkC,EAASgmC,EAAO7B,GAEb6B,EAGX,SAASC,GAAY71D,EAAM4hD,EAAYC,EAASmE,GAC5C,MAAO,CACH3nB,IAAKr+B,EAAK++B,YACV+2B,WAAYl4D,QAAQooD,IAAgB5H,GAAoB4H,EAAYC,YAAajmD,IACjF+1D,QAASn4D,QAAQooD,IAAgB5H,GAAoB4H,EAAYE,aAAclmD,IAC/EiiD,QAASrkD,QAAQgkD,GAAcxD,GAAoBwD,EAAY5hD,IAC/D+hD,OAAQnkD,QAAQikD,EAAW7hD,EAAO6hD,IAAWD,GAAc5hD,EAAO4hD,EAAW/e,OAC7Emf,SAAUpkD,QAAQikD,EAAW7hD,EAAO6hD,IAAWD,GAAc5hD,GAAQ4hD,EAAW9e,MAGxF,SAASkzB,GAAiBp+B,EAAMq+B,GAC5B,IAAI7e,EAAa,CACb,SACA,UAAYjb,GAAQvE,EAAKyG,MAoB7B,OAlBIzG,EAAKk+B,WACL1e,EAAW1kC,KAAK,oBAGZklB,EAAKqqB,UACL7K,EAAW1kC,KAAK,gBAChB0kC,EAAW1kC,KAAKujD,EAAMC,SAAS,WAE/Bt+B,EAAKmqB,QACL3K,EAAW1kC,KAAK,eAEhBklB,EAAKoqB,UACL5K,EAAW1kC,KAAK,iBAEhBklB,EAAKm+B,SACL3e,EAAW1kC,KAAK,iBAGjB0kC,EAyBX,SAAS+e,GAAiBn2D,EAAMsG,GAE5B,YADa,IAATA,IAAmBA,EAAO,OACvBuY,KAAKE,UAAU,CAClB/e,KAAMslC,GAAgBtlC,GACtBsG,KAAMA,IAId,IA0BI8vD,GA1BAC,GAAwB,KAC5B,SAASC,KAIL,OAH8B,OAA1BD,KACAA,GAAwBE,MAErBF,GAEX,SAASE,KACL,IAAIC,EAAUlxD,SAASJ,cAAc,OACrC0zB,GAAW49B,EAAS,CAChBt0D,SAAU,WACVkf,KAAM,IACNE,KAAM,EACNiL,OAAQ,EACRG,QAAS,EACT+pC,SAAU,SACVtsB,UAAW,QAEfqsB,EAAQ59C,UAAY,cACpBtT,SAAS+N,KAAK5M,YAAY+vD,GAC1B,IAAIE,EAAUF,EAAQ9wD,WAClB67B,EAAMm1B,EAAQ31C,wBAAwBO,KAAOk1C,EAAQz1C,wBAAwBO,KAEjF,OADAwW,GAAc0+B,GACPj1B,EAIX,SAASo1B,KAIL,OAHKP,KACDA,GAAmBQ,MAEhBR,GAEX,SAASQ,KACL,IAAIrkD,EAAKjN,SAASJ,cAAc,OAChCqN,EAAGrC,MAAMumD,SAAW,SACpBlkD,EAAGrC,MAAMhO,SAAW,WACpBqQ,EAAGrC,MAAMkR,IAAM,UACf7O,EAAGrC,MAAMoR,KAAO,UAChBhc,SAAS+N,KAAK5M,YAAY8L,GAC1B,IAAIgvB,EAAMs1B,GAA4BtkD,GAEtC,OADAjN,SAAS+N,KAAK1N,YAAY4M,GACnBgvB,EAGX,SAASs1B,GAA4BtkD,GACjC,MAAO,CACHgL,EAAGhL,EAAGkO,aAAelO,EAAGukD,aACxB7sD,EAAGsI,EAAG/B,YAAc+B,EAAGwkD,aAI/B,SAASC,GAAazkD,EAAI0kD,QACH,IAAfA,IAAyBA,GAAa,GAC1C,IAAIvsC,EAAgBjsB,OAAOy4D,iBAAiB3kD,GACxC4kD,EAAaruD,SAAS4hB,EAAc0sC,gBAAiB,KAAO,EAC5DC,EAAcvuD,SAAS4hB,EAAc4sC,iBAAkB,KAAO,EAC9DC,EAAYzuD,SAAS4hB,EAAc8B,eAAgB,KAAO,EAC1DgrC,EAAe1uD,SAAS4hB,EAAc+B,kBAAmB,KAAO,EAChEgrC,EAAqBZ,GAA4BtkD,GACjDmlD,EAAqBD,EAAmBxtD,EAAIktD,EAAaE,EACzDM,EAAkBF,EAAmBl6C,EAAIg6C,EAAYC,EACrDj2B,EAAM,CACN41B,WAAYA,EACZE,YAAaA,EACbE,UAAWA,EACXC,aAAcA,EACdG,gBAAiBA,EACjBC,cAAe,EACfC,eAAgB,GAcpB,OAZIvB,MAAyD,QAA5B5rC,EAAcyf,UAC3C5I,EAAIq2B,cAAgBF,EAGpBn2B,EAAIs2B,eAAiBH,EAErBT,IACA11B,EAAIu2B,YAAchvD,SAAS4hB,EAAcotC,YAAa,KAAO,EAC7Dv2B,EAAIw2B,aAAejvD,SAAS4hB,EAAcqtC,aAAc,KAAO,EAC/Dx2B,EAAI5U,WAAa7jB,SAAS4hB,EAAciC,WAAY,KAAO,EAC3D4U,EAAI3U,cAAgB9jB,SAAS4hB,EAAckC,cAAe,KAAO,GAE9D2U,EAEX,SAASy2B,GAAiBzlD,EAAI0lD,EAAiBC,QACnB,IAApBD,IAA8BA,GAAkB,GACpD,IAAIE,EAAYD,EAAuB3lD,EAAGwO,wBAA0Bq3C,GAAY7lD,GAC5E8lD,EAAQrB,GAAazkD,EAAI0lD,GACzB12B,EAAM,CACNjgB,KAAM62C,EAAU72C,KAAO+2C,EAAMlB,WAAakB,EAAMT,cAChDl2C,MAAOy2C,EAAUz2C,MAAQ22C,EAAMhB,YAAcgB,EAAMR,eACnDz2C,IAAK+2C,EAAU/2C,IAAMi3C,EAAMd,UAC3Br2C,OAAQi3C,EAAUj3C,OAASm3C,EAAMb,aAAea,EAAMV,iBAQ1D,OANIM,IACA12B,EAAIjgB,MAAQ+2C,EAAMP,YAClBv2B,EAAI7f,OAAS22C,EAAMN,aACnBx2B,EAAIngB,KAAOi3C,EAAM1rC,WACjB4U,EAAIrgB,QAAUm3C,EAAMzrC,eAEjB2U,EAEX,SAAS62B,GAAY7lD,GACjB,IAAIw/C,EAAOx/C,EAAGwO,wBACd,MAAO,CACHO,KAAMywC,EAAKzwC,KAAO7iB,OAAO8iB,YACzBH,IAAK2wC,EAAK3wC,IAAM3iB,OAAO4iB,YACvBK,MAAOqwC,EAAKrwC,MAAQjjB,OAAO8iB,YAC3BL,OAAQ6wC,EAAK7wC,OAASziB,OAAO4iB,aAGrC,SAASi3C,GAAyB/lD,GAG9B,IAFA,IAAIgmD,EAAkBC,GAAmBjmD,GACrCw/C,EAAOx/C,EAAGwO,wBACLyf,EAAK,EAAGi4B,EAAoBF,EAAiB/3B,EAAKi4B,EAAkBp7D,OAAQmjC,IAAM,CACvF,IAAIk4B,EAAiBD,EAAkBj4B,GACnCm4B,EAAe3G,GAAeD,EAAM2G,EAAe33C,yBACvD,IAAI43C,EAIA,OAAO,KAHP5G,EAAO4G,EAMf,OAAO5G,EAWX,SAASyG,GAAmBjmD,GACxB,IAAIqmD,EAAU,GACd,MAAOrmD,aAAciT,YAAa,CAC9B,IAAIkF,EAAgBjsB,OAAOy4D,iBAAiB3kD,GAC5C,GAA+B,UAA3BmY,EAAcxoB,SACd,MAEA,gBAAkBgG,KAAKwiB,EAAc+rC,SAAW/rC,EAAcK,UAAYL,EAAcmuC,YACxFD,EAAQlmD,KAAKH,GAEjBA,EAAKA,EAAGzM,WAEZ,OAAO8yD,EAOX,SAASE,GAAY99B,EAAMqrB,EAASC,GAGhC,IAAIyS,GAAa,EACbC,EAAiB,WACZD,IACDA,GAAa,EACb1S,EAAQ7hD,MAAM1H,KAAMM,aAGxB67D,EAAiB,WACZF,IACDA,GAAa,EACTzS,GACAA,EAAQ9hD,MAAM1H,KAAMM,aAI5BmkC,EAAMvG,EAAKg+B,EAAgBC,GAC3B13B,GAA2B,oBAAbA,EAAItN,MAClBsN,EAAItN,KAAK+kC,EAAgBC,GAIjC,IAAIC,GAAyB,WACzB,SAASA,IACLp8D,KAAKq8D,SAAW,GAChBr8D,KAAKs8D,YAAc,KA+BvB,OA7BAF,EAAQpmD,UAAUumD,eAAiB,SAAUD,GACzCt8D,KAAKs8D,YAAcA,GAEvBF,EAAQpmD,UAAUwmD,WAAa,SAAU/8D,GACrCO,KAAKP,QAAUA,GAEnB28D,EAAQpmD,UAAUwa,GAAK,SAAUhnB,EAAM+L,GACnCknD,GAAUz8D,KAAKq8D,SAAU7yD,EAAM+L,IAEnC6mD,EAAQpmD,UAAU21C,IAAM,SAAUniD,EAAM+L,GACpCmnD,GAAe18D,KAAKq8D,SAAU7yD,EAAM+L,IAExC6mD,EAAQpmD,UAAUqxC,QAAU,SAAU79C,GAElC,IADA,IAAI6f,EAAO,GACFqa,EAAK,EAAGA,EAAKpjC,UAAUC,OAAQmjC,IACpCra,EAAKqa,EAAK,GAAKpjC,UAAUojC,GAK7B,IAHA,IAAIi5B,EAAmB38D,KAAKq8D,SAAS7yD,IAAS,GAC1CozD,EAAgB58D,KAAKP,SAAWO,KAAKP,QAAQ+J,GAC7C6yD,EAAW,GAAG/7C,OAAOs8C,GAAiB,GAAID,GACrCt9C,EAAK,EAAGw9C,EAAaR,EAAUh9C,EAAKw9C,EAAWt8D,OAAQ8e,IAAM,CAClE,IAAI9J,EAAUsnD,EAAWx9C,GACzB9J,EAAQ7N,MAAM1H,KAAKs8D,YAAajzC,KAGxC+yC,EAAQpmD,UAAU8mD,YAAc,SAAUtzD,GACtC,OAAQxJ,KAAKq8D,SAAS7yD,IAASxJ,KAAKq8D,SAAS7yD,GAAMjJ,QAC9CP,KAAKP,SAAWO,KAAKP,QAAQ+J,IAE/B4yD,EAlCiB,GAoC5B,SAASK,GAAUp5B,EAAM75B,EAAM+L,IAC1B8tB,EAAK75B,KAAU65B,EAAK75B,GAAQ,KACxBoM,KAAKL,GAEd,SAASmnD,GAAer5B,EAAM75B,EAAM+L,GAC5BA,EACI8tB,EAAK75B,KACL65B,EAAK75B,GAAQ65B,EAAK75B,GAAMgX,QAAO,SAAU0d,GAAQ,OAAOA,IAAS3oB,aAI9D8tB,EAAK75B,GASpB,IAAIuzD,GAA+B,WAC/B,SAASA,EAAcC,EAAUC,EAAKC,EAAcC,GAChDn9D,KAAKi9D,IAAMA,EACX,IAAIG,EAAmBp9D,KAAKo9D,iBAAmBJ,EAAS/4C,wBACpDi5C,GACAl9D,KAAKq9D,mBAAmBD,EAAiB54C,MAEzC24C,GACAn9D,KAAKs9D,iBAAiBF,EAAiB94C,KA+D/C,OA3DAy4C,EAAc/mD,UAAUqnD,mBAAqB,SAAUE,GAGnD,IAFA,IAAIC,EAAQ,GACRC,EAAS,GACJ/5B,EAAK,EAAGrkB,EAAKrf,KAAKi9D,IAAKv5B,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAClD,IAAIjuB,EAAK4J,EAAGqkB,GACRuxB,EAAOx/C,EAAGwO,wBACdu5C,EAAM5nD,KAAKq/C,EAAKzwC,KAAO+4C,GACvBE,EAAO7nD,KAAKq/C,EAAKrwC,MAAQ24C,GAE7Bv9D,KAAKw9D,MAAQA,EACbx9D,KAAKy9D,OAASA,GAGlBV,EAAc/mD,UAAUsnD,iBAAmB,SAAUI,GAGjD,IAFA,IAAIC,EAAO,GACPC,EAAU,GACLl6B,EAAK,EAAGrkB,EAAKrf,KAAKi9D,IAAKv5B,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAClD,IAAIjuB,EAAK4J,EAAGqkB,GACRuxB,EAAOx/C,EAAGwO,wBACd05C,EAAK/nD,KAAKq/C,EAAK3wC,IAAMo5C,GACrBE,EAAQhoD,KAAKq/C,EAAK7wC,OAASs5C,GAE/B19D,KAAK29D,KAAOA,EACZ39D,KAAK49D,QAAUA,GAInBb,EAAc/mD,UAAU6nD,YAAc,SAAUC,GAC5C,IAEItxD,EAFA6S,EAAKrf,KAAMw9D,EAAQn+C,EAAGm+C,MAAOC,EAASp+C,EAAGo+C,OACzC5+B,EAAM2+B,EAAMj9D,OAEhB,IAAKiM,EAAI,EAAGA,EAAIqyB,EAAKryB,GAAK,EACtB,GAAIsxD,GAAgBN,EAAMhxD,IAAMsxD,EAAeL,EAAOjxD,GAClD,OAAOA,GAOnBuwD,EAAc/mD,UAAU+nD,WAAa,SAAUC,GAC3C,IAEIxxD,EAFA6S,EAAKrf,KAAM29D,EAAOt+C,EAAGs+C,KAAMC,EAAUv+C,EAAGu+C,QACxC/+B,EAAM8+B,EAAKp9D,OAEf,IAAKiM,EAAI,EAAGA,EAAIqyB,EAAKryB,GAAK,EACtB,GAAIwxD,GAAeL,EAAKnxD,IAAMwxD,EAAcJ,EAAQpxD,GAChD,OAAOA,GAMnBuwD,EAAc/mD,UAAUioD,SAAW,SAAUC,GACzC,OAAOl+D,KAAKy9D,OAAOS,GAAal+D,KAAKw9D,MAAMU,IAG/CnB,EAAc/mD,UAAUmoD,UAAY,SAAUC,GAC1C,OAAOp+D,KAAK49D,QAAQQ,GAAYp+D,KAAK29D,KAAKS,IAEvCrB,EAvEuB,GAgF9BsB,GAAkC,WAClC,SAASA,KA0BT,OAxBAA,EAAiBroD,UAAUsoD,gBAAkB,WACzC,OAAOt+D,KAAKu+D,kBAAoBv+D,KAAKw+D,mBAEzCH,EAAiBroD,UAAUyoD,iBAAmB,WAC1C,OAAOz+D,KAAK0+D,iBAAmB1+D,KAAK2+D,kBAExCN,EAAiBroD,UAAU4oD,oBAAsB,WAC7C,OAAO5+D,KAAKs+D,kBAAoB,GAEpCD,EAAiBroD,UAAU6oD,sBAAwB,WAC/C,OAAO7+D,KAAKy+D,mBAAqB,GAErCJ,EAAiBroD,UAAU8oD,YAAc,WACrC,OAAO9+D,KAAK++D,eAAiB,GAEjCV,EAAiBroD,UAAUgpD,cAAgB,WACvC,OAAOh/D,KAAK++D,eAAiB/+D,KAAKs+D,mBAEtCD,EAAiBroD,UAAUipD,cAAgB,WACvC,OAAOj/D,KAAKk/D,gBAAkB,GAElCb,EAAiBroD,UAAUmpD,eAAiB,WACxC,OAAOn/D,KAAKk/D,gBAAkBl/D,KAAKy+D,oBAEhCJ,EA3B0B,GA6BjC,GAAyC,SAAUvkC,GAEnD,SAASslC,EAAwB3pD,GAC7B,IAAI1U,EAAQ+4B,EAAO7jB,KAAKjW,OAASA,KAEjC,OADAe,EAAM0U,GAAKA,EACJ1U,EA0BX,OA9BA2xB,EAAU0sC,EAAyBtlC,GAMnCslC,EAAwBppD,UAAU+oD,aAAe,WAC7C,OAAO/+D,KAAKyV,GAAG4pD,WAEnBD,EAAwBppD,UAAUkpD,cAAgB,WAC9C,OAAOl/D,KAAKyV,GAAG6pD,YAEnBF,EAAwBppD,UAAUupD,aAAe,SAAUj7C,GACvDtkB,KAAKyV,GAAG4pD,UAAY/6C,GAExB86C,EAAwBppD,UAAUwpD,cAAgB,SAAUh7C,GACxDxkB,KAAKyV,GAAG6pD,WAAa96C,GAEzB46C,EAAwBppD,UAAU0oD,eAAiB,WAC/C,OAAO1+D,KAAKyV,GAAGgqD,aAEnBL,EAAwBppD,UAAUuoD,gBAAkB,WAChD,OAAOv+D,KAAKyV,GAAGwa,cAEnBmvC,EAAwBppD,UAAUwoD,gBAAkB,WAChD,OAAOx+D,KAAKyV,GAAGukD,cAEnBoF,EAAwBppD,UAAU2oD,eAAiB,WAC/C,OAAO3+D,KAAKyV,GAAGwkD,aAEZmF,EA/BiC,CAgC1Cf,IACE,GAAwC,SAAUvkC,GAElD,SAAS4lC,IACL,OAAkB,OAAX5lC,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KA0B/D,OA5BA0yB,EAAUgtC,EAAwB5lC,GAIlC4lC,EAAuB1pD,UAAU+oD,aAAe,WAC5C,OAAOp9D,OAAO4iB,aAElBm7C,EAAuB1pD,UAAUkpD,cAAgB,WAC7C,OAAOv9D,OAAO8iB,aAElBi7C,EAAuB1pD,UAAUupD,aAAe,SAAUxyD,GACtDpL,OAAOg+D,OAAOh+D,OAAO8iB,YAAa1X,IAEtC2yD,EAAuB1pD,UAAUwpD,cAAgB,SAAUzyD,GACvDpL,OAAOg+D,OAAO5yD,EAAGpL,OAAO4iB,cAE5Bm7C,EAAuB1pD,UAAU0oD,eAAiB,WAC9C,OAAOl2D,SAAS2yB,gBAAgBskC,aAEpCC,EAAuB1pD,UAAUuoD,gBAAkB,WAC/C,OAAO/1D,SAAS2yB,gBAAgBlL,cAEpCyvC,EAAuB1pD,UAAUwoD,gBAAkB,WAC/C,OAAOh2D,SAAS2yB,gBAAgB6+B,cAEpC0F,EAAuB1pD,UAAU2oD,eAAiB,WAC9C,OAAOn2D,SAAS2yB,gBAAgB8+B,aAE7ByF,EA7BgC,CA8BzCrB,IAEE,GAAuB,WACvB,SAASuB,EAAMhuC,GACP5xB,KAAK6/D,oBACL7/D,KAAK8/D,gBAAgBluC,EAAgB5xB,KAAK6/D,qBAkDlD,OA/CAD,EAAM5pD,UAAU8pD,gBAAkB,SAAUC,GACxC,IAAIC,EACAC,EACJ,GAAgC,kBAArBF,GAAiCA,EAAkB,CAE1D,IAAKE,KADLD,EAAkBltC,EAAS,GAAI9yB,KAAKkgE,aACjBH,EACfC,EAAgBC,GAAcjgE,KAAKmgE,wBAAwBJ,EAAiBE,IAEhFjgE,KAAKkgE,YAAcF,OAEO,IAArBD,IACL//D,KAAKkgE,YAAc,KAG3BN,EAAM5pD,UAAUmqD,wBAA0B,SAAUn4D,GAChD,IAAIo4D,EAASpgE,KAAKqgE,mBAIlB,OAHID,GAAwC,IAA9Bp4D,EAAUlG,QAAQs+D,KAC5Bp4D,EAAYo4D,EAASp4D,GAElBA,GAEX43D,EAAM5pD,UAAUojD,SAAW,SAAU/4D,GACjC,OAAOL,KAAKsgE,QAAQjgE,IAAQ,IAEhCu/D,EAAM5pD,UAAUuqD,aAAe,SAAUN,EAAYO,GACjD,IAAIx4D,EAOJ,OALIA,EADAw4D,GAASxgE,KAAKygE,gBACFzgE,KAAKygE,eAAeR,IAGpBjgE,KAAKkgE,YAAYD,GAE7Bj4D,EACOhI,KAAK0gE,cAAgB,IAAM14D,EAE/B,IAEX43D,EAAM5pD,UAAU2qD,yBAA2B,SAAUC,GACjD,IAAI54D,EACJ,OAAIhI,KAAK6gE,iCACL74D,EAAY44D,EAAkB5gE,KAAK6gE,gCAC/B74D,GACOhI,KAAK0gE,cAAgB,IAAM1gE,KAAKmgE,wBAAwBn4D,GAGhE,IAEJ43D,EArDe,GAuD1B,GAAM5pD,UAAUsqD,QAAU,GAC1B,GAAMtqD,UAAUkqD,YAAc,GAC9B,GAAMlqD,UAAU0qD,cAAgB,GAChC,GAAM1qD,UAAUqqD,mBAAqB,GAErC,IAAI,GAAiC,WACjC,SAASS,EAAgBC,EAAU3Z,EAAS5X,EAAYC,GACpD,IAAI1uC,EAAQf,KACZA,KAAK+gE,SAAWA,EAChB/gE,KAAKonD,QAAUA,EACfpnD,KAAKwvC,WAAaA,EAClBxvC,KAAKyvC,gBAAkBA,EACvBzvC,KAAKghE,oBAAsB,SAAUC,GACjClgE,EAAMmgE,cAAgBpuC,EAAS,GAAI/xB,EAAMmgE,eAAiB,GAAID,GAC9DlgE,EAAMogE,SAEV/Z,EAAQ52B,GAAG,iBAAkBxwB,KAAKghE,qBAClChhE,KAAKohE,oBAuBT,OArBAN,EAAgB9qD,UAAUqrD,OAAS,WAC/BrhE,KAAKonD,QAAQuE,IAAI,iBAAkB3rD,KAAKghE,sBAE5CF,EAAgB9qD,UAAUsrD,OAAS,SAAUC,GACrCA,GAAcvhE,KAAKyvC,gBACnBzvC,KAAKohE,oBAGLphE,KAAKmhE,SAGbL,EAAgB9qD,UAAUorD,kBAAoB,WAC1CphE,KAAKghE,oBAAoB,CACrB9R,KAAMlvD,KAAKwvC,cAGnBsxB,EAAgB9qD,UAAUmrD,MAAQ,WAC1BnhE,KAAKkhE,eAAiBlhE,KAAK+gE,SAAS/gE,KAAKkhE,iBACzClhE,KAAKkhE,cAAgB,OAGtBJ,EAnCyB,GAsChCU,GAAkB,GAAc,IACpC,SAASC,GAAiBC,EAAUha,EAASia,EAAaC,EAAsB/8B,EAASs0B,EAAO7zB,EAAa9K,EAAUwuB,EAAgB5B,EAASO,EAAaka,EAA8BC,GACvL,MAAO,CACHj9B,QAASA,EACTplC,QAASkiE,EACTr8B,YAAaA,EACb8hB,QAASA,EACT5sB,SAAUA,EACVwuB,eAAgBA,EAChBrB,YAAaA,EACb+Z,SAAUA,EACVha,QAASA,EACTka,qBAAsBA,EACtBzI,MAAOA,EACPqH,MAAiC,QAA1BmB,EAAYt0B,UACnB00B,iBAAkB,SAAUxsD,GACxB6xC,EAAQ52B,GAAG,UAAWjb,IAE1BysD,oBAAqB,SAAUzsD,GAC3B6xC,EAAQuE,IAAI,UAAWp2C,IAE3B0sD,sBAAuB,SAAUlB,GAC7B,OAAO,IAAI,GAAgBA,EAAU3Z,EAAS5gB,GAAem7B,EAAYnyB,YAAamyB,EAAYlyB,kBAEtGoyB,6BAA8BA,EAC9BC,+BAAgCA,GAKxC,IAAI,GAA+B,SAAUhoC,GAEzC,SAASooC,IACL,OAAkB,OAAXpoC,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAa/D,OAfA0yB,EAAUwvC,EAAepoC,GAIzBooC,EAAclsD,UAAU0f,sBAAwB,SAAUysC,EAAWC,GAKjE,OAJIpiE,KAAKqiE,OAELv/D,QAAQw/D,IAAIv+B,GAAgBo+B,EAAWniE,KAAKV,OAAQykC,GAAgBq+B,EAAWpiE,KAAKo1B,SAEhF4O,GAAYhkC,KAAKV,MAAO6iE,EAAWniE,KAAKuiE,gBAC3Cv+B,GAAYhkC,KAAKo1B,MAAOgtC,EAAWpiE,KAAKwiE,gBAEjDN,EAAcO,iBAAmBA,GACjCP,EAAcQ,iBAAmBA,GACjCR,EAAcltC,YAAcwsC,GACrBU,EAhBuB,CAiBhC1oC,IACF,GAAcxjB,UAAUusD,aAAe,GACvC,GAAcvsD,UAAUwsD,cAAgB,GACxC,IAAI,GAA+B,SAAU1oC,GAEzC,SAAS6oC,IACL,OAAkB,OAAX7oC,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAG/D,OALA0yB,EAAUiwC,EAAe7oC,GAIzB6oC,EAAc3tC,YAAcwsC,GACrBmB,EANuB,CAOhC,IACF,SAASF,GAAiBF,GACtB,IAAIl/B,EAAO/xB,OAAOuhB,OAAO7yB,KAAKgW,UAAUusD,cACxCzvC,EAASuQ,EAAMk/B,GACfviE,KAAKgW,UAAUusD,aAAel/B,EAElC,SAASq/B,GAAiBF,GACtB,IAAIn/B,EAAO/xB,OAAOuhB,OAAO7yB,KAAKgW,UAAUwsD,eACxC1vC,EAASuQ,EAAMm/B,GACfxiE,KAAKgW,UAAUwsD,cAAgBn/B,EAGnC,SAASu/B,GAAOnyC,EAAKpW,GACE,oBAARoW,EACPA,EAAIpW,GAECoW,IAELA,EAAIpW,QAAUA,GAWtB,IAAI,GAA+B,SAAUyf,GAEzC,SAAS+oC,IACL,IAAI9hE,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAEhE,OADAe,EAAM+hE,IAAMxlC,KACLv8B,EAsBX,OA1BA2xB,EAAUmwC,EAAe/oC,GAQzB+oC,EAAc7sD,UAAU+sD,YAAc,aAEtCF,EAAc7sD,UAAUgtD,SAAW,SAAUC,EAAcC,EAAaC,EAASC,GAC7E,OAAO,MAIXP,EAAc7sD,UAAUqtD,iBAAmB,SAAU5tD,GACjD,OAAQzV,KAAKV,MAAM83D,YACdp3D,KAAKV,MAAMg4D,cACXr8B,GAAexlB,EAAI,qBAE5BotD,EAAc7sD,UAAUstD,kBAAoB,SAAU7tD,GAClD,OAAQwlB,GAAexlB,EAAI,iCACtBwlB,GAAexlB,EAAI,mBACnBwlB,GAAexlB,EAAI,qBACnBwlB,GAAexlB,EAAI,gBAErBotD,EA3BuB,CA4BhC,IAGF,SAASU,GAAavxD,GAClB,MAAO,CACHkb,GAAIoQ,KACJkmC,KAAMxxD,EAAMwxD,MAAQ,GACpBC,SAAUzxD,EAAMyxD,UAAY,GAC5BC,eAAgB1xD,EAAM0xD,gBAAkB,GACxCC,YAAa,GAAGrjD,OAAOtO,EAAM2xD,aAAe,IAC5CvoB,cAAeppC,EAAMopC,eAAiB,GACtCyD,qBAAsB7sC,EAAM6sC,sBAAwB,GACpDsL,oBAAqBn4C,EAAMm4C,qBAAuB,GAClDxG,wBAAyB3xC,EAAM2xC,yBAA2B,GAC1DigB,2BAA4B5xD,EAAM4xD,4BAA8B,GAChElb,yBAA0B12C,EAAM02C,0BAA4B,GAC5Dmb,0BAA2B7xD,EAAM6xD,2BAA6B,GAC9DC,oBAAqB9xD,EAAM8xD,qBAAuB,GAClDjc,mBAAoB71C,EAAM61C,oBAAsB,GAChDlO,MAAO3nC,EAAM2nC,OAAS,GACtBoqB,sBAAuB/xD,EAAM+xD,uBAAyB,GACtDC,aAAchyD,EAAMgyD,cAAgB,KACpCC,sBAAuBjyD,EAAMiyD,uBAAyB,GACtDC,qBAAsBlyD,EAAMkyD,sBAAwB,GACpDC,sBAAuBnyD,EAAMmyD,uBAAyB,GACtDC,sBAAuBpyD,EAAMoyD,uBAAyB,GACtDC,qBAAsBryD,EAAMqyD,sBAAwB,GACpDC,aAActyD,EAAMsyD,cAAgB,GACpCla,gBAAiBp4C,EAAMo4C,iBAAmB,GAC1Cvb,aAAc78B,EAAM68B,aACpB/J,eAAgB9yB,EAAM8yB,gBAAkB,GACxCy/B,mBAAoBvyD,EAAMuyD,mBAC1BzzB,YAAa9+B,EAAM8+B,aAAe,GAClC0zB,oBAAqBxyD,EAAMwyD,oBAC3BC,qBAAsBzyD,EAAMyyD,sBAAwB,GACpDC,eAAgB1yD,EAAM0yD,gBAAkB,KACxCC,oBAAqB3yD,EAAM2yD,qBAAuB,GAClDC,iBAAkB5yD,EAAM4yD,kBAAoB,GAC5CC,eAAgB7yD,EAAM6yD,gBAAkB,GACxCC,gBAAiB9yD,EAAM8yD,iBAAmB,IAGlD,SAASC,GAAiBC,EAAYC,GAClC,IAAIC,EAAU,GACVv9C,EAAQ,CACR87C,SAAU,GACVC,eAAgB,GAChBC,YAAa,GACbvoB,cAAe,GACfyD,qBAAsB,GACtBsL,oBAAqB,GACrBxG,wBAAyB,GACzBigB,2BAA4B,GAC5Blb,yBAA0B,GAC1Bmb,0BAA2B,GAC3BC,oBAAqB,GACrBjc,mBAAoB,GACpBlO,MAAO,GACPoqB,sBAAuB,GACvBC,aAAc,KACdC,sBAAuB,GACvBC,qBAAsB,GACtBC,sBAAuB,GACvBC,sBAAuB,GACvBC,qBAAsB,GACtBC,aAAc,GACdla,gBAAiB,GACjBvb,aAAc,KACd/J,eAAgB,GAChBy/B,mBAAoB,KACpBzzB,YAAa,GACb0zB,oBAAqB,KACrBC,qBAAsB,GACtBC,eAAgB,KAChBC,oBAAqB,GACrBC,iBAAkB,GAClBC,eAAgB,GAChBC,gBAAiB,IAErB,SAASK,EAAQ5/B,GACb,IAAK,IAAI7B,EAAK,EAAG0hC,EAAS7/B,EAAM7B,EAAK0hC,EAAO7kE,OAAQmjC,IAAM,CACtD,IAAI+B,EAAM2/B,EAAO1hC,GACZwhC,EAAQz/B,EAAIvY,MACbg4C,EAAQz/B,EAAIvY,KAAM,EAClBi4C,EAAQ1/B,EAAI+9B,MACZ77C,EAAQ09C,GAAa19C,EAAO8d,KAQxC,OAJIu/B,GACAG,EAAQH,GAEZG,EAAQF,GACDt9C,EAEX,SAAS29C,KACL,IAEIC,EAFAC,EAAsB,GACtBC,EAAoB,GAExB,OAAO,SAAUC,EAAcT,GAM3B,OALKM,GAAiB38B,GAAc88B,EAAcF,IAAyB58B,GAAcq8B,EAAYQ,KACjGF,EAAeR,GAAiBW,EAAcT,IAElDO,EAAsBE,EACtBD,EAAoBR,EACbM,GAGf,SAASF,GAAaM,EAAQC,GAC1B,MAAO,CACHnC,SAAUkC,EAAOlC,SAASnjD,OAAOslD,EAAOnC,UACxCC,eAAgBiC,EAAOjC,eAAepjD,OAAOslD,EAAOlC,gBACpDC,YAAagC,EAAOhC,YAAYrjD,OAAOslD,EAAOjC,aAC9CvoB,cAAetoB,EAASA,EAAS,GAAI6yC,EAAOvqB,eAAgBwqB,EAAOxqB,eACnEyD,qBAAsB8mB,EAAO9mB,qBAAqBv+B,OAAOslD,EAAO/mB,sBAChEsL,oBAAqBr3B,EAASA,EAAS,GAAI6yC,EAAOxb,qBAAsByb,EAAOzb,qBAC/ExG,wBAAyBgiB,EAAOhiB,wBAAwBrjC,OAAOslD,EAAOjiB,yBACtEigB,2BAA4B+B,EAAO/B,2BAA2BtjD,OAAOslD,EAAOhC,4BAC5Elb,yBAA0Bid,EAAOjd,yBAAyBpoC,OAAOslD,EAAOld,0BACxEmb,0BAA2B8B,EAAO9B,0BAA0BvjD,OAAOslD,EAAO/B,2BAC1EC,oBAAqB6B,EAAO7B,oBAAoBxjD,OAAOslD,EAAO9B,qBAC9Djc,mBAAoB8d,EAAO9d,mBAAmBvnC,OAAOslD,EAAO/d,oBAC5DlO,MAAO7mB,EAASA,EAAS,GAAI6yC,EAAOhsB,OAAQisB,EAAOjsB,OACnDoqB,sBAAuB4B,EAAO5B,sBAAsBzjD,OAAOslD,EAAO7B,uBAClEC,aAAc4B,EAAO5B,cAAgB2B,EAAO3B,aAC5CC,sBAAuB0B,EAAO1B,sBAAsB3jD,OAAOslD,EAAO3B,uBAClEC,qBAAsByB,EAAOzB,qBAAqB5jD,OAAOslD,EAAO1B,sBAChEC,sBAAuBwB,EAAOxB,sBAAsB7jD,OAAOslD,EAAOzB,uBAClEE,qBAAsBsB,EAAOtB,qBAAqB/jD,OAAOslD,EAAOvB,sBAChED,sBAAuBuB,EAAOvB,sBAAsB9jD,OAAOslD,EAAOxB,uBAClEE,aAAcxxC,EAASA,EAAS,GAAI6yC,EAAOrB,cAAesB,EAAOtB,cACjEla,gBAAiBub,EAAOvb,gBAAgB9pC,OAAOslD,EAAOxb,iBACtDvb,aAAc+2B,EAAO/2B,cAAgB82B,EAAO92B,aAC5C/J,eAAgB6gC,EAAO7gC,eAAexkB,OAAOslD,EAAO9gC,gBACpDy/B,mBAAoBqB,EAAOrB,oBAAsBoB,EAAOpB,mBACxDzzB,YAAa60B,EAAO70B,aAAe80B,EAAO90B,YAC1C0zB,oBAAqBmB,EAAOnB,qBAAuBoB,EAAOpB,oBAC1DC,qBAAsB3xC,EAASA,EAAS,GAAI6yC,EAAOlB,sBAAuBmB,EAAOnB,sBACjFC,eAAgBkB,EAAOlB,gBAAkBiB,EAAOjB,eAChDC,oBAAqB7xC,EAASA,EAAS,GAAI6yC,EAAOhB,qBAAsBiB,EAAOjB,qBAC/EC,iBAAkB9xC,EAASA,EAAS,GAAI6yC,EAAOf,kBAAmBgB,EAAOhB,kBACzEC,eAAgB/xC,EAASA,EAAS,GAAI6yC,EAAOd,gBAAiBe,EAAOf,gBACrEC,gBAAiBhyC,EAASA,EAAS,GAAI6yC,EAAOb,iBAAkBc,EAAOd,kBAI/E,IAAI,GAA+B,SAAUhrC,GAEzC,SAAS+rC,IACL,OAAkB,OAAX/rC,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAE/D,OAJA0yB,EAAUmzC,EAAe/rC,GAIlB+rC,EALuB,CAMhC,IA0BF,SAASC,GAAgBC,EAAgBC,GACrC,IACIna,EADAxoB,EAAO,GAEX,IAAKwoB,KAAYka,EACbE,GAAcpa,EAAUxoB,EAAM0iC,EAAgBC,GAElD,IAAKna,KAAYma,EACbC,GAAcpa,EAAUxoB,EAAM0iC,EAAgBC,GAElD,OAAO3iC,EAEX,SAAS4iC,GAAcpa,EAAUxoB,EAAM0iC,EAAgBC,GACnD,GAAI3iC,EAAKwoB,GACL,OAAOxoB,EAAKwoB,GAEhB,IAAIqa,EAAUC,GAAata,EAAUxoB,EAAM0iC,EAAgBC,GAI3D,OAHIE,IACA7iC,EAAKwoB,GAAYqa,GAEdA,EAEX,SAASC,GAAata,EAAUxoB,EAAM0iC,EAAgBC,GAClD,IAAIv0D,EAAgBs0D,EAAela,GAC/Bua,EAAiBJ,EAAgBna,GACjCwa,EAAY,SAAUnlE,GAAQ,OAASuQ,GAAyC,OAAxBA,EAAcvQ,GAAkBuQ,EAAcvQ,GACpGklE,GAA2C,OAAzBA,EAAellE,GAAkBklE,EAAellE,GAAQ,MAC5EolE,EAAeD,EAAU,aACzBE,EAAYF,EAAU,aACtBG,EAAW,KACf,GAAID,EAAW,CACX,GAAIA,IAAc1a,EACd,MAAM,IAAIj8C,MAAM,wDAEpB42D,EAAWP,GAAcM,EAAWljC,EAAM0iC,EAAgBC,GAK9D,OAHKM,GAAgBE,IACjBF,EAAeE,EAAStsB,WAEvBosB,EAGE,CACH98D,KAAMqiD,EACN3R,UAAWosB,EACXtyD,SAAU8e,EAASA,EAAS,GAAK0zC,EAAWA,EAASxyD,SAAW,IAAOvC,EAAgBA,EAAcg1D,WAAa,IAClHC,UAAW5zC,EAASA,EAAS,GAAK0zC,EAAWA,EAASE,UAAY,IAAON,EAAiBA,EAAeK,WAAa,KAN/G,KAhEf,GAAczwD,UAAUsqD,QAAU,CAC9Bp1C,KAAM,oBACNy7C,gBAAiB,iBACjBC,YAAa,kBACbC,OAAQ,8BACRC,aAAc,oBAElB,GAAc9wD,UAAU0qD,cAAgB,UACxC,GAAc1qD,UAAUkqD,YAAc,CAClC7hD,MAAO,YACPkuC,KAAM,uBACNC,KAAM,wBACNC,SAAU,wBACVE,SAAU,0BAEd,GAAc32C,UAAUyqD,eAAiB,CACrClU,KAAM,wBACNC,KAAM,uBACNC,SAAU,yBACVE,SAAU,yBAEd,GAAc32C,UAAU6pD,mBAAqB,cAC7C,GAAc7pD,UAAU6qD,+BAAiC,OACzD,GAAc7qD,UAAUqqD,mBAAqB,WAqD7C,IAAI,GAA4B,SAAUvmC,GAEtC,SAASitC,IACL,IAAIhmE,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAQhE,OAPAe,EAAMimE,UAAYvtC,KAClB14B,EAAMkmE,aAAe,SAAUxxD,GAC3BmtD,GAAO7hE,EAAMimE,UAAWvxD,GACpB1U,EAAMzB,MAAM4nE,OACZtE,GAAO7hE,EAAMzB,MAAM4nE,MAAOzxD,IAG3B1U,EAQX,OAlBA2xB,EAAUq0C,EAAYjtC,GAYtBitC,EAAW/wD,UAAUma,OAAS,WAC1B,IAAIpvB,EAAQf,KACRV,EAAQU,KAAKV,MACb6nE,EAAY7nE,EAAM6nE,UACtB,OAAQ/+D,GAAc,GAAW,CAAE++D,UAAWA,EAAW5sB,SAAUj7C,EAAMi7C,SAAUC,YAAal7C,EAAMk7C,YAAa0sB,MAAOlnE,KAAKinE,eAAgB,SAAUD,GAAa,OAAQ5+D,GAAcg/D,GAAa,CAAED,UAAWA,EAAW7+D,QAAShJ,EAAMgJ,QAAS++D,eAAgB/nE,EAAM+nE,eAAgBC,YAAavmE,EAAMimE,YAAa,SAAUO,EAAYC,GAAgB,OAAOloE,EAAM2a,SAAS+sD,EAAWS,GAAoBnoE,EAAMg7C,WAAY6sB,GAAYI,EAAYC,UAEjcT,EAnBoB,CAoB7B,IAGEW,GAA6B,GAAc,GAC/C,SAASN,GAAY9nE,GACjB,OAAQ8I,GAAcs/D,GAA2B9wC,SAAU,MAAM,SAAU+wC,GAAY,OAAQv/D,GAAc,GAAkB0qB,EAAS,CAAE60C,SAAUA,GAAYroE,OAEpK,IAAI,GAAkC,SAAUw6B,GAE5C,SAAS8tC,IACL,IAAI7mE,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAEhE,OADAe,EAAMwmE,WAAa9tC,KACZ14B,EAuEX,OA3EA2xB,EAAUk1C,EAAkB9tC,GAM5B8tC,EAAiB5xD,UAAUma,OAAS,WAChC,OAAOnwB,KAAKV,MAAM2a,SAASja,KAAKunE,WAAYvnE,KAAK6nE,uBAErDD,EAAiB5xD,UAAUwf,kBAAoB,WAC3Cx1B,KAAK8nE,uBAETF,EAAiB5xD,UAAU4f,mBAAqB,WAC5C51B,KAAK8nE,uBAETF,EAAiB5xD,UAAU2gB,qBAAuB,WAC1C32B,KAAK+nE,mBAAqB/nE,KAAK+nE,kBAAkBzpD,SACjDte,KAAK+nE,kBAAkBzpD,WAG/BspD,EAAiB5xD,UAAU6xD,mBAAqB,WAC5C,IAAIE,EAAoB/nE,KAAK+nE,kBACzBP,EAAexnE,KAAKgoE,kBACpBltC,EAAO96B,KAAKioE,eAAeT,GAmB/B,OAjBKO,GAAqBA,EAAkBG,aAAeptC,EAAKotC,WAcvDH,IACLA,EAAkBI,WAAaX,EAAa1sC,EAAKotC,cAb7CH,IACIA,EAAkBzpD,SAClBypD,EAAkBzpD,UAEtBypD,EAAoB/nE,KAAK+nE,kBAAoB,MAG7CjtC,EAAKotC,aACLH,EAAoB/nE,KAAK+nE,kBAAoBj1C,EAAS,CAAEo1C,WAAYptC,EAAKotC,WAAYC,WAAYX,EAAa1sC,EAAKotC,aAAeptC,EAAKstC,yBAOxIL,EACD,GACAP,GAEVI,EAAiB5xD,UAAUgyD,gBAAkB,WACzC,IAAI1oE,EAAQU,KAAKV,MACbkoE,EAAea,GAAiB/oE,EAAMgJ,QAAShJ,EAAM6nE,WAIzD,YAHqB3mE,IAAjBgnE,IACAA,EAAea,GAAiB/oE,EAAM+nE,eAAgB/nE,EAAM6nE,YAEzC,MAAhBK,EAAuB,KAAOA,GAEzCI,EAAiB5xD,UAAUiyD,eAAiB,SAAUT,GAClD,IAAI7C,EAAsB3kE,KAAKsrB,QAAQga,YAAYq/B,oBAC/CuD,EAAa,GACbE,EAAsB,KAC1B,GAAIZ,EACA,IAAK,IAAIc,KAAa3D,EAClB,QAAgCnkE,IAA5BgnE,EAAac,GAA0B,CACvCJ,EAAaI,EACbF,EAAsBzD,EAAoB2D,GAC1C,MAIZ,MAAO,CAAEJ,WAAYA,EAAYE,oBAAqBA,IAE1DR,EAAiB5xD,UAAU8xD,oBAAsB,WACzC9nE,KAAK+nE,mBACL/nE,KAAK+nE,kBAAkB53C,OAAOnwB,KAAKunE,WAAWltD,SAAWra,KAAKV,MAAMgoE,YAAYjtD,QAChFra,KAAK+nE,kBAAkBI,aAGxBP,EA5E0B,CA6EnC,IACE,GAA2B,SAAU9tC,GAErC,SAASyuC,IACL,IAAIxnE,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAOhE,OANAe,EAAMkmE,aAAe,SAAUuB,GAC3BznE,EAAMynE,OAASA,EACXznE,EAAMzB,MAAM4nE,OACZtE,GAAO7hE,EAAMzB,MAAM4nE,MAAOsB,IAG3BznE,EAiBX,OA1BA2xB,EAAU61C,EAAWzuC,GAWrByuC,EAAUvyD,UAAUma,OAAS,WACzB,OAAOnwB,KAAKV,MAAM2a,SAASja,KAAKinE,eAEpCsB,EAAUvyD,UAAUwf,kBAAoB,WACpC,IAAI/K,EAAWzqB,KAAKV,MAAMi7C,SACtB9vB,GACAA,EAASqI,EAASA,EAAS,GAAI9yB,KAAKV,MAAM6nE,WAAY,CAAE1xD,GAAIzV,KAAKwoE,WAGzED,EAAUvyD,UAAU2gB,qBAAuB,WACvC,IAAIlM,EAAWzqB,KAAKV,MAAMk7C,YACtB/vB,GACAA,EAASqI,EAASA,EAAS,GAAI9yB,KAAKV,MAAM6nE,WAAY,CAAE1xD,GAAIzV,KAAKwoE,WAGlED,EA3BmB,CA4B5B,IACF,SAASE,KACL,IAAIC,EACAC,EACAC,EAAoB,GACxB,OAAO,SAAUC,EAAW1B,GAMxB,OALKwB,GAAqB7kC,GAAa6kC,EAAkBxB,IAAc0B,IAAcH,IACjFA,EAAmBG,EACnBF,EAAmBxB,EACnByB,EAAoBnB,GAAoBoB,EAAW1B,IAEhDyB,GAGf,SAASnB,GAAoBntB,EAAY6sB,GAIrC,MAH0B,oBAAf7sB,IACPA,EAAaA,EAAW6sB,IAErBtqB,GAAgBvC,GAE3B,SAAS+tB,GAAiBr2D,EAAOm1D,GAC7B,MAAqB,oBAAVn1D,EACAA,EAAMm1D,EAAW/+D,IAErB4J,EAGX,IAAI,GAA0B,SAAU8nB,GAEpC,SAASgvC,IACL,IAAI/nE,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAEhE,OADAe,EAAM0mE,oBAAsBgB,KACrB1nE,EASX,OAbA2xB,EAAUo2C,EAAUhvC,GAMpBgvC,EAAS9yD,UAAUma,OAAS,WACxB,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1C7rB,EAAU6rB,EAAQ7rB,QAClB0nE,EAAY,CAAE1f,KAAMn8B,EAAQo8B,SAC5BqhB,EAAmB/oE,KAAKynE,oBAAoBhoE,EAAQ+xC,eAAgB21B,GACxE,OAAQ/+D,GAAc,GAAW,CAAE++D,UAAWA,EAAW5sB,SAAU96C,EAAQgyC,aAAc+I,YAAa/6C,EAAQiyC,gBAAiBw1B,MAAO5nE,EAAM4nE,QAAS,SAAUF,GAAa,OAAO1nE,EAAM2a,SAAS+sD,EAAW,CAAC,MAAQ1nE,EAAMoiE,SAASl4D,KAAO,QAAS,WAAW8W,OAAOyoD,QAEpQD,EAdkB,CAe3B,IAEF,SAASE,GAAiBC,GACtB,OAAO1lC,GAAQ0lC,EAAQC,IAE3B,SAASA,GAAgBl3D,GACrB,IAAIy0D,EAA8B,oBAAVz0D,EACpB,CAAEkoC,UAAWloC,GACbA,EACAkoC,EAAYusB,EAAWvsB,UAK3B,OAJIusB,EAAWn+D,UACX4xC,EAAYivB,GAAwB1C,IAGjC,CACHF,UAAWE,EAAWj9D,KACtB0wC,UAAWA,EACXusB,WAAYA,GAGpB,SAAS0C,GAAwB1pE,GAC7B,OAAO,SAAU2pE,GAAa,OAAQhhE,GAAco5D,GAAgB5qC,SAAU,MAAM,SAAUtL,GAAW,OAAQljB,GAAc,GAAU,CAAEs5D,SAAUp2C,EAAQo2C,WAAY,SAAU2H,EAAW73B,GAC1L,IAAI21B,EAAYr0C,EAASA,EAAS,GAAIs2C,GAAY,CAAE75B,iBAAkBjkB,EAAQ7rB,QAAQ8vC,mBACtF,OAAQnnC,GAAc,GAAY,CAAE++D,UAAWA,EAAW7sB,WAAY76C,EAAQ66C,WAAYhyC,QAAS7I,EAAQ6I,QAASiyC,SAAU96C,EAAQ86C,SAAUC,YAAa/6C,EAAQ+6C,YAAa0sB,MAAOmC,IAAa,SAAUrC,EAAW+B,EAAkBxB,EAAYC,GAAgB,OAAQp/D,GAAc,MAAO,CAAEJ,UAAWwpC,EAAelxB,OAAOyoD,GAAkB36D,KAAK,KAAMqiB,IAAKu2C,GAAaQ,aAIhY,SAAS8B,GAAeC,EAAeC,EAAiBC,EAAwBC,GAC5E,IAAI3D,EAAiBiD,GAAiBO,GAClCvD,EAAkBgD,GAAiBQ,EAAgB7vB,OACnDgwB,EAAW7D,GAAgBC,EAAgBC,GAC/C,OAAOziC,GAAQomC,GAAU,SAAUzD,GAAW,OAAO0D,GAAc1D,EAASF,EAAiBwD,EAAiBC,EAAwBC,MAE1I,SAASE,GAAc1D,EAASF,EAAiBwD,EAAiBC,EAAwBC,GACtF,IAAIG,EAAgB3D,EAAQQ,UAAUp2D,UAClC41D,EAAQlyD,SAAS1D,UACjBm5D,EAAuBn5D,UACvBk5D,EAAgBl5D,SAChBA,EAAW,KACXw5D,EAAe,GACfxd,EAAa,GACbyd,EAAsB,GAC1B,GAAIF,IACAv5D,EAAW05D,GAAqBH,GAC5Bv5D,GAAU,CACV,IAAI25D,EAAQ9hC,GAA4B73B,GACxCw5D,EAAeG,EAAMxjC,KACD,IAAhBwjC,EAAMxpE,QACN6rD,EAAawd,EACbC,EAAsB/D,EAAgB8D,GAAgB9D,EAAgB8D,GAAcrD,WAAa,IAI7G,IAAIyD,EAAkB,SAAUC,GAC5B,IAAIC,EAAgBD,EAAczwB,YAAc,GAC5CS,EAAgB+rB,EAAQlyD,SAASmmC,cACrC,OAAqB,MAAjBA,GAAyD,MAAhCiwB,EAAcjwB,GAChCiwB,EAAcjwB,GAEU,MAA/BiwB,EAAclE,EAAQ18D,MACf4gE,EAAclE,EAAQ18D,MAEA,MAA7B4gE,EAAc9d,GACP8d,EAAc9d,GAElB,MAEX,MAAO,CACH9iD,KAAM08D,EAAQ18D,KACd0wC,UAAWgsB,EAAQhsB,UACnB5pC,SAAUA,EACVw5D,aAAcA,EACdxd,WAAYA,EACZ+d,eAAgBnE,EAAQlyD,SACxBw1D,gBAAiB12C,EAASA,EAAS,GAAIi3C,GAAsB7D,EAAQQ,WACrE4D,mBAAoBJ,EAAgBT,IAChCS,EAAgBV,IAChBtD,EAAQQ,UAAUhtB,WACtB6wB,kBAAmBL,EAAgBR,IAC/BxD,EAAQlyD,SAAS0lC,YACjBwwB,EAAgB9xB,KAChB8tB,EAAQ18D,MAIpB,IAAIghE,GAAmB,GACvB,SAASR,GAAqBH,GAC1B,IAAIY,EAAO1oD,KAAKE,UAAU4nD,GACtBplC,EAAM+lC,GAAiBC,GAK3B,YAJYjqE,IAARikC,IACAA,EAAM+B,GAAeqjC,GACrBW,GAAiBC,GAAQhmC,GAEtBA,EAGX,IAAIimC,GAAsC,WACtC,SAASA,EAAqBprE,GAC1BU,KAAKV,MAAQA,EACbU,KAAK+kD,QAAU6F,GAAOtrD,EAAMurD,SAAUvrD,EAAMulC,SAC5C7kC,KAAK2qE,iBA+ST,OA1SAD,EAAqB10D,UAAU40D,UAAY,SAAUC,EAAoBtgB,EAAaugB,GAClF,IAAIjmC,EAAU7kC,KAAKV,MAAMulC,QACrBkmC,EAAWlmC,EAAQwB,SAASxB,EAAQwtB,QAAQ9H,EAAasgB,EAAmBG,kBAChFH,EAAmBtzB,eACnB,OAAOv3C,KAAKsS,MAAMy4D,GAAW,EAAGD,IAGpCJ,EAAqB10D,UAAUi1D,UAAY,SAAUJ,EAAoBtgB,EAAaugB,GAClF,IAAIjmC,EAAU7kC,KAAKV,MAAMulC,QACrBqmC,EAAWrmC,EAAQ38B,IAAI28B,EAAQwtB,QAAQ9H,EAAasgB,EAAmBG,kBAC3EH,EAAmBtzB,eACnB,OAAOv3C,KAAKsS,MAAM44D,EAAU,EAAGJ,IAKnCJ,EAAqB10D,UAAU1D,MAAQ,SAAUi4C,EAAald,EAAWy9B,QAChD,IAAjBA,IAA2BA,GAAe,GAC9C,IACInzB,EACAwzB,EACAC,EACAC,EACAliB,EACAmiB,EANAhsE,EAAQU,KAAKV,MAyBjB,OAlBAq4C,EAAa33C,KAAKurE,kBAClB5zB,EAAa33C,KAAKwrE,eAAe7zB,GAC7BmzB,IACAvgB,EAAchJ,GAAuBgJ,EAAa5S,IAEtDwzB,EAAcnrE,KAAKyrE,sBAAsBlhB,EAAald,GACtD+9B,EAAgB,0BAA0BhgE,KAAK+/D,EAAY1kC,MAC3D4kC,EAAcrrE,KAAK0rE,iBAAiB1rE,KAAKwrE,eAAeL,EAAY5kD,OAAQ4kD,EAAY1kC,KAAM2kC,GAC9FC,EAAcrrE,KAAKwrE,eAAeH,GAClCliB,EAAckiB,EACT/rE,EAAM0yC,sBACPmX,EAAcpI,GAAgBoI,EAAagiB,EAAY5kD,QAE3D4iC,EAAcnpD,KAAK2rE,kBAAkBxiB,GACrCA,EAAcpI,GAAgBoI,EAAaxR,GAG3C2zB,EAAUpqB,GAAgBiqB,EAAY5kD,MAAOoxB,GACtC,CAGHA,WAAYA,EAGZyR,aAAc+hB,EAAY5kD,MAE1BykD,iBAAkBG,EAAY1kC,KAC9B2kC,cAAeA,EAGfjiB,YAAaA,EAGbkiB,YAAaA,EAEb37B,YAAapwC,EAAMowC,YAEnBC,YAAarwC,EAAMqwC,YACnB27B,QAASA,EAET/zB,cAAev3C,KAAK4rE,mBAAmBT,EAAY76D,YAO3Do6D,EAAqB10D,UAAUu1D,gBAAkB,WAC7C,IAAIv5D,EAAQhS,KAAKV,MAAMusE,gBACnBC,EAA+B,oBAAV95D,EACnBA,EAAMiE,KAAKjW,KAAKV,MAAMqoD,YAAa3nD,KAAK+kD,SACxC/yC,EACN,OAAOhS,KAAK+rE,YAAYD,IACpB,CAAE/lC,MAAO,KAAMC,IAAK,OAM5B0kC,EAAqB10D,UAAUy1D,sBAAwB,SAAUvoE,EAAMmqC,GACnE,IAIIgK,EAJA/3C,EAAQU,KAAKV,MACbgR,EAAW,KACXm2B,EAAO,KACPlgB,EAAQ,KAmBZ,OAjBIjnB,EAAMgR,UACNA,EAAWhR,EAAMgR,SACjBm2B,EAAOnnC,EAAMwqE,aACbvjD,EAAQvmB,KAAKgsE,uBAAuB9oE,EAAMmqC,EAAW/8B,EAAUm2B,KAEzD4Q,EAAWr3C,KAAKV,MAAM+3C,WAC5B5Q,EAAO,MACPlgB,EAAQvmB,KAAKisE,uBAAuB/oE,EAAMmqC,EAAWgK,KAE/C9wB,EAAQvmB,KAAKksE,wBAAwBhpE,IAC3CujC,EAAOnnC,EAAMulC,QAAQqtB,kBAAkB3rC,EAAMwf,MAAOxf,EAAMyf,KAAKS,MAG/Dn2B,EAAWtQ,KAAKmsE,sBAChB1lC,EAAO0B,GAA4B73B,GAAUm2B,KAC7ClgB,EAAQvmB,KAAKgsE,uBAAuB9oE,EAAMmqC,EAAW/8B,EAAUm2B,IAE5D,CAAEn2B,SAAUA,EAAUm2B,KAAMA,EAAMlgB,MAAOA,IAEpDmkD,EAAqB10D,UAAUm2D,oBAAsB,WACjD,OAAO3lC,GAAe,CAAEx7B,IAAK,KAIjC0/D,EAAqB10D,UAAU21D,kBAAoB,SAAUplD,GACzD,IAAIlH,EAAKrf,KAAKV,MAAOulC,EAAUxlB,EAAGwlB,QAASwV,EAAiBh7B,EAAGg7B,eAAgB3K,EAAcrwB,EAAGqwB,YAAaC,EAActwB,EAAGswB,YAC1H5J,EAAQxf,EAAMwf,MAAOC,EAAMzf,EAAMyf,IAcrC,OAbIqU,IAEIzS,GAAY8H,GAAe,IAC3B3J,EAAQ1F,GAAW0F,GACnBA,EAAQlB,EAAQ38B,IAAI69B,EAAO2J,IAG3B9H,GAAY+H,GAAe,IAC3B3J,EAAM3F,GAAW2F,GACjBA,EAAMvG,GAAQuG,GAAM,GACpBA,EAAMnB,EAAQ38B,IAAI89B,EAAK2J,KAGxB,CAAE5J,MAAOA,EAAOC,IAAKA,IAIhC0kC,EAAqB10D,UAAUg2D,uBAAyB,SAAU9oE,EAAMmqC,EAAW/8B,EAAUm2B,GACzF,IACIV,EACAC,EACAvB,EAHAplB,EAAKrf,KAAKV,MAAOulC,EAAUxlB,EAAGwlB,QAASyS,EAAgBj4B,EAAGi4B,cAK9D,IAAKA,EAAe,CAChB,IAAIC,EAAgBv3C,KAAKV,MAAMi4C,cAIvBD,EAHJC,GAEIzP,GAAUyP,GAAiBzP,GAAUx3B,GACrB63B,GAA4BoP,GAAe9Q,KAO/CA,EAUxB,SAAS2lC,IACLrmC,EAAQlB,EAAQwtB,QAAQnvD,EAAMo0C,GAC9BtR,EAAMnB,EAAQ38B,IAAI69B,EAAOz1B,GACzBm0B,EAAM,CAAEsB,MAAOA,EAAOC,IAAKA,GAQ/B,OAjBI4B,GAAYt3B,IAAa,GACrBtQ,KAAKqsE,YAAYtmC,KACjBA,EAAQ/lC,KAAKssE,eAAevmC,EAAOsH,GACnCtH,EAAQ1F,GAAW0F,IAQ3BqmC,IAEKpsE,KAAKwrE,eAAe/mC,KACrBvhC,EAAOlD,KAAKssE,eAAeppE,EAAMmqC,GACjC++B,KAEG3nC,GAGXimC,EAAqB10D,UAAUi2D,uBAAyB,SAAU/oE,EAAMmqC,EAAWgK,GAC/E,IAGIrR,EAHA3mB,EAAKrf,KAAKV,MAAOulC,EAAUxlB,EAAGwlB,QAASyS,EAAgBj4B,EAAGi4B,cAC1Di1B,EAAe,EACfxmC,EAAQ7iC,EAERo0C,IACAvR,EAAQlB,EAAQwtB,QAAQtsB,EAAOuR,IAEnCvR,EAAQ1F,GAAW0F,GACnBA,EAAQ/lC,KAAKssE,eAAevmC,EAAOsH,GACnCrH,EAAMD,EACN,GACIC,EAAMvG,GAAQuG,EAAK,GACdhmC,KAAKqsE,YAAYrmC,KAClBumC,GAAgB,SAEfA,EAAel1B,GACxB,MAAO,CAAEtR,MAAOA,EAAOC,IAAKA,IAIhC0kC,EAAqB10D,UAAUk2D,wBAA0B,SAAUhpE,GAC/D,IAAI5D,EAAQU,KAAKV,MACb0S,EAAQ1S,EAAMktE,kBACdV,EAA+B,oBAAV95D,EACnBA,EAAMiE,KAAK3W,EAAMqoD,YAAaroD,EAAMulC,QAAQ8hB,OAAOzjD,IACnD8O,EACFuU,EAAQvmB,KAAK+rE,YAAYD,GAC7B,OAAIvlD,GAAyB,MAAfA,EAAMwf,OAA8B,MAAbxf,EAAMyf,IAGpCzf,EAFI,MAOfmkD,EAAqB10D,UAAU01D,iBAAmB,SAAUtiB,EAAc4hB,EAAkBI,GACxF,OAAOhiB,GAIXshB,EAAqB10D,UAAU41D,mBAAqB,SAAU5zC,GAC1D,IACIy0C,EADAl1B,EAAgBv3C,KAAKV,MAAMi4C,cAE/B,OAAIA,KAGCk1B,EAAkBzsE,KAAKV,MAAMg4C,eACvB9Q,GAAe,EAAGimC,GAEzBz0C,GAGGwO,GAAe,CAAE/yB,KAAM,MAElCi3D,EAAqB10D,UAAU+1D,YAAc,SAAUW,GACnD,GAAIA,EAAY,CACZ,IAAInmD,EAAQ85B,GAAWqsB,EAAY1sE,KAAKV,MAAMulC,SAI9C,OAHIte,IACAA,EAAQo5B,GAAuBp5B,IAE5BA,EAEX,OAAO,MAKXmkD,EAAqB10D,UAAU20D,eAAiB,WAC5C,IAGIn+D,EAHAgrC,EAAax3C,KAAKV,MAAMk4C,YAAc,GACtCm1B,EAAkB,GAClBjtB,EAAS,EAKb,KAH4B,IAAxB1/C,KAAKV,MAAM2xC,UACXuG,EAAW5hC,KAAK,EAAG,GAElBpJ,EAAI,EAAGA,EAAI,EAAGA,GAAK,GACdmgE,EAAgBngE,IAAgC,IAA3BgrC,EAAW11C,QAAQ0K,MAC1CkzC,GAAU,GAGlB,IAAKA,EACD,MAAM,IAAI9vC,MAAM,sBAEpB5P,KAAK2sE,gBAAkBA,GAI3BjC,EAAqB10D,UAAUw1D,eAAiB,SAAUjlD,GACtD,IAAIwf,EAAQxf,EAAMwf,MAAOC,EAAMzf,EAAMyf,IAOrC,OANID,IACAA,EAAQ/lC,KAAKssE,eAAevmC,IAE5BC,IACAA,EAAMhmC,KAAKssE,eAAetmC,GAAM,GAAG,IAE1B,MAATD,GAAwB,MAAPC,GAAeD,EAAQC,EACjC,CAAED,MAAOA,EAAOC,IAAKA,GAEzB,MAIX0kC,EAAqB10D,UAAUq2D,YAAc,SAAUrhE,GAInD,OAHIA,aAAe7H,OACf6H,EAAMA,EAAIi3B,aAEPjiC,KAAK2sE,gBAAgB3hE,IAOhC0/D,EAAqB10D,UAAUs2D,eAAiB,SAAUppE,EAAM0pE,EAAKC,QACrD,IAARD,IAAkBA,EAAM,QACR,IAAhBC,IAA0BA,GAAc,GAC5C,MAAO7sE,KAAK2sE,iBAAiBzpE,EAAK++B,aAAe4qC,EAAcD,EAAM,GAAK,GAAK,GAC3E1pE,EAAOu8B,GAAQv8B,EAAM0pE,GAEzB,OAAO1pE,GAEJwnE,EAnT8B,GAsTzC,SAASoC,GAAejhB,EAAUrB,GAC9B,OAAQA,EAAOhhD,MACX,IAAK,mBACDqiD,EAAWrB,EAAOqB,SAE1B,OAAOA,EAGX,SAASkhB,GAA6BtD,EAAwBjf,GAC1D,IAAInrC,EACJ,OAAQmrC,EAAOhhD,MACX,IAAK,aACD,OAAOspB,EAASA,EAAS,GAAI22C,IAA0BpqD,EAAK,GAAIA,EAAGmrC,EAAOY,YAAcZ,EAAOa,eAAgBhsC,IACnH,QACI,OAAOoqD,GAInB,SAASuD,GAAkBnC,EAAoBrgB,EAAQD,EAAaqX,GAChE,IAAIqL,EACJ,OAAQziB,EAAOhhD,MACX,IAAK,mBACD,OAAOo4D,EAAqBtvD,MAAMk4C,EAAOC,YAAcF,GAC3D,IAAK,cACD,OAAOqX,EAAqBtvD,MAAMk4C,EAAOC,YAC7C,IAAK,OAED,GADAwiB,EAAKrL,EAAqBgJ,UAAUC,EAAoBtgB,GACpD0iB,EAAG3B,QACH,OAAO2B,EAEX,MACJ,IAAK,OAED,GADAA,EAAKrL,EAAqBqJ,UAAUJ,EAAoBtgB,GACpD0iB,EAAG3B,QACH,OAAO2B,EAEX,MAER,OAAOpC,EAGX,SAASqC,GAAiBt7C,EAAiBs3B,EAAa59B,GACpD,IAAI69B,EAAcD,EAAcA,EAAYC,YAAc,KAC1D,OAAOgkB,GAAW,GAAIC,GAAoBx7C,EAAiBtG,GAAU69B,EAAa79B,GAEtF,SAAS+hD,GAAmBvzB,EAAc0Q,EAAQtB,EAAa59B,GAC3D,IAAI69B,EAAcD,EAAcA,EAAYC,YAAc,KAC1D,OAAQqB,EAAOhhD,MACX,IAAK,oBACD,OAAO2jE,GAAWrzB,EAAc0Q,EAAOqE,QAAS1F,EAAa79B,GACjE,IAAK,sBACD,OAAOgiD,GAAaxzB,EAAc0Q,EAAO/vB,UAC7C,IAAK,OACL,IAAK,OACL,IAAK,cACL,IAAK,mBACD,OAAIyuB,EACOqkB,GAAkBzzB,EAAcqP,EAAa79B,GAEjDwuB,EACX,IAAK,sBACD,OAAO0zB,GAAkB1zB,EAAc0Q,EAAO7vB,UAC1C8I,GAAY+mB,EAAO7vB,WACnB8yC,GAAqB3zB,EAAcxuB,GAAU69B,EAAaqB,EAAO5vB,YAAa,EAAOtP,GAC7F,IAAK,iBACL,IAAK,sBACD,OAAOoiD,GAAgB5zB,EAAc0Q,EAAO/vB,SAAU+vB,EAAOmjB,QAASnjB,EAAOP,YACjF,IAAK,2BACD,MAAO,GACX,QACI,OAAOnQ,GAGnB,SAAS8zB,GAA8B9zB,EAAcoP,EAAa59B,GAC9D,IAAI69B,EAAcD,EAAcA,EAAYC,YAAc,KAC1D,OAAOqkB,GAAkB1zB,EAAc2zB,GAAqB3zB,EAAcxuB,GAAU69B,GAAa,EAAM79B,GAE3G,SAASuiD,GAA2B/zB,GAChC,IAAK,IAAIrf,KAAYqf,EACjB,GAAIA,EAAarf,GAAUsvB,WACvB,OAAO,EAGf,OAAO,EAEX,SAASojB,GAAWW,EAAiBjf,EAAS5E,EAAY3+B,GAEtD,IADA,IAAI+X,EAAO,GACFK,EAAK,EAAGqqC,EAAYlf,EAASnrB,EAAKqqC,EAAUxtE,OAAQmjC,IAAM,CAC/D,IAAIna,EAASwkD,EAAUrqC,GACvBL,EAAK9Z,EAAOkR,UAAYlR,EAK5B,OAHI0gC,IACA5mB,EAAOkqC,GAAkBlqC,EAAM4mB,EAAY3+B,IAExCwH,EAASA,EAAS,GAAIg7C,GAAkBzqC,GAEnD,SAASiqC,GAAaQ,EAAiBrzC,GACnC,OAAO2I,GAAW0qC,GAAiB,SAAU7yB,GAAe,OAAOA,EAAYxgB,WAAaA,KAEhG,SAAS8yC,GAAkB9e,EAAYxE,EAAY3+B,GAC/C,OAAOkiD,GAAkB/e,EAAYrrB,GAAWqrB,GAAY,SAAUxT,GAAe,OAAO+yB,GAAc/yB,EAAagP,EAAY3+B,MAAc2+B,GAAY,EAAO3+B,GAExK,SAAS0iD,GAAc/yB,EAAagP,EAAY3+B,GAC5C,OAAK2iD,GAAoBhzB,EAAa3vB,IAG9BA,EAAQ7rB,QAAQwyC,eACnBgJ,EAAYgP,YACbhP,EAAY8O,YACZE,EAAWlkB,MAAQkV,EAAYgP,WAAWlkB,OAC1CkkB,EAAWjkB,IAAMiV,EAAYgP,WAAWjkB,KANhCiV,EAAY+O,cAQ5B,SAASwjB,GAAkBU,EAAaC,EAAclkB,EAAYrvB,EAAWtP,GACzE,IAAI8iD,EAAc,GAClB,IAAK,IAAI3zC,KAAYyzC,EAAa,CAC9B,IAAI3kD,EAAS2kD,EAAYzzC,GACrB0zC,EAAa1zC,GACb2zC,EAAY3zC,GAAY4zC,GAAY9kD,EAAQ0gC,EAAYrvB,EAAWtP,GAGnE8iD,EAAY3zC,GAAYlR,EAGhC,OAAO6kD,EAEX,SAASC,GAAYpzB,EAAagP,EAAYrvB,EAAWtP,GACrD,IAAI7rB,EAAU6rB,EAAQ7rB,QAASkoD,EAAcr8B,EAAQq8B,YACjD2mB,EAAYhjD,EAAQga,YAAY8kB,gBAAgBnP,EAAYiP,aAC5DyjB,EAAUrwC,KAqCd,OApCAgxC,EAAUC,MAAM,CACZtzB,YAAaA,EACb10B,MAAO0jC,EACPrvB,UAAWA,EACXtP,QAASA,IACV,SAAUmZ,GACT,IAAIuW,EAAYvW,EAAIuW,UAChBv7C,EAAQs0C,qBACRiH,EAAYv7C,EAAQs0C,mBAAmB99B,KAAK0xC,EAAa3M,EAAWvW,EAAI+pC,MAAQxzB,GAEhFC,EAAYsO,UACZvO,EAAYC,EAAYsO,QAAQtzC,KAAK0xC,EAAa3M,EAAWvW,EAAI+pC,MAAQxzB,GAE7E1vB,EAAQkP,SAAS,CACbhxB,KAAM,iBACNixB,SAAUwgB,EAAYxgB,SACtBkzC,QAASA,EACT1jB,WAAYA,EACZjP,UAAWA,OAEhB,SAAU/wC,GACTnH,QAAQC,KAAKkH,EAAMwN,QAASxN,GACxBxK,EAAQq0C,oBACRr0C,EAAQq0C,mBAAmB79B,KAAK0xC,EAAa19C,GAE7CgxC,EAAYuO,SACZvO,EAAYuO,QAAQv/C,GAExBqhB,EAAQkP,SAAS,CACbhxB,KAAM,sBACNixB,SAAUwgB,EAAYxgB,SACtBkzC,QAASA,EACT1jB,WAAYA,EACZhgD,MAAOA,OAGR6oB,EAASA,EAAS,GAAImoB,GAAc,CAAE8O,YAAY,EAAMC,cAAe2jB,IAElF,SAASD,GAAgBjf,EAAYh0B,EAAUkzC,EAAS1jB,GACpD,IAAI5qC,EACA47B,EAAcwT,EAAWh0B,GAC7B,OAAIwgB,GACA0yB,IAAY1yB,EAAY+O,cACjBl3B,EAASA,EAAS,GAAI27B,IAAcpvC,EAAK,GAAIA,EAAGob,GAAY3H,EAASA,EAAS,GAAImoB,GAAc,CAAE8O,YAAY,EAAOE,WAAYA,IAAe5qC,IAEpJovC,EAEX,SAASgf,GAAqB3zB,EAAcxuB,GACxC,OAAO8X,GAAW0W,GAAc,SAAUmB,GAAe,OAAOgzB,GAAoBhzB,EAAa3vB,MAErG,SAAS8hD,GAAoB3G,EAAYn7C,GACrC,IAAIsvB,EAAW+O,GAAyBr+B,GACpCmjD,EAAa,GAAGnuD,OAAOmmD,EAAW3sB,cAAgB,IAClD+U,EAAU,GACV4X,EAAW7sB,eACX60B,EAAWvrC,QAAQujC,EAAW7sB,eAE9B6sB,EAAW5sB,QACX40B,EAAWvrC,QAAQujC,EAAW5sB,QAElC,IAAK,IAAInW,EAAK,EAAGgrC,EAAeD,EAAY/qC,EAAKgrC,EAAanuE,OAAQmjC,IAAM,CACxE,IAAIirC,EAAYD,EAAahrC,GACzBna,EAASkgC,GAAiBklB,EAAWrjD,EAASsvB,GAC9CrxB,GACAslC,EAAQj5C,KAAK2T,GAGrB,OAAOslC,EAEX,SAASof,GAAoBhzB,EAAa3vB,GACtC,IAAIia,EAAOja,EAAQga,YAAY8kB,gBAC/B,OAAQ7kB,EAAK0V,EAAYiP,aAAa0kB,YAG1C,SAASC,GAAiBzpC,EAAYolB,EAAQ1Q,EAAcoP,EAAa59B,GACrE,OAAQk/B,EAAOhhD,MACX,IAAK,iBACD,OAAOslE,GAAiB1pC,EAAY0U,EAAa0Q,EAAO/vB,UAAW+vB,EAAOmjB,QAASnjB,EAAOP,WAAYO,EAAOxP,UAAW1vB,GAC5H,IAAK,aACD,OAAO,GAAS8Z,EAAYolB,EAAOplB,WACnC8jB,EAAcA,EAAYC,YAAc,KAAM79B,GAClD,IAAK,eACD,OAAOk/B,EAAOplB,WAClB,IAAK,eACD,OAAOgX,GAAiBhX,EAAYolB,EAAOplB,YAC/C,IAAK,OACL,IAAK,OACL,IAAK,cACL,IAAK,mBACD,OAAI8jB,EACO/jB,GAAgBC,EAAY8jB,EAAYC,YAAa79B,GAEzD8Z,EACX,IAAK,gBACD,OAAOoX,GAAqBpX,EAAYolB,EAAOplB,YACnD,IAAK,sBACD,OAAO2pC,GAAwB3pC,EAAYolB,EAAO/vB,UACtD,IAAK,2BACD,OAAOqhB,GAAqB1W,GAAY,SAAUa,GAAY,OAASA,EAASxL,YAEpF,IAAK,oBACD,OAAO0gB,KACX,QACI,OAAO/V,GAGnB,SAAS0pC,GAAiB1pC,EAAY6V,EAAa0yB,EAAS1jB,EAAYjP,EAAW1vB,GAC/E,GAAI2vB,GACA0yB,IAAY1yB,EAAY+O,cAC1B,CACE,IAAIglB,EAASj0B,GAAYk0B,GAAmBj0B,EAAWC,EAAa3vB,GAAU2vB,EAAa3vB,GAI3F,OAHI2+B,IACA+kB,EAAS7pC,GAAgB6pC,EAAQ/kB,EAAY3+B,IAE1C8wB,GAAiB2yB,GAAwB3pC,EAAY6V,EAAYxgB,UAAWu0C,GAEvF,OAAO5pC,EAEX,SAAS6pC,GAAmBj0B,EAAWC,EAAa3vB,GAChD,IAAI4jD,EAAmB5jD,EAAQ7rB,QAAQi0C,mBACnCy7B,EAAsBl0B,EAAcA,EAAYvH,mBAAqB,KAOzE,OANIy7B,IACAn0B,EAAYo0B,GAAsBp0B,EAAWm0B,IAE7CD,IACAl0B,EAAYo0B,GAAsBp0B,EAAWk0B,IAE1Cl0B,EAEX,SAASo0B,GAAsBp0B,EAAW9c,GACtC,IAAImxC,EACJ,GAAKnxC,EAGA,CACDmxC,EAAgB,GAChB,IAAK,IAAI3rC,EAAK,EAAG4X,EAAcN,EAAWtX,EAAK4X,EAAY/6C,OAAQmjC,IAAM,CACrE,IAAI6X,EAAWD,EAAY5X,GACvB4rC,EAAepxC,EAAKqd,GACpB+zB,EACAD,EAAcz5D,KAAK05D,GAEE,MAAhBA,GACLD,EAAcz5D,KAAK2lC,SAX3B8zB,EAAgBr0B,EAepB,OAAOq0B,EAEX,SAAS,GAASjqC,EAAY4pC,EAAQO,EAAajkD,GAI/C,OAHIikD,IACAP,EAAS7pC,GAAgB6pC,EAAQO,EAAajkD,IAE3C8wB,GAAiBhX,EAAY4pC,GAExC,SAASQ,GAAsBpqC,EAAYqqC,EAAYC,GACnD,IAAInqC,EAAOH,EAAWG,KAClB5c,EAAY4a,GAAQ6B,EAAWzc,WAAW,SAAUiB,GACpD,IAAI6b,EAAMF,EAAK3b,EAAS4Y,OACxB,OAAIiD,EAAIV,QAAUU,EAAID,aACX5b,EAEJkJ,EAASA,EAAS,GAAIlJ,GAAW,CAAErD,MAAO,CACzCwf,MAAO2pC,EAAWpvB,aAAamvB,EAAW9oB,OAAO/8B,EAASrD,MAAMwf,MAAOnc,EAAS6Y,iBAChFuD,IAAK0pC,EAAWpvB,aAAamvB,EAAW9oB,OAAO/8B,EAASrD,MAAMyf,IAAKpc,EAAS8Y,gBAC7ED,eAAgBitC,EAAW/d,iBAAmB,KAAO/nC,EAAS6Y,eAAgBC,aAAcgtC,EAAW/d,iBAAmB,KAAO/nC,EAAS8Y,kBAErJ,MAAO,CAAE6C,KAAMA,EAAM5c,UAAWA,GAEpC,SAASomD,GAAwB3pC,EAAY3K,GACzC,OAAOqhB,GAAqB1W,GAAY,SAAUa,GAAY,OAAOA,EAASxL,WAAaA,KAG/F,SAASk1C,GAAiBvqC,EAAYwqC,GAClC,MAAO,CACHrqC,KAAMH,EAAWG,KACjB5c,UAAWya,GAAWgC,EAAWzc,WAAW,SAAUiB,GAAY,OAAQgmD,EAAShmD,EAAS+Y,gBAIpG,SAASktC,GAAoBC,EAAkBtlB,GAC3C,OAAQA,EAAOhhD,MACX,IAAK,iBACD,OAAO,KACX,IAAK,eACD,OAAOghD,EAAOtD,UAClB,QACI,OAAO4oB,GAInB,SAASC,GAAoBC,EAAmBxlB,GAC5C,OAAQA,EAAOhhD,MACX,IAAK,iBACD,MAAO,GACX,IAAK,eACD,OAAOghD,EAAOylB,gBAClB,QACI,OAAOD,GAInB,SAASE,GAAgBC,EAAa3lB,GAClC,IAAI4lB,EACJ,OAAQ5lB,EAAOhhD,MACX,IAAK,mBACD,OAAO,KACX,IAAK,iBAED,OADA4mE,EAAU5lB,EAAOp1B,MACV,CACHijC,eAAgB+X,EAAQ/X,eACxBE,cAAe6X,EAAQ7X,cACvBG,QAAS0X,EAAQ1X,SAEzB,QACI,OAAOyX,GAInB,SAASE,GAAkBC,EAAe9lB,GACtC,IAAI+lB,EACJ,OAAQ/lB,EAAOhhD,MACX,IAAK,qBACD,OAAO,KACX,IAAK,mBAED,OADA+mE,EAAY/lB,EAAOp1B,MACZ,CACHijC,eAAgBkY,EAAUlY,eAC1BE,cAAegY,EAAUhY,cACzBG,QAAS6X,EAAU7X,SAE3B,QACI,OAAO4X,GAInB,SAASE,GAAc5+C,EAAiB6+C,EAAyBtX,EAAOlN,EAAWtE,GAC/E,IAAI0E,EAAmB,GACnBtc,EAAgBne,EAAgBme,cAAgB2gC,GAAa9+C,EAAgBme,cAAene,EAAiB6+C,EAAyBtX,EAAOlN,EAAWtE,EAAa0E,GAAoB,KACzLrc,EAAgBpe,EAAgBoe,cAAgB0gC,GAAa9+C,EAAgBoe,cAAepe,EAAiB6+C,EAAyBtX,EAAOlN,EAAWtE,EAAa0E,GAAoB,KAC7L,MAAO,CAAEtc,cAAeA,EAAeC,cAAeA,EAAeqc,iBAAkBA,GAE3F,SAASqkB,GAAaC,EAAgB/+C,EAAiB6+C,EAAyBtX,EAAOlN,EAAWtE,EAAa0E,GAC3G,OAAO9oB,GAAQotC,GAAgB,SAAUC,GAAc,OAAOC,GAAaD,EAAYh/C,EAAiB6+C,EAAyBtX,EAAOlN,EAAWtE,EAAa0E,MAKpK,SAASwkB,GAAaD,EAAYh/C,EAAiB6+C,EAAyBtX,EAAOlN,EAAWtE,EAAa0E,GACvG,IAAImU,EAAsC,QAA9B5uC,EAAgByb,UACxByjC,EAAwBl/C,EAAgB0d,eAAiB,GACzDyhC,EAA8BN,EAAwB/2B,YAAc,GACpEs3B,EAAqBp/C,EAAgB8nB,YAAc,GACnDu3B,EAAiBL,EAAaA,EAAW3iE,MAAM,KAAO,GAC1D,OAAOgjE,EAAejwE,KAAI,SAAUkwE,GAAkB,OAAQA,EAAejjE,MAAM,KAAKjN,KAAI,SAAUi/D,GAClG,MAAmB,UAAfA,EACO,CAAEA,WAAYA,KAOpBW,EAAoBkQ,EAAsB7Q,KAC3CkR,EAAc,SAAU37D,GAChBorD,EAAkBn/C,OAClBm/C,EAAkBn/C,MAAMxL,KAAKT,EAAGxL,OAAQwL,EAAIA,EAAGxL,UAGtDonE,EAAajY,EAAMwH,yBAAyBC,MACxCwQ,EAAajY,EAAMoH,aAAaN,EAAYO,MAC5C9mB,EAAaknB,EAAkBlgE,QAE9BghE,EAAWzV,EAAUgU,KAC3B5T,EAAiBz2C,KAAKqqD,GACtBkR,EAAc,WACVxpB,EAAYiE,WAAWqU,KAE1BvmB,EAAagoB,EAAS4I,sBAClB8G,EAAajY,EAAMoH,aAAaN,EAAYO,MAC5C9mB,EAAagoB,EAAS6I,oBAEtB5iB,EAAYsY,KACjBkR,EAAc,WACVxpB,EAAYsY,OAEfvmB,EAAaq3B,EAA4B9Q,MACrCmR,EAAajY,EAAMoH,aAAaN,EAAYO,MAC5C9mB,EAAas3B,EAAmB/Q,KAGlC,CAAEA,WAAYA,EAAYkR,YAAaA,EAAaC,WAAYA,EAAY13B,WAAYA,IAjC/F,IAAIknB,EACAc,EACAyP,EACAC,EACA13B,QAiCZ,IAAI23B,GAAmB,CACnBzC,aAAa,EACbvkB,UAAW,SAAU1lB,GACjB,OAAI98B,MAAM0sB,QAAQoQ,EAAQkV,QACflV,EAAQkV,OAEZ,MAEX00B,MAAO,SAAU+C,EAAK/nB,GAClBA,EAAQ,CACJvO,UAAWs2B,EAAIr2B,YAAYngB,SAInCy2C,GAAyBhO,GAAa,CACtCnZ,gBAAiB,CAACinB,MAGlBG,GAAmB,CACnBnnB,UAAW,SAAU1lB,GACjB,MAA8B,oBAAnBA,EAAQkV,OACRlV,EAAQkV,OAEZ,MAEX00B,MAAO,SAAU+C,EAAK/nB,EAASC,GAC3B,IAAI3kB,EAAUysC,EAAIhmD,QAAQuZ,QACtB3G,EAAOozC,EAAIr2B,YAAYngB,KAC3BkhC,GAAY99B,EAAKjrB,KAAK,KAAMwzC,GAA0B6qB,EAAI/qD,MAAOse,KAAW,SAAUmW,GAClFuO,EAAQ,CAAEvO,UAAWA,MACtBwO,KAGPioB,GAAwBlO,GAAa,CACrCnZ,gBAAiB,CAAConB,MAGtB,SAASE,GAAYp2C,EAAQP,EAAK42C,EAAQC,EAAiBC,GACvDv2C,EAASA,EAAOw2C,cAChB,IAAIv7D,EAAO,KACI,QAAX+kB,EACAP,EAAMg3C,GAAwBh3C,EAAK42C,GAGnCp7D,EAAOy7D,GAAaL,GAExB,IAAInD,EAAM,IAAIyD,eACdzD,EAAI73D,KAAK2kB,EAAQP,GAAK,GACP,QAAXO,GACAkzC,EAAI0D,iBAAiB,eAAgB,qCAEzC1D,EAAI2D,OAAS,WACT,GAAI3D,EAAI4D,QAAU,KAAO5D,EAAI4D,OAAS,IAAK,CACvC,IAAI3yD,GAAS,EACTglB,OAAM,EACV,IACIA,EAAM1iB,KAAKC,MAAMwsD,EAAI6D,cACrB5yD,GAAS,EAEb,MAAO5c,IAGH4c,EACAmyD,EAAgBntC,EAAK+pC,GAGrBqD,EAAgB,uBAAwBrD,QAI5CqD,EAAgB,iBAAkBrD,IAG1CA,EAAI8D,QAAU,WACVT,EAAgB,iBAAkBrD,IAEtCA,EAAI+D,KAAKh8D,GAEb,SAASw7D,GAAwBh3C,EAAK42C,GAClC,OAAO52C,IACoB,IAAtBA,EAAIj5B,QAAQ,KAAc,IAAM,KACjCkwE,GAAaL,GAErB,SAASK,GAAaL,GAClB,IAAIxkC,EAAQ,GACZ,IAAK,IAAI9sC,KAAOsxE,EACZxkC,EAAMv3B,KAAK48D,mBAAmBnyE,GAAO,IAAMmyE,mBAAmBb,EAAOtxE,KAEzE,OAAO8sC,EAAM/+B,KAAK,KAGtB,IAAIqkE,GAAkC,CAClCn3C,OAAQ36B,OACR+xE,YAAaxjC,GACbgD,WAAYvxC,OACZwxC,SAAUxxC,OACVyxC,cAAezxC,QAGfgyE,GAAiB,CACjBtoB,UAAW,SAAU1lB,GACjB,OAAIA,EAAQ5J,KAA2B,SAAnB4J,EAAQ/1B,QAAsB+1B,EAAQ/1B,OAWnD,KAVI,CACHmsB,IAAK4J,EAAQ5J,IACbnsB,OAAQ,OACR0sB,QAASqJ,EAAQrJ,QAAU,OAAOw2C,cAClCY,YAAa/tC,EAAQ+tC,YACrBxgC,WAAYvN,EAAQuN,WACpBC,SAAUxN,EAAQwN,SAClBC,cAAezN,EAAQyN,gBAKnCm8B,MAAO,SAAU+C,EAAK/nB,EAASC,GAC3B,IAAI1uB,EAAOw2C,EAAIr2B,YAAYngB,KACvB83C,EAAgBC,GAAmB/3C,EAAMw2C,EAAI/qD,MAAO+qD,EAAIhmD,SAC5DomD,GAAY52C,EAAKQ,OAAQR,EAAKC,IAAK63C,GAAe,SAAU53B,EAAWwzB,GACnEjlB,EAAQ,CAAEvO,UAAWA,EAAWwzB,IAAKA,OACtC,SAAUsE,EAActE,GACvBhlB,EAAQ,CAAE/xC,QAASq7D,EAActE,IAAKA,SAI9CuE,GAA4BxP,GAAa,CACzCpZ,oBAAqBsoB,GACrBroB,gBAAiB,CAACuoB,MAEtB,SAASE,GAAmB/3C,EAAMvU,EAAO+E,GACrC,IACI4mB,EACAC,EACAC,EACA4gC,EAJAnuC,EAAUvZ,EAAQuZ,QAASplC,EAAU6rB,EAAQ7rB,QAK7CkyE,EAAS,GA4Bb,OA3BAz/B,EAAapX,EAAKoX,WACA,MAAdA,IACAA,EAAazyC,EAAQyyC,YAEzBC,EAAWrX,EAAKqX,SACA,MAAZA,IACAA,EAAW1yC,EAAQ0yC,UAEvBC,EAAgBtX,EAAKsX,cACA,MAAjBA,IACAA,EAAgB3yC,EAAQ2yC,eAKxB4gC,EAF4B,oBAArBl4C,EAAK43C,YAEU53C,EAAK43C,cAIL53C,EAAK43C,aAAe,GAE9C5/C,EAAS6+C,EAAQqB,GACjBrB,EAAOz/B,GAAcrN,EAAQgiB,UAAUtgC,EAAMwf,OAC7C4rC,EAAOx/B,GAAYtN,EAAQgiB,UAAUtgC,EAAMyf,KAClB,UAArBnB,EAAQyH,WACRqlC,EAAOv/B,GAAiBvN,EAAQyH,UAE7BqlC,EAGX,IAAIsB,GAA4B,CAC5Bve,WAAYxlB,GACZslB,UAAWhuB,GACXiuB,QAASjuB,GACTl2B,SAAUk2B,GACV0sC,WAAYhkC,GACZikC,SAAUjkC,IAGVkkC,GAAY,CACZpxD,MAAO,SAAU2iB,EAASE,GACtB,GAAIF,EAAQ+vB,YAAc/vB,EAAQ6vB,WAAa7vB,EAAQ8vB,SAAW9vB,EAAQuuC,YAAcvuC,EAAQwuC,SAAU,CACtG,IAAIE,EAAgB,CAChB3e,WAAY/vB,EAAQ+vB,YAAc,KAClCF,UAAW7vB,EAAQ6vB,WAAa,KAChCC,QAAS9vB,EAAQ8vB,SAAW,KAC5Bye,WAAYvuC,EAAQuuC,WAAaruC,EAAQyb,aAAa3b,EAAQuuC,YAAc,KAC5EC,SAAUxuC,EAAQwuC,SAAWtuC,EAAQyb,aAAa3b,EAAQwuC,UAAY,MAEtE7iE,OAAW,EAOf,OANIq0B,EAAQr0B,WACRA,EAAWq0B,EAAQr0B,WAElBA,GAAYq0B,EAAQ6vB,WAAa7vB,EAAQ8vB,UAC1CnkD,EAAWk3B,GAAkB7C,EAAQ8vB,QAAS9vB,EAAQ6vB,YAEnD,CACHxvB,YAAalkC,SAAS6jC,EAAQ6vB,YAAc7vB,EAAQ8vB,SACpDnkD,SAAUA,EACV20B,SAAUouC,GAGlB,OAAO,MAEXjtC,OAAQ,SAAUnB,EAAUI,EAAcR,GACtC,IAAIyuC,EAAsBvyB,GAAgB1b,EAAc,CAAEU,MAAOd,EAASiuC,WAAYltC,IAAKf,EAASkuC,WACpG,OAAIG,EACOC,GAAatuC,EAASyvB,WAAYzvB,EAASuvB,UAAW8e,EAAqBzuC,GAE/E,KAGX2uC,GAA8BjQ,GAAa,CAC3Cz+B,eAAgB,CAACsuC,IACjBh4B,cAAe63B,KAEnB,SAASM,GAAa7e,EAAYF,EAAWnvB,EAAcR,GACvD,IAAI4uC,EAAU/e,EAAajxB,GAAYixB,GAAc,KACjDgf,EAAYrzC,GAAWgF,EAAaU,OACpCoZ,EAAY9Z,EAAaW,IACzB2tC,EAAiB,GACrB,MAAOD,EAAYv0B,EAAW,CAC1B,IAAIy0B,OAEF,EAEGH,IAAWA,EAAQC,EAAUzxC,eAE1B2xC,EADApf,EACgB3vB,EAAQ38B,IAAIwrE,EAAWlf,GAGvBkf,EAEpBC,EAAe/9D,KAAKg+D,IAExBF,EAAYj0C,GAAQi0C,EAAW,GAEnC,OAAOC,EAGX,IAAIE,GAAsBtQ,GAAa,CACnCkB,qBAAsB,CAClB5qB,OAAQ,SAAUA,EAAQvuB,GACtBwoD,GAAmB,CAACj6B,GAASvuB,IAEjCwuB,aAAcg6B,MAMtB,SAASA,GAAmB7K,EAAQ39C,GAGhC,IAFA,IAAIyoD,EAAiBlwC,GAAkBvY,EAAQ09B,iBAAiBlP,cAC5Dk6B,EAAY,GACPtwC,EAAK,EAAGuwC,EAAWhL,EAAQvlC,EAAKuwC,EAAS1zE,OAAQmjC,IAAM,CAG5D,IAFA,IAAI1xB,EAAQiiE,EAASvwC,GACjBwwC,GAAa,EACR1nE,EAAI,EAAGA,EAAIunE,EAAexzE,OAAQiM,GAAK,EAC5C,GAAIunE,EAAevnE,GAAGs9C,OAAS93C,EAAO,CAClC+hE,EAAen2D,OAAOpR,EAAG,GACzB0nE,GAAa,EACb,MAGHA,GACDF,EAAUp+D,KAAK5D,GAGvB,IAAK,IAAIqN,EAAK,EAAG80D,EAAmBJ,EAAgB10D,EAAK80D,EAAiB5zE,OAAQ8e,IAAM,CACpF,IAAI+0D,EAAgBD,EAAiB90D,GACrCiM,EAAQkP,SAAS,CACbhxB,KAAM,sBACNixB,SAAU25C,EAAc35C,WAGhC,IAAK,IAAIyB,EAAK,EAAGm4C,EAAcL,EAAW93C,EAAKm4C,EAAY9zE,OAAQ27B,IAAM,CACrE,IAAIo4C,EAAWD,EAAYn4C,GAC3B5Q,EAAQq8B,YAAYiH,eAAe0lB,IAI3C,SAASC,GAAkBrrB,EAAa59B,GACpCA,EAAQ87B,QAAQC,QAAQ,WAAYv0B,EAASA,EAAS,GAAI2zB,GAA0ByC,EAAYC,YAAa79B,EAAQuZ,UAAW,CAAE4iB,KAAMn8B,EAAQo8B,WAGpJ,SAAS8sB,GAAiBpvC,EAAY9Z,GAClC,IAAI87B,EAAU97B,EAAQ87B,QAClBA,EAAQ0V,YAAY,cACpB1V,EAAQC,QAAQ,YAAaiH,GAAelpB,EAAY9Z,IAQhE,IAAImpD,GAAgB,CAChBlD,GACAE,GACAsB,GACAS,GACAK,GACAtQ,GAAa,CACTG,eAAgB,CACZ,SAAUtuC,GAAS,OAAOy4C,GAA2Bz4C,EAAM0kB,gBAE/D6qB,oBAAqB,CACjB/jE,KAAM,WAAc,MAAO,CAAGuvB,OAAQukD,KACtCC,SAAU,WAAc,MAAO,CAAGxkD,OAAQykD,MAE9C9P,gBAAiB,CACb5b,YAAaqrB,GACbnvC,WAAYovC,OAIxB,SAASE,GAAWj/D,EAAI7U,GACpB6U,EAAGqG,UAAYlb,EAEnB,SAASg0E,GAAen/D,EAAIk/D,GACxB,IAAIE,EAAWhtE,MAAMmO,UAAU9O,MAAM+O,KAAKR,EAAG4gB,YACzCy+C,EAAWjtE,MAAMmO,UAAU9O,MAAM+O,KAAK0+D,GAC1C,IAAK/rC,GAAcisC,EAAUC,GAAW,CACpC,IAAK,IAAIpxC,EAAK,EAAGqxC,EAAaD,EAAUpxC,EAAKqxC,EAAWx0E,OAAQmjC,IAAM,CAClE,IAAIsxC,EAAUD,EAAWrxC,GACzBjuB,EAAG9L,YAAYqrE,GAEnBH,EAASnlE,QAAQsrB,KAIzB,IAAIi6C,GAA+B,WAC/B,SAASA,EAAcC,GACnBl1E,KAAKk1E,cAAgBA,EACrBl1E,KAAKm1E,WAAY,EACjBn1E,KAAKo1E,SAAU,EACfp1E,KAAKq1E,YAAc,GACnBr1E,KAAKs1E,UAAY,EAmErB,OAjEAL,EAAcj/D,UAAUirD,QAAU,SAAUsU,GACxCv1E,KAAKo1E,SAAU,EACVp1E,KAAKw1E,aACNx1E,KAAKwH,eACQ,MAAT+tE,EACAv1E,KAAKy1E,WAGLz1E,KAAKs1E,UAAY7tE,WACjBzH,KAAKy1E,SAASxiE,KAAKjT,MAAOu1E,KAItCN,EAAcj/D,UAAU0/D,MAAQ,SAAUC,QACxB,IAAVA,IAAoBA,EAAQ,IAChC,IAAIN,EAAcr1E,KAAKq1E,YACvBA,EAAYM,IAAUN,EAAYM,IAAU,GAAK,EACjD31E,KAAKwH,gBAETytE,EAAcj/D,UAAU4/D,OAAS,SAAUD,EAAOE,QAChC,IAAVF,IAAoBA,EAAQ,IAChC,IAAIN,EAAcr1E,KAAKq1E,YACvB,GAAIM,KAASN,EAAa,CACtB,GAAIQ,SACOR,EAAYM,OAElB,CACDN,EAAYM,IAAU,EACtB,IAAIG,EAAQT,EAAYM,GACpBG,GAAS,UACFT,EAAYM,GAG3B31E,KAAKy1E,aAGbR,EAAcj/D,UAAUw/D,SAAW,WAC/B,OAAOlkE,OAAOkY,KAAKxpB,KAAKq1E,aAAa90E,QAEzC00E,EAAcj/D,UAAUy/D,SAAW,WAC/B,IAAKz1E,KAAKm1E,YAAcn1E,KAAKw1E,WAAY,CACrCx1E,KAAKm1E,WAAY,EACjB,MAAOn1E,KAAKo1E,QACRp1E,KAAKo1E,SAAU,EACfp1E,KAAK+1E,UAET/1E,KAAKm1E,WAAY,IAGzBF,EAAcj/D,UAAUgI,MAAQ,WAC5Bhe,KAAKwH,eACLxH,KAAKo1E,SAAU,EACfp1E,KAAKq1E,YAAc,IAEvBJ,EAAcj/D,UAAUxO,aAAe,WAC/BxH,KAAKs1E,YACL9tE,aAAaxH,KAAKs1E,WAClBt1E,KAAKs1E,UAAY,IAGzBL,EAAcj/D,UAAU+/D,QAAU,WAC1B/1E,KAAKk1E,eACLl1E,KAAKk1E,iBAGND,EAzEuB,GA4E9Be,GAA4B,WAC5B,SAASA,EAAWC,EAAef,GAC/Bl1E,KAAKi2E,cAAgBA,EACrBj2E,KAAKk1E,cAAgBA,EACrBl1E,KAAKk2E,MAAQ,GACbl2E,KAAKm2E,cAAgB,IAAIlB,GAAcj1E,KAAKmhE,MAAMluD,KAAKjT,OAkC3D,OAhCAg2E,EAAWhgE,UAAUirD,QAAU,SAAUmV,EAAMb,GAC3Cv1E,KAAKk2E,MAAMtgE,KAAKwgE,GAChBp2E,KAAKm2E,cAAclV,QAAQsU,IAE/BS,EAAWhgE,UAAU0/D,MAAQ,SAAUC,GACnC31E,KAAKm2E,cAAcT,MAAMC,IAE7BK,EAAWhgE,UAAU4/D,OAAS,SAAUD,EAAOE,GAC3C71E,KAAKm2E,cAAcP,OAAOD,EAAOE,IAErCG,EAAWhgE,UAAUmrD,MAAQ,WACzB,IAAI+U,EAAQl2E,KAAKk2E,MACjB,MAAOA,EAAM31E,OAAQ,CACjB,IAAI81E,EAAiB,GACjBD,OAAO,EACX,MAAQA,EAAOF,EAAM58C,QACjBt5B,KAAKs2E,QAAQF,GACbC,EAAezgE,KAAKwgE,GAExBp2E,KAAK+1E,QAAQM,KAGrBL,EAAWhgE,UAAUsgE,QAAU,SAAUF,GACjCp2E,KAAKi2E,eACLj2E,KAAKi2E,cAAcG,IAG3BJ,EAAWhgE,UAAU+/D,QAAU,SAAUM,GACjCr2E,KAAKk1E,eACLl1E,KAAKk1E,cAAcmB,IAGpBL,EAvCoB,GA2C/B,SAASO,GAAWrtB,EAAayY,EAAa98B,GAC1C,IAAIte,EAQJ,OALIA,EADA,iBAAiBnb,KAAK89C,EAAY8hB,kBAC1B9hB,EAAYE,aAGZF,EAAYC,YAEjBtkB,EAAQgG,YAAYtkB,EAAMwf,MAAOxf,EAAMyf,IAAK+I,GAAgB4yB,EAAY9pB,aAAe2+B,GAAiBttB,IAAe,CAC1HyJ,eAAgBzJ,EAAYkiB,cAC5Bx/B,iBAAkB+1B,EAAYzxB,sBAKtC,SAASsmC,GAAiBttB,GACtB,IAAI8hB,EAAmB9hB,EAAY8hB,iBACnC,GAAyB,SAArBA,EACA,MAAO,CAAE9+D,KAAM,WAEnB,GAAyB,UAArB8+D,EACA,MAAO,CAAE9+D,KAAM,UAAWY,MAAO,QAErC,IAAI2G,EAAOitB,GAAcwoB,EAAYE,aAAarjB,MAAOmjB,EAAYE,aAAapjB,KAClF,OAAa,OAATvyB,GAAiBA,EAAO,EAEjB,CAAEvH,KAAM,UAAWY,MAAO,QAAS9B,IAAK,WAG5C,CAAEkB,KAAM,UAAWY,MAAO,OAAQ9B,IAAK,WAKlD,IAAI,GAAqC,WACrC,SAASyrE,EAAoBn3E,GACzB,IAAIyB,EAAQf,KACZA,KAAK02E,mBAAqB1tC,GAAQhpC,KAAK22E,qBACvC32E,KAAK42E,uBAAyB5tC,GAAQhpC,KAAK62E,yBAC3C72E,KAAKqzD,mBAAqBrqB,GAAQqqB,IAClCrzD,KAAK4zD,YAAc5qB,GAAQ4qB,IAC3B5zD,KAAK+kE,iBAAmBO,KACxBtlE,KAAK82E,aAAe9tC,GAAQ8tC,IAC5B92E,KAAK+2E,WAAa/tC,GAAQ+tC,IAC1B/2E,KAAKwwE,cAAgBxnC,GAAQwnC,IAC7BxwE,KAAKspE,eAAiBtgC,GAAQsgC,IAC9BtpE,KAAKg3E,0BAA4BztC,GAAcytC,IAC/Ch3E,KAAKi3E,aAAejuC,GAAQiuC,IAC5Bj3E,KAAKk3E,iBAAmB3tC,GAAc2tC,IACtCl3E,KAAKm3E,qBAAuBnuC,GAAQmuC,GAAsBrzC,IAC1D9jC,KAAKo3E,kBAAoBpuC,GAAQouC,IACjCp3E,KAAKq3E,0BAA4B9tC,GAAc8tC,IAC/Cr3E,KAAKu2E,WAAavtC,GAAQutC,IAC1Bv2E,KAAKonD,QAAU,IAAIgV,GACnBp8D,KAAKs3E,aAAe,IAAItB,GAAWh2E,KAAKu3E,cAActkE,KAAKjT,MAAOA,KAAKw3E,WAAWvkE,KAAKjT,OACvFA,KAAKsrD,4BAA8B,GACnCtrD,KAAKy3E,8BAAgC,GACrCz3E,KAAK03E,wBAA0B,GAC/B13E,KAAK23E,0BAA4B,GACjC33E,KAAK0rD,+BAAiC,GACtC1rD,KAAKgpD,eAAiB,WAAc,OAAOjoD,EAAM2mB,MACjD1nB,KAAKw6B,SAAW,SAAUgwB,GACtBzpD,EAAMu2E,aAAarW,QAAQzW,IAE/BxqD,KAAKV,MAAQA,EACbU,KAAKs3E,aAAa5B,QAClB,IAAIjM,EAAyB,GACzBmO,EAAc53E,KAAK02E,mBAAmBp3E,EAAMkqE,gBAAiBC,EAAwBnqE,EAAMqoD,aAC3FkwB,EAAkBD,EAAYhmD,gBAAgBkf,aAAe8mC,EAAYtyC,YAAYwL,YACrFgnC,EAAkB93E,KAAK42E,uBAAuBiB,EAAiBD,EAAat4E,EAAMkqE,gBAAiBC,GAGvGnqE,EAAMqoD,YAAYqD,mBAAqBhrD,KACvCA,KAAKonD,QAAQmV,eAAej9D,EAAMqoD,aAClC3nD,KAAKonD,QAAQoV,WAAWsb,EAAgBr4E,SACxC,IAAI8qD,EAAcG,GAAektB,EAAYhmD,gBAAiBgmD,EAAY/yC,SACtEqkB,EAAc4uB,EAAgBlW,qBAAqBtvD,MAAMi4C,GACxDjJ,GAAoB4H,EAAYC,YAAaoB,KAC9CA,EAAcrB,EAAYE,aAAarjB,OAY3C,IAVA,IAAIgyC,EAAkB,CAClBlzC,QAAS+yC,EAAY/yC,QACrBplC,QAASm4E,EAAYhmD,gBACrB0T,YAAasyC,EAAYtyC,YACzBqiB,YAAaroD,EAAMqoD,YACnBntB,SAAUx6B,KAAKw6B,SACf4sB,QAASpnD,KAAKonD,QACd4B,eAAgBhpD,KAAKgpD,gBAGhBtlB,EAAK,EAAGrkB,EAAKu4D,EAAYtyC,YAAYq+B,YAAajgC,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAC7E,IAAIjZ,EAAWpL,EAAGqkB,GAClBjZ,EAASstD,GAqBb,IAlBA,IAAIj+B,EAAeozB,GAAiB0K,EAAYhmD,gBAAiBs3B,EAAa6uB,GAC1EC,EAAe,CACfvO,uBAAwBA,EACxBoO,gBAAiBA,EACjBttB,YAAaA,EACbrB,YAAaA,EACbzV,cAAezzC,KAAKq3E,0BAA0BU,GAC9Cj+B,aAAcA,EACd2H,aAAc,GACdrc,WAAY+V,KACZ88B,qBAAsB98B,KACtBmS,cAAe,KACfqK,eAAgB,GAChBP,UAAW,KACXE,YAAa,KACb4gB,gBAAiBl4E,KAAKk3E,iBAAiBa,GAAiBG,iBAExDC,EAAkBrlD,EAASA,EAAS,GAAIilD,GAAkBC,GACrD97C,EAAK,EAAG5K,EAAKsmD,EAAYtyC,YAAYm+B,SAAUvnC,EAAK5K,EAAG/wB,OAAQ27B,IAAM,CAC1E,IAAIk8C,EAAU9mD,EAAG4K,GACjBpJ,EAASklD,EAAcI,EAAQ,KAAM,KAAMD,IAE3CE,GAAiBL,EAAcD,IAC/B/3E,KAAKonD,QAAQC,QAAQ,WAAW,GAEpCrnD,KAAKo1B,MAAQ4iD,EACbh4E,KAAKw3E,aACLx3E,KAAKs3E,aAAa1B,SAiQtB,OA/PAa,EAAoBzgE,UAAUsiE,aAAe,SAAU9O,EAAiB+O,GACpE,IAAIj5E,EAAQU,KAAKV,MACjBA,EAAMkqE,gBAAkB+O,EAClBzlD,EAASA,EAAS,GAAIxzB,EAAMkqE,iBAAkBA,GAAmBA,EACvExpE,KAAKs3E,aAAarW,QAAQ,CACtBz3D,KAAM,aAGditE,EAAoBzgE,UAAUuhE,cAAgB,SAAU/sB,GACpD,IAAInrC,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAO81B,EAAQ/V,EAAG+V,MAAOgyB,EAAU/nC,EAAG+nC,QAC5DqiB,EAAyBsD,GAA6B33C,EAAMq0C,uBAAwBjf,GACpFotB,EAAc53E,KAAK02E,mBAAmBp3E,EAAMkqE,gBAAiBC,EAAwBnqE,EAAMqoD,aAC3FkwB,EAAkB/K,GAAe13C,EAAMyiD,gBAAiBrtB,GACxDstB,EAAkB93E,KAAK42E,uBAAuBiB,EAAiBD,EAAat4E,EAAMkqE,gBAAiBC,GAGvGnqE,EAAMqoD,YAAYqD,mBAAqBhrD,KACvConD,EAAQmV,eAAej9D,EAAMqoD,aAC7BP,EAAQoV,WAAWsb,EAAgBr4E,SACnC,IAAIs4E,EAAkB,CAClBlzC,QAAS+yC,EAAY/yC,QACrBplC,QAASm4E,EAAYhmD,gBACrB0T,YAAasyC,EAAYtyC,YACzBqiB,YAAaroD,EAAMqoD,YACnBntB,SAAUx6B,KAAKw6B,SACf4sB,QAASA,EACT4B,eAAgBhpD,KAAKgpD,gBAErBuB,EAAcn1B,EAAMm1B,YAAarB,EAAc9zB,EAAM8zB,YACrDlpD,KAAK0nB,MAAQ1nB,KAAK0nB,KAAKk6C,uBAAyBkW,EAAgBlW,uBAChE1Y,EAAc4uB,EAAgBlW,qBAAqBtvD,MAAMi4C,IAE7DA,EAAcD,GAAkBC,EAAaC,GAC7CtB,EAAc8jB,GAAkB9jB,EAAasB,EAAQD,EAAautB,EAAgBlW,sBAC9D,SAAhBpX,EAAOhhD,MACS,SAAhBghD,EAAOhhD,MACN83C,GAAoB4H,EAAYE,aAAcmB,KAC/CA,EAAcrB,EAAYE,aAAarjB,OA4B3C,IA1BA,IAAI+T,EAAeuzB,GAAmBj4C,EAAM0kB,aAAc0Q,EAAQtB,EAAa6uB,GAC3E3yC,EAAaypC,GAAiBz5C,EAAMgQ,WAAYolB,EAAQ1Q,EAAcoP,EAAa6uB,GACnFS,EAAkB3K,GAA2B/zB,GAC7Cm+B,EAAwBO,IAAoBV,EAAgBr4E,QAAQ+zC,2BACnEpe,EAAM6iD,sBACP7yC,EACAlJ,EAAKl8B,KAAKk3E,iBAAiBa,GAAkBU,EAAoBv8C,EAAGu8C,kBAAmBP,EAAkBh8C,EAAGg8C,gBAC5GQ,EAAkB14E,KAAKm3E,qBAAqBr9B,GAC5C2H,EAAezhD,KAAKo3E,kBAAkBa,EAAqB1yC,KAAMkzC,EAAmBC,GACpFC,EAAW,CACXlP,uBAAwBA,EACxBoO,gBAAiBA,EACjBttB,YAAaA,EACbrB,YAAaA,EACbpP,aAAcA,EACd1U,WAAYA,EACZ6yC,qBAAsBA,EACtBC,gBAAiBA,EACjBz2B,aAAcA,EACdhO,cAAezzC,KAAKq3E,0BAA0BU,GAC9CzqB,cAAeuiB,GAAoBz6C,EAAMk4B,cAAe9C,GACxDmN,eAAgBoY,GAAoB36C,EAAMuiC,eAAgBnN,GAC1D4M,UAAW8Y,GAAgB96C,EAAMgiC,UAAW5M,GAC5C8M,YAAa+Y,GAAkBj7C,EAAMkiC,YAAa9M,IAElD2tB,EAAkBrlD,EAASA,EAAS,GAAIilD,GAAkBY,GACrDj1C,EAAK,EAAGpS,EAAKsmD,EAAYtyC,YAAYm+B,SAAU//B,EAAKpS,EAAG/wB,OAAQmjC,IAAM,CAC1E,IAAI00C,EAAU9mD,EAAGoS,GACjB5Q,EAAS6lD,EAAUP,EAAQhjD,EAAOo1B,EAAQ2tB,IAE9C,IAAIS,EAAaP,GAAiBjjD,EAAO2iD,GACrCc,EAAYR,GAAiBM,EAAUZ,IAEtCa,GAAcC,EACfzxB,EAAQC,QAAQ,WAAW,GAEtBuxB,IAAeC,GACpBzxB,EAAQC,QAAQ,WAAW,GAE/BrnD,KAAKo1B,MAAQujD,EACTr5E,EAAMw5E,UACNx5E,EAAMw5E,SAAStuB,IAGvBisB,EAAoBzgE,UAAUwhE,WAAa,WACvC,IAAIn4D,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAO81B,EAAQ/V,EAAG+V,MACxC2jD,EAAU/4E,KAAK0nB,KACfkwD,EAAc53E,KAAK02E,mBAAmBp3E,EAAMkqE,gBAAiBp0C,EAAMq0C,uBAAwBnqE,EAAMqoD,aACjGmwB,EAAkB93E,KAAK42E,uBAAuBxhD,EAAMyiD,gBAAiBD,EAAat4E,EAAMkqE,gBAAiBp0C,EAAMq0C,wBAC/G/hD,EAAO1nB,KAAK0nB,KAAOoL,EAASA,EAASA,EAAS,CAAEm2B,UAAWjpD,KAAKu2E,WAAWnhD,EAAM8zB,YAAa4uB,EAAgBr4E,QAASm4E,EAAY/yC,SAAU8iB,YAAaroD,EAAMqoD,YAAantB,SAAUx6B,KAAKw6B,SAAU4sB,QAASpnD,KAAKonD,QAAS4B,eAAgBhpD,KAAKgpD,gBAAkB4uB,GAAcE,GAAkB1iD,GACpS4jD,EAAiBpB,EAAYtyC,YAAYm/B,qBACzCwU,EAAqBF,GAAWA,EAAQnnD,gBACxCsnD,EAAqBtB,EAAYhmD,gBACrC,GAAIqnD,GAAsBA,IAAuBC,EAM7C,IAAK,IAAI9tB,KALL6tB,EAAmB3sC,WAAa4sC,EAAmB5sC,WAEnDlX,EAAM0kB,aAAepyB,EAAKoyB,aAAe8zB,GAA8BlmD,EAAKoyB,aAAc1kB,EAAM8zB,YAAaxhC,GAC7G0N,EAAMgQ,WAAa1d,EAAK0d,WAAaoqC,GAAsB9nD,EAAK0d,WAAY2zC,EAAQl0C,QAASnd,EAAKmd,UAE/Em0C,EACfC,EAAmB7tB,KAAgB8tB,EAAmB9tB,IACtD4tB,EAAe5tB,GAAY8tB,EAAmB9tB,GAAa1jC,GAInEpoB,EAAM65E,QACN75E,EAAM65E,OAAOzxD,IAGrB+uD,EAAoBzgE,UAAU2gE,oBAAsB,SAAUnN,EAAiBC,EAAwB9hB,GAEnG,IAAItoC,EAAKrf,KAAKo5E,0BAA0B5P,EAAiBC,GAAyB4P,EAAiBh6D,EAAGg6D,eAAgB/zC,EAAcjmB,EAAGimB,YAAaokC,EAAiBrqD,EAAGqqD,eAAgB4P,EAAsBj6D,EAAGi6D,oBAAqBz+B,EAAQx7B,EAAGw7B,MACjP0+B,GAAmB1+B,GACnB,IAAIhW,EAAU7kC,KAAK82E,aAAauC,EAAe/sC,SAAU+sC,EAAer1E,OAAQq1E,EAAenoC,sBAAuBmoC,EAAejiC,SAAUiiC,EAAeltC,SAAU7G,EAAag0C,EAAqBD,EAAeppC,uBACrNgc,EAAYjsD,KAAKspE,eAAehkC,EAAYqU,MAAO6vB,EAAiBC,EAAwBC,GAC5FvQ,EAAQn5D,KAAK+2E,WAAWsC,EAAgB/zC,GACxC6mB,EAAgBnsD,KAAKwwE,cAAc6I,EAAgB7P,EAAiBrQ,EAAOlN,EAAWtE,GAC1F,MAAO,CACH/1B,gBAAiBynD,EACjB/zC,YAAaA,EACbT,QAASA,EACTonB,UAAWA,EACXkN,MAAOA,EACPhN,cAAeA,EACfud,eAAgBA,EAChBle,oBAAqB8tB,EAAoBt4E,MAIjDy1E,EAAoBzgE,UAAUojE,0BAA4B,SAAU5P,EAAiBC,GACjF,IAAIpqD,EAAKo7B,GAAgB,CACrBrC,GACAoxB,EACAC,IACAp3B,EAAUhzB,EAAGgzB,QAASruC,EAASqb,EAAGrb,OAClCs1E,EAAsBt5E,KAAKqzD,mBAAmBhhB,GAC9CmZ,EAAsB8tB,EAAoBt4E,IAC1C0oE,EAAiB1pE,KAAK4zD,YAAY5vD,GAAUs1E,EAAoB/lB,YAAa/H,GAAqB/rD,QAClG6lC,EAActlC,KAAK+kE,iBAAiByE,EAAgBrkE,SAAW,GAAIsvE,IACnE75B,EAAW56C,KAAK0rD,+BAAiC54B,EAASA,EAASA,EAASA,EAASA,EAAS,GAAIkc,IAAuBsJ,IAA6BmB,IAA2BnU,EAAYs/B,kBAAmBt/B,EAAYu/B,gBAC5NhqB,EAAQ,GACRC,EAAML,GAAgB,CACtBrC,GACAsxB,EACAF,EACAC,IAEA9kC,EAAU,GACV60C,EAAax5E,KAAKsrD,4BAClBmuB,EAAiBz5E,KAAKy3E,8BACtBiC,GAAa,EACjB,IAAK,IAAItuB,KAActQ,EACA,YAAfsQ,IACItQ,EAAIsQ,KAAgBouB,EAAWpuB,IAC9BrR,GAA2BqR,IACvBA,KAAcouB,GACfz/B,GAA2BqR,GAAYouB,EAAWpuB,GAAatQ,EAAIsQ,IACvEzmB,EAAQymB,GAAcquB,EAAeruB,GAEhCxQ,EAASwQ,IACdzmB,EAAQymB,GAAcxQ,EAASwQ,GAAYtQ,EAAIsQ,IAC/CsuB,GAAa,GAGb7+B,EAAMuQ,GAAcouB,EAAWpuB,IAQ3C,OAJIsuB,IACA15E,KAAKsrD,4BAA8BxQ,EACnC96C,KAAKy3E,8BAAgC9yC,GAElC,CACH8hC,WAAYzmE,KAAKsrD,4BACjB+tB,eAAgBr5E,KAAKy3E,8BACrBnyC,YAAaA,EACbg0C,oBAAqBA,EACrB5P,eAAgBA,EAChB7uB,MAAOA,IAGf47B,EAAoBzgE,UAAU6gE,wBAA0B,SAAUhrB,EAAU+rB,EAAapO,EAAiBC,GACtG,IAAI/H,EAAWkW,EAAY3rB,UAAUJ,GACrC,IAAK6V,EACD,MAAM,IAAI9xD,MAAM,aAAgBi8C,EAAW,8EAE/C,IAAIxsC,EAAKrf,KAAK25E,sBAAsBjY,EAAUkW,EAAYtyC,YAAasyC,EAAYlO,eAAgBF,EAAiBC,GAAyB4P,EAAiBh6D,EAAGg6D,eAAgBx+B,EAAQx7B,EAAGw7B,MAC5L0+B,GAAmB1+B,GACnB,IAAI+mB,EAAuB5hE,KAAKg3E,0BAA0B,CACtD58B,0BAA2BsnB,EAAS2I,eAAejwB,0BACnD9pC,SAAUoxD,EAASpxD,SACnBw5D,aAAcpI,EAASoI,aACvBzvB,eAAgBqnB,EAAS2I,eAAehwB,eACxCxV,QAAS+yC,EAAY/yC,QACrB8iB,YAAa3nD,KAAKV,MAAMqoD,YACxBjY,YAAa2pC,EAAe3pC,YAC5BC,YAAa0pC,EAAe1pC,YAC5BqC,oBAAqBqnC,EAAernC,oBACpCqF,SAAUgiC,EAAehiC,SACzBC,cAAe+hC,EAAe/hC,cAC9BC,cAAe8hC,EAAe9hC,cAC9BC,WAAY6hC,EAAe7hC,WAC3BvG,SAAUooC,EAAepoC,SACzB4Z,SAAUwuB,EAAe/0E,IACzBunE,gBAAiBwN,EAAe1hC,WAChC60B,kBAAmB6M,EAAezhC,aAClCH,UAAW4hC,EAAe5hC,UAC1BC,eAAgB2hC,EAAe3hC,iBAE/BgQ,EAAU1nD,KAAKi3E,aAAaprB,EAAU7rD,KAAKgpD,eAAgB4uB,EAAY/yC,SAC3E,MAAO,CAAE68B,SAAUA,EAAUjiE,QAAS45E,EAAgBzX,qBAAsBA,EAAsBla,QAASA,IAE/G+uB,EAAoBzgE,UAAU2jE,sBAAwB,SAAUjY,EAAUp8B,EAAaokC,EAAgBF,EAAiBC,GACpH,IAAI3uB,EAAML,GAAgB,CACtBrC,GACAspB,EAAS2I,eACTX,EACAF,EACA9H,EAAS8H,gBACTC,IAEA7uB,EAAW9nB,EAASA,EAASA,EAASA,EAASA,EAASA,EAAS,GAAIkc,IAAuBsJ,IAA6BmB,IAA2BQ,IAAuB3U,EAAYs/B,kBAAmBt/B,EAAYu/B,gBACtNlgC,EAAU,GACV60C,EAAax5E,KAAK03E,wBAClB+B,EAAiBz5E,KAAK23E,0BACtB+B,GAAa,EACb7+B,EAAQ,GACZ,IAAK,IAAIuQ,KAActQ,EACfA,EAAIsQ,KAAgBouB,EAAWpuB,GAC/BzmB,EAAQymB,GAAcquB,EAAeruB,IAGjCtQ,EAAIsQ,KAAgBprD,KAAKsrD,4BAA4BF,GACjDA,KAAcprD,KAAKy3E,gCACnB9yC,EAAQymB,GAAcprD,KAAKy3E,8BAA8BrsB,IAGxDxQ,EAASwQ,GACdzmB,EAAQymB,GAAcxQ,EAASwQ,GAAYtQ,EAAIsQ,IAG/CvQ,EAAMuQ,GAActQ,EAAIsQ,GAE5BsuB,GAAa,GAOrB,OAJIA,IACA15E,KAAK03E,wBAA0B58B,EAC/B96C,KAAK23E,0BAA4BhzC,GAE9B,CACH8hC,WAAYzmE,KAAK03E,wBACjB2B,eAAgBr5E,KAAK23E,0BACrB98B,MAAOA,IAGR47B,EAzV6B,GA2VxC,SAASK,GAAaxqC,EAAUstC,EAAgB1oC,EAAuBkG,EAAUjL,EAAU7G,EAAag0C,EAAqB1tC,GACzH,IAAI5nC,EAAS4vD,GAAYgmB,GAAkBN,EAAoB/lB,YAAa+lB,EAAoBt4E,KAChG,OAAO,IAAIwwD,GAAQ,CACfvmB,eAAgB,UAChBqB,SAAUA,EACVolB,kBAAmBpsB,EAAYi/B,mBAC/BvgE,OAAQA,EACRktC,sBAAuBA,EACvBkG,SAAUA,EACVjL,SAAUA,EACV0C,aAAcvJ,EAAYuJ,aAC1BjD,iBAAkBA,IAG1B,SAASmrC,GAAWt3E,EAAS6lC,GACzB,IAAIu0C,EAAav0C,EAAYg/B,aAAa7kE,EAAQ6yC,cAAgB,GAClE,OAAO,IAAIunC,EAAWp6E,GAE1B,SAASu3E,GAA0B13E,GAC/B,IAAIw6E,EAA4Bx6E,EAAM86C,2BAA6BswB,GACnE,OAAO,IAAIoP,EAA0Bx6E,GAEzC,SAAS23E,GAAaztE,EAAMw/C,EAAgBnkB,GACxC,OAAO,IAAIkkB,GAAQv/C,EAAMw/C,EAAgBnkB,GAE7C,SAASsyC,GAAqBr9B,GAC1B,OAAOvW,GAAQuW,GAAc,SAAUmB,GAAe,OAAOA,EAAY2D,MAE7E,SAASw4B,GAAkBp0B,EAAWy1B,EAAmBC,GACrD,IAAIj3B,EAAe,CAAE,GAAIg3B,GACzB,IAAK,IAAIj2C,KAASwgB,EAAW,CACzB,IAAIvd,EAAMud,EAAUxgB,GAChBiD,EAAIhL,UAAYi+C,EAAgBjzC,EAAIhL,YACpCgnB,EAAajf,GAASk2C,EAAgBjzC,EAAIhL,WAGlD,OAAOgnB,EAEX,SAASy1B,GAAiBa,GACtB,IAAIt4E,EAAUs4E,EAAgBt4E,QAC9B,MAAO,CACHg5E,kBAAmB96B,GAAc,CAC7BrqC,QAAS7T,EAAQu0C,aACjBzC,SAAU9xC,EAAQ8xC,SAClBwL,cAAet9C,EAAQw0C,mBACvB+I,iBAAkBv9C,EAAQy0C,sBAC1B+I,WAAYx9C,EAAQ20C,gBACpB8I,QAAyC,mBAAzBz9C,EAAQ00C,aAA6B10C,EAAQ00C,kBAAe3zC,EAC5E28C,MAAO19C,EAAQ40C,WACfgJ,gBAAiB59C,EAAQ60C,qBACzBgJ,YAAa79C,EAAQ80C,iBACrBgJ,UAAW99C,EAAQ+0C,eACnB4I,MAAO39C,EAAQg1C,YAEhBsjC,GACHG,gBAAiBv6B,GAAc,CAC3BV,WAAYx9C,EAAQq1C,iBACpBoI,QAA0C,mBAA1Bz9C,EAAQs1C,cAA8Bt1C,EAAQs1C,mBAAgBv0C,EAC9E28C,MAAO19C,EAAQu1C,aAChB+iC,IAGX,SAASM,GAAiBjjD,EAAO9J,GAC7B,IAAK,IAAIoY,EAAK,EAAGrkB,EAAKiM,EAAQga,YAAYo+B,eAAgBhgC,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAC5E,IAAIq2C,EAAgB16D,EAAGqkB,GACvB,GAAIq2C,EAAc3kD,GACd,OAAO,EAGf,OAAO,EAEX,SAASiiD,GAA0BU,GAC/B,OAAOpjB,GAAmBojB,EAAgBt4E,QAAQg0C,cAAeskC,GAErE,SAASwB,GAAmB95E,EAASu6E,GACjC,IAAK,IAAI5uB,KAAc3rD,EACnBqD,QAAQC,KAAK,mBAAqBqoD,EAAa,KAC1C4uB,EAAW,cAAgBA,EAAW,IAAM,MAKf,SAAUlgD,GAEhD,SAASmgD,EAAqB36E,GAC1B,IAAIyB,EAAQ+4B,EAAO7jB,KAAKjW,KAAMV,IAAUU,KAexC,OAdAe,EAAMm5E,WAAa,SAAUxyD,GACpB3mB,EAAMo5E,YAKPp5E,EAAMg2B,SAASrP,GAHf3mB,EAAMq0B,MAAQ1N,GAMtB3mB,EAAMo5E,YAAc,IAAI,GAAoB,CACxC3Q,gBAAiBlqE,EAAMkqE,gBACvB7hB,YAAaroD,EAAMqoD,YACnBwxB,OAAQp4E,EAAMm5E,aAEXn5E,EAjBX2xB,EAAUunD,EAAsBngD,GAmBhCmgD,EAAqBjkE,UAAUma,OAAS,WACpC,OAAOnwB,KAAKV,MAAM2a,SAASja,KAAKo1B,QAEpC6kD,EAAqBjkE,UAAU4f,mBAAqB,SAAUwkD,GAC1D,IAAIC,EAAqBr6E,KAAKV,MAAMkqE,gBAChC6Q,IAAuBD,EAAU5Q,iBACjCxpE,KAAKm6E,YAAY7B,aAAa+B,KA1BD,CA8BvC7gD,KAWqC,WACnC,SAAS8gD,EAAkBvwC,GACvB/pC,KAAK+pC,aAAeA,IAFU,GAAtC,IAOI,GAA8B,WAC9B,SAASwwC,IAELv6E,KAAKw6E,aAAc,EACnBx6E,KAAKy6E,gBAAiB,EACtBz6E,KAAK06E,UAAY,EACjB16E,KAAK26E,aAAe,EACpB36E,KAAK46E,YAAc,GACnB56E,KAAK66E,eAAiB,GACtB76E,KAAK86E,UAAY,GAsJrB,OApJAP,EAAavkE,UAAU+kE,QAAU,SAAU9R,GAEvC,IADA,IAAI+R,EAAgB,GACXt3C,EAAK,EAAGuwC,EAAWhL,EAAQvlC,EAAKuwC,EAAS1zE,OAAQmjC,IAAM,CAC5D,IAAI1xB,EAAQiiE,EAASvwC,GACrB1jC,KAAKi7E,YAAYjpE,EAAOgpE,GAE5B,OAAOA,GAEXT,EAAavkE,UAAUilE,YAAc,SAAUvvD,EAAOsvD,GAClD,IAAItvC,EAAY1rC,KAAKk7E,cAAcxvD,GACnC,OAAI1rB,KAAKm7E,iBAAiBzvC,EAAWhgB,IACjC1rB,KAAKo7E,cAAc1vD,EAAOggB,GACnB,GAEJ1rC,KAAKq7E,uBAAuB3vC,EAAWhgB,EAAOsvD,IAEzDT,EAAavkE,UAAUmlE,iBAAmB,SAAUzvC,EAAWhgB,GAC3D,QAA2B,IAAnB1rB,KAAK06E,UAAmBhvC,EAAU4vC,WAAa5vD,EAAM6vD,WAAav7E,KAAK06E,aACpD,IAAtB16E,KAAK26E,aAAsBjvC,EAAU8vC,SAAWx7E,KAAK26E,cAG9DJ,EAAavkE,UAAUqlE,uBAAyB,SAAU3vC,EAAWhgB,EAAOsvD,GACxE,OAAIh7E,KAAKy6E,gBAAkB/uC,EAAU+vC,cAC1Bz7E,KAAK07E,WAAWhwD,EAAOggB,EAAU+vC,cAAeT,IAE3DA,EAAcplE,KAAK8V,GACZ,IAEX6uD,EAAavkE,UAAU0lE,WAAa,SAAUhwD,EAAOiwD,EAASX,GAC1D,IAAIY,EAAU,EACVC,EAAqB,GACrBC,EAAYpwD,EAAMs6B,KAClB+1B,EAAcJ,EAAQ31B,KAe1B,OAdI81B,EAAU/1C,MAAQg2C,EAAYh2C,QAC9B61C,GAAW57E,KAAKi7E,YAAY,CACxBe,MAAOtwD,EAAMswD,MACbT,UAAW7vD,EAAM6vD,UACjBv1B,KAAM,CAAEjgB,MAAO+1C,EAAU/1C,MAAOC,IAAK+1C,EAAYh2C,QAClD81C,IAEHC,EAAU91C,IAAM+1C,EAAY/1C,MAC5B41C,GAAW57E,KAAKi7E,YAAY,CACxBe,MAAOtwD,EAAMswD,MACbT,UAAW7vD,EAAM6vD,UACjBv1B,KAAM,CAAEjgB,MAAOg2C,EAAY/1C,IAAKA,IAAK81C,EAAU91C,MAChD61C,IAEHD,GACAZ,EAAcplE,KAAKlO,MAAMszE,EAAejoD,EAAc,CAAC,CAC/CipD,MAAOtwD,EAAMswD,MACbT,UAAW7vD,EAAM6vD,UACjBv1B,KAAMi2B,GAAeF,EAAaD,KAClCD,IACDD,IAEXZ,EAAcplE,KAAK8V,GACZ,IAEX6uD,EAAavkE,UAAUolE,cAAgB,SAAU1vD,EAAOggB,GACpD,IAAIrsB,EAAKrf,KAAM66E,EAAiBx7D,EAAGw7D,eAAgBD,EAAcv7D,EAAGu7D,aACzC,IAAvBlvC,EAAUwwC,SAEVC,GAASvB,EAAalvC,EAAU0wC,MAAO1wC,EAAU4vC,YACjDa,GAAStB,EAAgBnvC,EAAU0wC,MAAO,CAAC1wD,KAI3CywD,GAAStB,EAAenvC,EAAU0wC,OAAQ1wC,EAAUwwC,QAASxwD,GAEjE1rB,KAAK86E,UAAUuB,GAAc3wD,IAAUggB,EAAU8vC,UAErDjB,EAAavkE,UAAUklE,cAAgB,SAAUoB,GAQ7C,IAPA,IAAIj9D,EAAKrf,KAAM46E,EAAcv7D,EAAGu7D,YAAaC,EAAiBx7D,EAAGw7D,eAAgBL,EAAcn7D,EAAGm7D,YAAaM,EAAYz7D,EAAGy7D,UAC1HyB,EAAW3B,EAAYr6E,OACvBi8E,EAAiB,EACjBC,GAAiB,EACjBC,GAAmB,EACnBjB,EAAgB,KAChBD,EAAW,EACNmB,EAAgB,EAAGA,EAAgBJ,EAAUI,GAAiB,EAAG,CACtE,IAAIC,EAAgBhC,EAAY+B,GAGhC,IAAKnC,GAAeoC,GAAiBJ,EAAiBF,EAASf,UAC3D,MAEJ,IAAIsB,EAAkBhC,EAAe8B,GACjCG,OAAgB,EAChBC,EAAYC,GAAaH,EAAiBP,EAASt2B,KAAKjgB,MAAOk3C,IAC/DC,EAAeH,EAAU,GAAKA,EAAU,GAC5C,OACCD,EAAgBD,EAAgBK,KAC7BJ,EAAc92B,KAAKjgB,MAAQu2C,EAASt2B,KAAKhgB,IAC3C,CACE,IAAIm3C,EAAsBP,EAAgBE,EAAcvB,UAEpD4B,EAAsBX,IACtBA,EAAiBW,EACjB1B,EAAgBqB,EAChBL,EAAgBE,EAChBD,EAAkBQ,GAGlBC,IAAwBX,IAExBhB,EAAW73E,KAAK0M,IAAImrE,EAAUV,EAAUuB,GAAcS,IAAkB,IAE5EI,GAAgB,GAIxB,IAAIE,EAAY,EAChB,GAAI3B,EAAe,CACf2B,EAAYX,EAAgB,EAC5B,MAAOW,EAAYb,GAAY3B,EAAYwC,GAAaZ,EACpDY,GAAa,EAIrB,IAAIC,GAAe,EAInB,OAHID,EAAYb,GAAY3B,EAAYwC,KAAeZ,IACnDa,EAAcL,GAAanC,EAAeuC,GAAYd,EAASt2B,KAAKhgB,IAAKi3C,IAAiB,IAEvF,CACHR,cAAeA,EACfC,gBAAiBA,EACjBjB,cAAeA,EACfD,SAAUA,EACVF,WAAYkB,EACZJ,MAAOgB,EACPlB,QAASmB,IAIjB9C,EAAavkE,UAAUsnE,QAAU,WAI7B,IAHA,IAAIj+D,EAAKrf,KAAM66E,EAAiBx7D,EAAGw7D,eAAgBD,EAAcv7D,EAAGu7D,YAChE2B,EAAW1B,EAAet6E,OAC1Bg9E,EAAQ,GACHnB,EAAQ,EAAGA,EAAQG,EAAUH,GAAS,EAG3C,IAFA,IAAI3wD,EAAUovD,EAAeuB,GACzBd,EAAaV,EAAYwB,GACpB14C,EAAK,EAAG85C,EAAY/xD,EAASiY,EAAK85C,EAAUj9E,OAAQmjC,IAAM,CAC/D,IAAIhY,EAAQ8xD,EAAU95C,GACtB65C,EAAM3nE,KAAKkd,EAASA,EAAS,GAAIpH,GAAQ,CAAE4vD,WAAYA,KAG/D,OAAOiC,GAEJhD,EA/JsB,GAiKjC,SAAS0C,GAAgBvxD,GACrB,OAAOA,EAAMs6B,KAAKhgB,IAEtB,SAASq2C,GAAc3wD,GACnB,OAAOA,EAAMswD,MAAQ,IAAMtwD,EAAMs6B,KAAKjgB,MAG1C,SAAS03C,GAAyBhyD,GAE9B,IADA,IAAIiyD,EAAS,GACJh6C,EAAK,EAAGi6C,EAAYlyD,EAASiY,EAAKi6C,EAAUp9E,OAAQmjC,IAAM,CAO/D,IANA,IAAIhY,EAAQiyD,EAAUj6C,GAClBk6C,EAAiB,GACjBC,EAAc,CACd73B,KAAMt6B,EAAMs6B,KACZv6B,QAAS,CAACC,IAELrM,EAAK,EAAGy+D,EAAWJ,EAAQr+D,EAAKy+D,EAASv9E,OAAQ8e,IAAM,CAC5D,IAAI0+D,EAAQD,EAASz+D,GACjB48D,GAAe8B,EAAM/3B,KAAM63B,EAAY73B,MACvC63B,EAAc,CACVpyD,QAASsyD,EAAMtyD,QAAQnL,OAAOu9D,EAAYpyD,SAC1Cu6B,KAAMg4B,GAAUD,EAAM/3B,KAAM63B,EAAY73B,OAI5C43B,EAAehoE,KAAKmoE,GAG5BH,EAAehoE,KAAKioE,GACpBH,EAASE,EAEb,OAAOF,EAEX,SAASM,GAAU53B,EAAOC,GACtB,MAAO,CACHtgB,MAAOpiC,KAAKyM,IAAIg2C,EAAMrgB,MAAOsgB,EAAMtgB,OACnCC,IAAKriC,KAAK0M,IAAI+1C,EAAMpgB,IAAKqgB,EAAMrgB,MAGvC,SAASi2C,GAAe71B,EAAOC,GAC3B,IAAItgB,EAAQpiC,KAAK0M,IAAI+1C,EAAMrgB,MAAOsgB,EAAMtgB,OACpCC,EAAMriC,KAAKyM,IAAIg2C,EAAMpgB,IAAKqgB,EAAMrgB,KACpC,OAAID,EAAQC,EACD,CAAED,MAAOA,EAAOC,IAAKA,GAEzB,KAIX,SAASm2C,GAAShuE,EAAK6tE,EAAOp4C,GAC1Bz1B,EAAIyP,OAAOo+D,EAAO,EAAGp4C,GAEzB,SAASo5C,GAAa52D,EAAG63D,EAAWC,GAChC,IAAIhkE,EAAa,EACbC,EAAWiM,EAAE7lB,OACjB,IAAK4Z,GAAY8jE,EAAYC,EAAW93D,EAAElM,IACtC,MAAO,CAAC,EAAG,GAEf,GAAI+jE,EAAYC,EAAW93D,EAAEjM,EAAW,IACpC,MAAO,CAACA,EAAU,GAEtB,MAAOD,EAAaC,EAAU,CAC1B,IAAIgkE,EAAcx6E,KAAKm+B,MAAM5nB,GAAcC,EAAWD,GAAc,GAChEkkE,EAAYF,EAAW93D,EAAE+3D,IAC7B,GAAIF,EAAYG,EACZjkE,EAAWgkE,MAEV,MAAIF,EAAYG,GAIjB,MAAO,CAACD,EAAa,GAHrBjkE,EAAaikE,EAAc,GAMnC,MAAO,CAACjkE,EAAY,GAGxB,IAAImkE,GAA6B,WAC7B,SAASA,EAAYnxB,GACjBltD,KAAKk6C,UAAYgT,EAAShT,UAC1Bl6C,KAAKs+E,kBAAoBpxB,EAASoxB,mBAAqB,KAI3D,OAFAD,EAAYroE,UAAUsI,QAAU,aAEzB+/D,EAPqB,GAShC,SAASE,GAAyBrkC,EAAWloC,GACzC,MAAO,CACHkoC,UAAWA,EACXzkC,GAAIzD,EAAMyD,GACV+oE,eAAwC,MAAxBxsE,EAAMwsE,gBAAyBxsE,EAAMwsE,eACrDF,kBAAmBtsE,EAAMssE,mBAAqB,MAGtD,SAASG,GAA2BvxB,GAChC,IAAI7tC,EACJ,OAAOA,EAAK,GACRA,EAAG6tC,EAAShT,UAAU4oB,KAAO5V,EAC7B7tC,EAGR,IAAIq/D,GAA2B,GAe3BC,GAAiC,WACjC,SAASA,EAAgBlpE,EAAIqT,GACzB9oB,KAAKonD,QAAU,IAAIgV,GAavB,OAXAuiB,EAAgB3oE,UAAUsI,QAAU,aAEpCqgE,EAAgB3oE,UAAU4oE,mBAAqB,SAAUz3E,KAGzDw3E,EAAgB3oE,UAAU6oE,qBAAuB,SAAU13E,KAG3Dw3E,EAAgB3oE,UAAU8oE,qBAAuB,SAAU33E,KAGpDw3E,EAfyB,GAoBhChxE,GAAS,GAMToxE,GAAqB,CACrBvqB,UAAWhuB,GACXl2B,SAAUk2B,GACV3T,OAAQ/xB,QACR25B,SAAU95B,QAEd,SAASq+E,GAAclkC,GACnB,IAAIz7B,EAAKs7B,GAAYG,EAAKikC,IAAqBp6C,EAAUtlB,EAAGslB,QAASkW,EAAQx7B,EAAGw7B,MAChF,MAAO,CACH2Z,UAAW7vB,EAAQ6vB,WAAa,KAChClkD,SAAUq0B,EAAQr0B,UAAY,KAC9BuiB,OAA0B,MAAlB8R,EAAQ9R,QAAiB8R,EAAQ9R,OACzC4H,SAAUkK,EAAQlK,SAClBwkD,cAAepkC,GAIvB,IAAI,GAAgC,SAAU/gB,GAE1C,SAASolD,IACL,OAAkB,OAAXplD,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAqC/D,OAvCA0yB,EAAUwsD,EAAgBplD,GAI1BolD,EAAelpE,UAAUma,OAAS,WAC9B,IAAIpvB,EAAQf,KACRia,EAAWja,KAAKV,MAAM6/E,aAAan+E,KAAI,SAAUo+E,GAAe,OAAOr+E,EAAMs+E,kBAAkBD,MACnG,OAAOh3E,GAAcV,WAAM,EAAQqrB,EAAc,CAAC,MAAO,CAAE/qB,UAAW,qBAAuBiS,KAEjGilE,EAAelpE,UAAUqpE,kBAAoB,SAAUD,GAKnD,IAJA,IAAI9/E,EAAQU,KAAKV,MACb65D,EAAQn5D,KAAKsrB,QAAQ6tC,MACrBl/C,EAAW,GACXqlE,GAAgB,EACX57C,EAAK,EAAG67C,EAAgBH,EAAa17C,EAAK67C,EAAch/E,OAAQmjC,IAAM,CAC3E,IAAI87C,EAASD,EAAc77C,GACvBu8B,EAAauf,EAAOvf,WAAYkR,EAAcqO,EAAOrO,YAAaz3B,EAAa8lC,EAAO9lC,WAAY03B,EAAaoO,EAAOpO,WAC1H,GAAmB,UAAfnR,EACAqf,GAAgB,EAChBrlE,EAASrE,KAAKxN,GAAc,KAAM,CAAEJ,UAAW,oBAAsB1I,EAAMme,YAE1E,CACD,IAAIgiE,EAAYrO,EAAa,CAAE,aAAcnR,GAAe,GACxDyf,EAAgB,CAAC,MAAQzf,EAAa,UAAW9G,EAAMC,SAAS,WAChE6G,IAAe3gE,EAAMqgF,cACrBD,EAAc9pE,KAAKujD,EAAMC,SAAS,iBAEtC,IAAIJ,GAAe15D,EAAMsgF,gBAAiC,UAAf3f,IACrC3gE,EAAMugF,eAAgC,SAAf5f,IACvB3gE,EAAMwgF,eAAgC,SAAf7f,EAC7BhmD,EAASrE,KAAKxN,GAAc,SAAU0qB,EAAS,CAAEjyB,SAAUm4D,EAAYhxD,UAAW03E,EAActxE,KAAK,KAAM2xE,QAAS5O,EAAa3nE,KAAM,UAAYi2E,GAAY/lC,IAAe03B,EAAahpE,GAAc,OAAQ,CAAEJ,UAAWopE,IAAgB,OAGtP,GAAIn3D,EAAS1Z,OAAS,EAAG,CACrB,IAAIy/E,EAAkBV,GAAiBnmB,EAAMC,SAAS,gBAAmB,GACzE,OAAOhxD,GAAcV,WAAM,EAAQqrB,EAAc,CAAC,MAAO,CAAE/qB,UAAWg4E,IAAmB/lE,IAE7F,OAAOA,EAAS,IAEbilE,EAxCwB,CAyCjC,IAEE,GAAyB,SAAUplD,GAEnC,SAASmmD,IACL,OAAkB,OAAXnmD,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAoC/D,OAtCA0yB,EAAUutD,EAASnmD,GAInBmmD,EAAQjqE,UAAUma,OAAS,WACvB,IAEI+vD,EACAC,EAHA9gE,EAAKrf,KAAKV,MAAO2yB,EAAQ5S,EAAG4S,MAAOmuD,EAAiB/gE,EAAG+gE,eACvDC,GAAW,EAGXC,EAAgBruD,EAAMomB,OACtBpmB,EAAMzN,MACN67D,GAAW,EACXH,EAAejuD,EAAMzN,MAGrB07D,EAAejuD,EAAM8T,MAErB9T,EAAMrN,OACNy7D,GAAW,EACXF,EAAaluD,EAAMrN,OAGnBu7D,EAAaluD,EAAM+T,IAEvB,IAAIsU,EAAa,CACb8lC,GAAkB,GAClB,aACAC,EAAW,iBAAmB,IAElC,OAAQj4E,GAAc,MAAO,CAAEJ,UAAWsyC,EAAWlsC,KAAK,MACtDpO,KAAKugF,cAAc,QAASL,GAAgB,IAC5ClgF,KAAKugF,cAAc,SAAUD,GAAiB,IAC9CtgF,KAAKugF,cAAc,MAAOJ,GAAc,MAEhDF,EAAQjqE,UAAUuqE,cAAgB,SAAUlgF,EAAK8+E,GAC7C,IAAI7/E,EAAQU,KAAKV,MACjB,OAAQ8I,GAAc,GAAgB,CAAE/H,IAAKA,EAAK8+E,aAAcA,EAAc1hE,MAAOne,EAAMme,MAAOkiE,aAAcrgF,EAAMqgF,aAAcC,eAAgBtgF,EAAMsgF,eAAgBC,cAAevgF,EAAMugF,cAAeC,cAAexgF,EAAMwgF,iBAEhOG,EAvCiB,CAwC1B,IAGE,GAA+B,SAAUnmD,GAEzC,SAAS0mD,IACL,IAAIz/E,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAYhE,OAXAe,EAAMq0B,MAAQ,CACVqrD,eAAgB,MAEpB1/E,EAAM2/E,SAAW,SAAUjrE,GACvB1U,EAAM0U,GAAKA,EACXmtD,GAAO7hE,EAAMzB,MAAM4nE,MAAOzxD,GAC1B1U,EAAM4/E,wBAEV5/E,EAAM6/E,aAAe,WACjB7/E,EAAM4/E,wBAEH5/E,EA2CX,OAzDA2xB,EAAU8tD,EAAe1mD,GAgBzB0mD,EAAcxqE,UAAUma,OAAS,WAC7B,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAO81B,EAAQ/V,EAAG+V,MACxC2b,EAAczxC,EAAMyxC,YACpBuJ,EAAa,CACb,kBACCvJ,GAAezxC,EAAMuhF,QAAUvhF,EAAM0uB,OAChC,yBACA,2BAENA,EAAS,GACT8B,EAAgB,GAgBpB,OAfIihB,EAC6B,OAAzB3b,EAAMqrD,eACNzyD,EAASoH,EAAMqrD,eAAiB1vC,EAOhCjhB,EAAiB,EAAIihB,EAAe,IAAM,IAI9C/iB,EAAS1uB,EAAM0uB,QAAU,GAErB5lB,GAAc,MAAO,CAAEqoB,IAAKzwB,KAAK0gF,SAAUX,QAASzgF,EAAMygF,QAAS/3E,UAAWsyC,EAAWlsC,KAAK,KAAMgF,MAAO,CAAE4a,OAAQA,EAAQ8B,cAAeA,IAAmBxwB,EAAM2a,WAEjLumE,EAAcxqE,UAAUwf,kBAAoB,WACxCx1B,KAAKsrB,QAAQy2C,iBAAiB/hE,KAAK4gF,eAEvCJ,EAAcxqE,UAAU2gB,qBAAuB,WAC3C32B,KAAKsrB,QAAQ02C,oBAAoBhiE,KAAK4gF,eAE1CJ,EAAcxqE,UAAU2qE,qBAAuB,WACvC3gF,KAAKyV,IACLzV,KAAKV,MAAMyxC,aAEX/wC,KAAK+2B,SAAS,CAAE0pD,eAAgBzgF,KAAKyV,GAAG/B,eAGzC8sE,EA1DuB,CA2DhC,IAKE,GAA+B,SAAU1mD,GAEzC,SAASgnD,EAAc5zB,GACnB,IAAInsD,EAAQ+4B,EAAO7jB,KAAKjW,KAAMktD,IAAaltD,KAwB3C,OAvBAe,EAAMggF,eAAiB,SAAUvrE,EAAIwrE,GACjC,IAAI9mC,EAAYn5C,EAAMm5C,UAClB5uB,EAAU4uB,EAAU5uB,QACpBu3B,EAAME,GAASi+B,GACnB,GAAIn+B,GACA3I,EAAUmpB,iBAAiB7tD,EAAGxL,QAAS,CAGvC,IAAIi3E,EAAkBhmD,GAAezlB,EAAGxL,OAAQ,wBAC5C+wB,EAAMkmD,EAAkBA,EAAgB99D,cAAc,WAAW+9D,KAAO,GAC5E51D,EAAQ87B,QAAQC,QAAQ,aAAc,CAClC5xC,GAAIurE,EACJn3E,MAAO,IAAI,GAASqwC,EAAU5uB,QAASu3B,EAAIW,WAAW/d,IAAKod,EAAIW,WAAW55B,UAC1E29B,QAAS/xC,EACTiyC,KAAMn8B,EAAQo8B,UAEd3sB,IAAQvlB,EAAGijB,mBACX92B,OAAOw/E,SAASD,KAAOnmD,KAInCh6B,EAAMud,QAAUie,GAAiB2wB,EAASz3C,GAAI,QAAS,YACvD1U,EAAMggF,gBACChgF,EAEX,OA5BA2xB,EAAUouD,EAAehnD,GA4BlBgnD,EA7BuB,CA8BhCzC,IAME,GAA+B,SAAUvkD,GAEzC,SAASsnD,EAAcl0B,GACnB,IAAInsD,EAAQ+4B,EAAO7jB,KAAKjW,KAAMktD,IAAaltD,KAqB3C,OAnBAe,EAAMsgF,oBAAsB,SAAU5rE,GAC9BA,IAAO1U,EAAMugF,cACbvgF,EAAMwgF,eAAe,KAAMxgF,EAAMugF,eAGzCvgF,EAAMygF,eAAiB,SAAUhsE,EAAIwrE,GAC7Bj+B,GAASi+B,KACTjgF,EAAMugF,aAAeN,EACrBjgF,EAAMgS,aAAa,kBAAmByC,EAAIwrE,KAGlDjgF,EAAMwgF,eAAiB,SAAU/rE,EAAIwrE,GAC7BjgF,EAAMugF,eACNvgF,EAAMugF,aAAe,KACrBvgF,EAAMgS,aAAa,kBAAmByC,EAAIwrE,KAGlDjgF,EAAM0gF,qBAAuB/kD,GAAwBwwB,EAASz3C,GAAI,YAClE1U,EAAMygF,eAAgBzgF,EAAMwgF,gBACrBxgF,EAkBX,OAzCA2xB,EAAU0uD,EAAetnD,GAyBzBsnD,EAAcprE,UAAUsI,QAAU,WAC9Bte,KAAKyhF,wBAETL,EAAcprE,UAAUjD,aAAe,SAAU2uE,EAAclsE,EAAIwrE,GAC/D,IAAI9mC,EAAYl6C,KAAKk6C,UACjB5uB,EAAU4uB,EAAU5uB,QACpBu3B,EAAME,GAASi+B,GACdxrE,IAAM0kC,EAAUmpB,iBAAiB7tD,EAAGxL,SACrCshB,EAAQ87B,QAAQC,QAAQq6B,EAAc,CAClCjsE,GAAIurE,EACJn3E,MAAO,IAAI,GAASyhB,EAASu3B,EAAIW,WAAW/d,IAAKod,EAAIW,WAAW55B,UAChE29B,QAAS/xC,EACTiyC,KAAMn8B,EAAQo8B,WAInB05B,EA1CuB,CA2ChC/C,IAEE,GAAiC,SAAUvkD,GAE3C,SAAS6nD,IACL,IAAI5gF,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KA2ChE,OA1CAe,EAAM0gE,iBAAmBz4B,GAAQy4B,IACjC1gE,EAAM6gF,0BAA4B54C,GAAQ44C,IAC1C7gF,EAAM8gF,kBAAoB74C,GAAQ64C,IAClC9gF,EAAM+gF,mBAAqBzlD,GAAuB,kBAAmBt7B,EAAMghF,oBAAoB9uE,KAAKlS,IACpGA,EAAMihF,UAAYvoD,KAClB14B,EAAMkhF,UAAYxoD,KAClB14B,EAAMmhF,kBAAoB,GAG1BnhF,EAAM8gE,6BAA+B,SAAU3nB,EAAWioC,GACtD,IAAIj1B,EAAWqxB,GAAyBrkC,EAAWioC,GAC/CC,EAAuB,CACvB,GACA,IAEAC,EAAqBD,EAAqB9hE,OAAOvf,EAAMzB,MAAMgmC,YAAY8+B,uBACzEke,EAAeD,EAAmBrhF,KAAI,SAAUuhF,GAAuB,OAAO,IAAIA,EAAoBr1B,MAC1GnsD,EAAMmhF,kBAAkBhoC,EAAU4oB,KAAOwf,EACzC5D,GAAyBxkC,EAAU4oB,KAAO5V,GAE9CnsD,EAAM+gE,+BAAiC,SAAU5nB,GAC7C,IAAK,IAAIxW,EAAK,EAAGrkB,EAAKte,EAAMmhF,kBAAkBhoC,EAAU4oB,KAAMp/B,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAChF,IAAI8+C,EAAWnjE,EAAGqkB,GAClB8+C,EAASlkE,iBAENvd,EAAMmhF,kBAAkBhoC,EAAU4oB,YAClC4b,GAAyBxkC,EAAU4oB,MAI9C/hE,EAAM0hF,aAAe,IAAIxN,IAAc,WACnCl0E,EAAMzB,MAAM8nD,QAAQC,QAAQ,WAAW,GACvCtmD,EAAMzB,MAAM8nD,QAAQC,QAAQ,eAAgB,CAAEI,KAAM1mD,EAAMzB,MAAMooD,aAEpE3mD,EAAM+xC,mBAAqB,SAAUt9B,GACjC,IAAI/V,EAAUsB,EAAMzB,MAAMG,QACtBA,EAAQqzC,oBACRt9B,EAAGxL,SAAWrI,QAEdZ,EAAM0hF,aAAaxhB,QAAQxhE,EAAQszC,oBAGpChyC,EA2GX,OAxJA2xB,EAAUivD,EAAiB7nD,GAkD3B6nD,EAAgB3rE,UAAUma,OAAS,WAC/B,IAMIuyD,EANApjF,EAAQU,KAAKV,MACb6sD,EAAgB7sD,EAAM6sD,cAAe1sD,EAAUH,EAAMG,QACrDkjF,EAAe3iF,KAAK6hF,kBAAkBviF,EAAMoiE,SAAUpiE,EAAM4pD,YAAa5pD,EAAMsiE,qBAAsBtiE,EAAMirD,YAAaK,GAAOtrD,EAAMG,QAAQ6E,IAAKhF,EAAMulC,SAC5JvlC,EAAM2pD,WACF25B,GAAY,EACZ/uC,EAAa,GAEbv0C,EAAMujF,cAAgBvjF,EAAMwjF,SAC5BjvC,EAAa,GAEU,MAAlBp0C,EAAQuuB,OACb40D,GAAY,EAEkB,MAAzBnjF,EAAQ0zC,cACbU,EAAap0C,EAAQ0zC,cAGrBuvC,EAAkB/+E,KAAK0M,IAAI5Q,EAAQsxC,YAAa,IAEpD,IAAIgyC,EAAc/iF,KAAKyhE,iBAAiBniE,EAAMoiE,SAAUpiE,EAAMooD,QAASpoD,EAAMG,QAASH,EAAMsiE,qBAAsBtiE,EAAMulC,QAASvlC,EAAM65D,MAAO75D,EAAMgmC,YAAahmC,EAAMk7B,SAAUl7B,EAAM0pD,eAAgB1pD,EAAM8nD,QAAS9nD,EAAMqoD,YAAa3nD,KAAK6hE,6BAA8B7hE,KAAK8hE,gCACjR,OAAQ15D,GAAco5D,GAAgB3qC,SAAU,CAAEp2B,MAAOsiF,GACrD52B,EAAcpc,eAAkB3nC,GAAc,GAAS0qB,EAAS,CAAErC,IAAKzwB,KAAKgiF,UAAW5B,eAAgB,oBAAqBnuD,MAAOk6B,EAAcpc,eAAiB4yC,IAClKv6E,GAAc,GAAe,CAAEy4E,OAAQ+B,EAAW50D,OAAQ6lB,EAAY9C,YAAa2xC,EAAiB3C,QAAS//E,KAAK8hF,oBAC9G9hF,KAAKgjF,WAAW1jF,GAChBU,KAAKijF,sBACT92B,EAAcnc,eAAkB5nC,GAAc,GAAS0qB,EAAS,CAAErC,IAAKzwB,KAAKiiF,UAAW7B,eAAgB,oBAAqBnuD,MAAOk6B,EAAcnc,eAAiB2yC,MAE1KhB,EAAgB3rE,UAAUwf,kBAAoB,WAC1C,IAAIl2B,EAAQU,KAAKV,MACjBU,KAAKqkE,qBAAuB/kE,EAAMgmC,YAAY++B,qBACzCrjE,KAAI,SAAUkiF,GAA4B,OAAO,IAAIA,EAAyB5jF,MACnFqC,OAAO+T,iBAAiB,SAAU1V,KAAK8yC,oBACvC,IAAIgyB,EAAkBxlE,EAAMgmC,YAAYw/B,gBACxC,IAAK,IAAI/oC,KAAY+oC,EACjBA,EAAgB/oC,GAAUz8B,EAAMy8B,GAAWz8B,IAGnDqiF,EAAgB3rE,UAAU4f,mBAAqB,SAAUwkD,GACrD,IAAI96E,EAAQU,KAAKV,MACbwlE,EAAkBxlE,EAAMgmC,YAAYw/B,gBACxC,IAAK,IAAI/oC,KAAY+oC,EACbxlE,EAAMy8B,KAAcq+C,EAAUr+C,IAC9B+oC,EAAgB/oC,GAAUz8B,EAAMy8B,GAAWz8B,IAIvDqiF,EAAgB3rE,UAAU2gB,qBAAuB,WAC7Ch1B,OAAOkU,oBAAoB,SAAU7V,KAAK8yC,oBAC1C9yC,KAAKyiF,aAAazkE,QAClB,IAAK,IAAI0lB,EAAK,EAAGrkB,EAAKrf,KAAKqkE,qBAAsB3gC,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CACnE,IAAIw0B,EAAc74C,EAAGqkB,GACrBw0B,EAAY55C,UAEhBte,KAAKV,MAAM8nD,QAAQC,QAAQ,aAE/Bs6B,EAAgB3rE,UAAU+rE,oBAAsB,SAAUvsE,EAAI2tE,GAC1D,IAAI9jE,EAAKrf,KAAKV,MAAOulC,EAAUxlB,EAAGwlB,QAASplC,EAAU4f,EAAG5f,QAASkoD,EAActoC,EAAGsoC,YAC9Ey7B,EAAiBD,EAAS3lE,aAAa,gBAC3C4lE,EAAiBA,EAAiBrhE,KAAKC,MAAMohE,GAAkB,GAC/D,IAAI34B,EAAa5lB,EAAQyb,aAAa8iC,EAAelgF,MACjD2oD,EAAWu3B,EAAe55E,KAC1B65E,EAA4B,QAAbx3B,EAAqBpsD,EAAQwvC,gBAC/B,SAAb4c,EAAsBpsD,EAAQ0vC,iBAAmB,KACzB,oBAAjBk0C,EACPA,EAAaptE,KAAK0xC,EAAa9iB,EAAQ8hB,OAAO8D,GAAaj1C,IAG/B,kBAAjB6tE,IACPx3B,EAAWw3B,GAEf17B,EAAYoE,OAAOtB,EAAYoB,KAGvC81B,EAAgB3rE,UAAUitE,mBAAqB,WAC3C,IAAI3jF,EAAQU,KAAKV,MACb2a,EAAW3a,EAAMgmC,YAAY4+B,qBAAqBljE,KAAI,SAAUiiF,GAAsB,OAAOA,EAAmB3jF,MACpH,OAAO8I,GAAcV,WAAM,EAAQqrB,EAAc,CAAC2G,GAAU,IAAKzf,KAErE0nE,EAAgB3rE,UAAUgtE,WAAa,SAAU1jF,GAgB7C,IAfA,IAAIgmC,EAAchmC,EAAMgmC,YACpBo8B,EAAWpiE,EAAMoiE,SACjB0H,EAAY,CACZlgB,YAAa5pD,EAAM4pD,YACnBzV,cAAen0C,EAAMm0C,cACrBrO,WAAY9lC,EAAM24E,qBAClBx2B,aAAcniD,EAAMmiD,aACpB6L,cAAehuD,EAAMguD,cACrBqK,eAAgBr4D,EAAMq4D,eACtBP,UAAW93D,EAAM83D,UACjBE,YAAah4D,EAAMg4D,YACnBurB,aAAcvjF,EAAMujF,aACpBC,SAAUxjF,EAAMwjF,UAEhBp/B,EAAe1jD,KAAK4hF,0BAA0Bt8C,EAAYy+B,uBACrDrgC,EAAK,EAAGkgB,EAAiBF,EAAchgB,EAAKkgB,EAAerjD,OAAQmjC,IAAM,CAC9E,IAAImgB,EAAcD,EAAelgB,GACjC5Q,EAASs2C,EAAWvlB,EAAYiE,UAAUshB,EAAW9pE,IAEzD,IAAIgkF,EAAgB5hB,EAASxnB,UAC7B,OAAQ9xC,GAAck7E,EAAexwD,EAAS,GAAIs2C,KAE/CuY,EAzJyB,CA0JlC,IACF,SAASE,GAAkBngB,EAAUxY,EAAa0Y,EAAsBrX,EAAajmD,EAAKmZ,GAEtF,IAAI8lE,EAAY3hB,EAAqBtvD,MAAMhO,OAAK9D,GAAW,GACvDgjF,EAAW5hB,EAAqBgJ,UAAU1hB,EAAaqB,GAAa,GACpEk5B,EAAW7hB,EAAqBqJ,UAAU/hB,EAAaqB,GAAa,GACxE,MAAO,CACH9sC,MAAOA,EACPkiE,aAAcje,EAASl4D,KACvBo2E,eAAgB2D,EAAUjY,UAAYhqB,GAAoB4H,EAAYE,aAAc9kD,GACpFu7E,cAAe2D,EAASlY,QACxBwU,cAAe2D,EAASnY,SAKhC,SAASsW,GAA0B8B,GAC/B,OAAOA,EAAW1iF,KAAI,SAAU2iF,GAAY,OAAO,IAAIA,KAG3D,IAAI,GAA8B,SAAU7pD,GAExC,SAAS8pD,IACL,IAAI7iF,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAUhE,OATAe,EAAMq0B,MAAQ,CACV0tD,UAAU,GAEd/hF,EAAM8iF,kBAAoB,WACtB9iF,EAAMg2B,SAAS,CAAE+rD,UAAU,KAE/B/hF,EAAM+iF,iBAAmB,WACrB/iF,EAAMg2B,SAAS,CAAE+rD,UAAU,KAExB/hF,EA6BX,OAzCA2xB,EAAUkxD,EAAc9pD,GAcxB8pD,EAAa5tE,UAAUma,OAAS,WAC5B,IAAI7wB,EAAQU,KAAKV,MACbG,EAAUH,EAAMG,QAChBqjF,EAAW9iF,KAAKo1B,MAAM0tD,SACtBD,EAAeC,GAA+B,SAAnBrjF,EAAQuuB,QAA+C,SAA1BvuB,EAAQ0zC,cAChEnlB,EAAW60D,GAAkC,MAAlBpjF,EAAQuuB,OAAmC,GAAjBvuB,EAAQuuB,OAC7DssB,EAAa,CACb,KACAwoC,EAAW,iBAAmB,kBAC9B,gBAAkBrjF,EAAQ4tC,UAC1B/tC,EAAM65D,MAAMC,SAAS,SAKzB,OAHK1D,MACDpb,EAAW1kC,KAAK,kBAEbtW,EAAM2a,SAASqgC,EAAYtsB,EAAQ60D,EAAcC,IAE5Dc,EAAa5tE,UAAUwf,kBAAoB,WACvC,IAAI4xB,EAAUpnD,KAAKV,MAAM8nD,QACzBA,EAAQ52B,GAAG,eAAgBxwB,KAAK6jF,mBAChCz8B,EAAQ52B,GAAG,cAAexwB,KAAK8jF,mBAEnCF,EAAa5tE,UAAU2gB,qBAAuB,WAC1C,IAAIywB,EAAUpnD,KAAKV,MAAM8nD,QACzBA,EAAQuE,IAAI,eAAgB3rD,KAAK6jF,mBACjCz8B,EAAQuE,IAAI,cAAe3rD,KAAK8jF,mBAE7BF,EA1CsB,CA2C/B,IAGF,SAASG,GAA4BC,EAAsBtkC,GAGvD,OACW3Q,IADNi1C,GAAwBtkC,EAAS,GACX,CAAEzV,QAAS,SAElCyV,EAAS,EACc,CAAEzV,QAAS,QAASn9B,MAAO,UAAW9B,IAAK,UAAW6+B,YAAY,GAEtE,CAAEI,QAAS,SAGtC,IAAIg6C,GAAa,qBACjB,SAASC,GAAc/c,GACnB,OAAOA,EAAUzmE,KAGrB,IAAI,GAA+B,SAAUo5B,GAEzC,SAASqqD,IACL,OAAkB,OAAXrqD,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAoB/D,OAtBA0yB,EAAUyxD,EAAerqD,GAIzBqqD,EAAcnuE,UAAUma,OAAS,WAC7B,IAAI9Q,EAAKrf,KAAKsrB,QAASuZ,EAAUxlB,EAAGwlB,QAASplC,EAAU4f,EAAG5f,QAAS05D,EAAQ95C,EAAG85C,MAAOzR,EAAUroC,EAAGqoC,QAC9FpoD,EAAQU,KAAKV,MACb4D,EAAO5D,EAAM4D,KAAMgmD,EAAc5pD,EAAM4pD,YACvCk7B,EAAUrrB,GAAY71D,EAAM5D,EAAMwlD,WAAY,KAAMoE,GACpD5O,EAAa,CAAC2pC,IAAY3jE,OAAO44C,GAAiBkrB,EAASjrB,IAC3Dz4D,EAAOmkC,EAAQj2B,OAAO1L,EAAM5D,EAAM+wC,iBAElCg0C,EAAgB5kF,EAAQ62C,WAAa8tC,EAAQprB,YAAc15D,EAAMglF,OAAS,EACxE,CAAE,eAAgBjrB,GAAiBn2D,GAAOiV,SAAU,GACpD,GACFgvD,EAAYr0C,EAASA,EAASA,EAAS,CAAE5vB,KAAM2hC,EAAQ8hB,OAAOzjD,GAAOukD,KAAMC,GAAWpoD,EAAMilF,gBAAiB,CAAE7jF,KAAMA,IAAS0jF,GAClI,OAAQh8E,GAAc,GAAY,CAAE++D,UAAWA,EAAW7sB,WAAY76C,EAAQ6wC,oBAAqBhoC,QAAS7I,EAAQ8wC,iBAAkB82B,eAAgB6c,GAAe3pC,SAAU96C,EAAQ+wC,kBAAmBgK,YAAa/6C,EAAQgxC,uBAAwB,SAAUu2B,EAAW+B,EAAkBxB,EAAYC,GAAgB,OAAQp/D,GAAc,KAAM0qB,EAAS,CAAErC,IAAKu2C,EAAWh/D,UAAWsyC,EAAWh6B,OAAOyoD,GAAkB36D,KAAK,KAAM,YAAcg2E,EAAQprB,gBAAqCx4D,EAAxBgoC,GAAgBtlC,GAAmBshF,QAASllF,EAAMklF,SAAWllF,EAAMmlF,gBAC7gBr8E,GAAc,MAAO,CAAEJ,UAAW,6BAA+Bo8E,EAAQprB,YAAe5wD,GAAc,IAAK0qB,EAAS,CAAErC,IAAK82C,EAAYv/D,UAAW,CAC1I,6BACA1I,EAAMolF,SAAW,YAAc,IACjCt2E,KAAK,MAAQi2E,GAAe7c,SAEnC2c,EAvBuB,CAwBhC,IAEE,GAA8B,SAAUrqD,GAExC,SAAS6qD,IACL,OAAkB,OAAX7qD,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAyB/D,OA3BA0yB,EAAUiyD,EAAc7qD,GAIxB6qD,EAAa3uE,UAAUma,OAAS,WAC5B,IAAI7wB,EAAQU,KAAKV,MACb+f,EAAKrf,KAAKsrB,QAASuZ,EAAUxlB,EAAGwlB,QAASs0B,EAAQ95C,EAAG85C,MAAOzR,EAAUroC,EAAGqoC,QAASjoD,EAAU4f,EAAG5f,QAC9FyD,EAAOu8B,GAAQ,IAAIt8B,KAAK,QAAY7D,EAAMiiC,KAC1CqjD,EAAW,CACXrjD,IAAKjiC,EAAMiiC,IACXy3B,YAAY,EACZ9T,UAAU,EACVD,QAAQ,EACRE,SAAS,EACT8T,SAAS,GAET3e,EAAa,CAAC2pC,IAAY3jE,OAAO44C,GAAiB0rB,EAAUzrB,GAAQ75D,EAAMulF,iBAAmB,IAC7FnkF,EAAOmkC,EAAQj2B,OAAO1L,EAAM5D,EAAM+wC,iBAClC82B,EAAYr0C,EAASA,EAASA,EAASA,EAAS,CAChD5vB,KAAMA,GAAQ0hF,GAAW,CAAEn9B,KAAMC,IAAYpoD,EAAMilF,gBAAiB,CAAE7jF,KAAMA,IAChF,OAAQ0H,GAAc,GAAY,CAAE++D,UAAWA,EAAW7sB,WAAY76C,EAAQ6wC,oBAAqBhoC,QAAS7I,EAAQ8wC,iBAAkB82B,eAAgB6c,GAAe3pC,SAAU96C,EAAQ+wC,kBAAmBgK,YAAa/6C,EAAQgxC,uBAAwB,SAAUu2B,EAAW+B,EAAkBxB,EAAYC,GAAgB,OAAQp/D,GAAc,KAAM0qB,EAAS,CAAErC,IAAKu2C,EAAWh/D,UAAWsyC,EAAWh6B,OAAOyoD,GAAkB36D,KAAK,KAAMo2E,QAASllF,EAAMklF,SAAWllF,EAAMmlF,gBACvcr8E,GAAc,MAAO,CAAEJ,UAAW,4BAC9BI,GAAc,IAAK,CAAEJ,UAAW,CACxB,6BACA1I,EAAMolF,SAAW,YAAc,IACjCt2E,KAAK,KAAMqiB,IAAK82C,GAAcC,SAEzCmd,EA5BsB,CA6B/B,IAEE,GAA0B,SAAU7qD,GAEpC,SAASgrD,EAASxlF,EAAOgsB,GACrB,IAAIvqB,EAAQ+4B,EAAO7jB,KAAKjW,KAAMV,EAAOgsB,IAAYtrB,KAIjD,OAHAe,EAAMgkF,eAAiBn6B,GAAOt/B,EAAQ7rB,QAAQ6E,IAAKgnB,EAAQuZ,SAC3D9jC,EAAMikF,qBAAsB,IAAI7hF,MAAO48B,UACvCh/B,EAAMq0B,MAAQr0B,EAAMkkF,gBAAgBC,aAC7BnkF,EAgDX,OAtDA2xB,EAAUoyD,EAAUhrD,GAQpBgrD,EAAS9uE,UAAUma,OAAS,WACxB,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAO81B,EAAQ/V,EAAG+V,MAC5C,OAAO91B,EAAM2a,SAASmb,EAAM2vB,QAAS3vB,EAAM0vB,aAE/CggC,EAAS9uE,UAAUwf,kBAAoB,WACnCx1B,KAAKyH,cAETq9E,EAAS9uE,UAAU4f,mBAAqB,SAAUwkD,GAC1CA,EAAU3zC,OAASzmC,KAAKV,MAAMmnC,OAC9BzmC,KAAKwH,eACLxH,KAAKyH,eAGbq9E,EAAS9uE,UAAU2gB,qBAAuB,WACtC32B,KAAKwH,gBAETs9E,EAAS9uE,UAAUivE,cAAgB,WAC/B,IAAI5lE,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1C65D,EAAezlD,GAAM1/B,KAAK+kF,gBAAgB,IAAI5hF,MAAO48B,UAAY//B,KAAKglF,qBACtEI,EAAmB95D,EAAQuZ,QAAQwtB,QAAQ8yB,EAAc7lF,EAAMmnC,MAC/D4+C,EAAgB/5D,EAAQuZ,QAAQ38B,IAAIk9E,EAAkB5+C,GAAe,EAAGlnC,EAAMmnC,OAC9E6+C,EAASD,EAActlD,UAAYolD,EAAaplD,UAIpD,OADAulD,EAAS3hF,KAAKyM,IAAI,MAAqBk1E,GAChC,CACHJ,aAAc,CAAEngC,QAASqgC,EAAkBtgC,WAAYygC,GAAcH,IACrEhjB,UAAW,CAAErd,QAASsgC,EAAevgC,WAAYygC,GAAcF,IAC/DC,OAAQA,IAGhBR,EAAS9uE,UAAUvO,WAAa,WAC5B,IAAI1G,EAAQf,KACRqf,EAAKrf,KAAKilF,gBAAiB7iB,EAAY/iD,EAAG+iD,UAAWkjB,EAASjmE,EAAGimE,OACrEtlF,KAAKs1E,UAAY7tE,YAAW,WACxB1G,EAAMg2B,SAASqrC,GAAW,WACtBrhE,EAAM0G,kBAEX69E,IAEPR,EAAS9uE,UAAUxO,aAAe,WAC1BxH,KAAKs1E,WACL9tE,aAAaxH,KAAKs1E,YAG1BwP,EAAS9vD,YAAcwsC,GAChBsjB,EAvDkB,CAwD3BtrD,IACF,SAAS+rD,GAAcriF,GACnB,IAAI6iC,EAAQ1F,GAAWn9B,GACnB8iC,EAAMvG,GAAQsG,EAAO,GACzB,MAAO,CAAEA,MAAOA,EAAOC,IAAKA,GAGhC,IAAI,GAA2B,SAAUlM,GAErC,SAAS0rD,IACL,IAAIzkF,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAEhE,OADAe,EAAM0kF,yBAA2Bz8C,GAAQy8C,IAClC1kF,EAUX,OAdA2xB,EAAU8yD,EAAW1rD,GAMrB0rD,EAAUxvE,UAAUma,OAAS,WACzB,IAAI7E,EAAUtrB,KAAKsrB,QACfjM,EAAKrf,KAAKV,MAAOgjB,EAAQjD,EAAGiD,MAAO4mC,EAAc7pC,EAAG6pC,YAAa86B,EAAuB3kE,EAAG2kE,qBAAsB0B,EAAcrmE,EAAGqmE,YAClIr1C,EAAkBrwC,KAAKylF,yBAAyBn6D,EAAQ7rB,QAAQ4wC,gBAAiB2zC,EAAsB1hE,EAAM/hB,QACjH,OAAQ6H,GAAc,GAAU,CAAEq+B,KAAM,QAAS,SAAUse,EAASD,GAAc,OAAQ18C,GAAc,KAAM,KAC1Gs9E,GAAeA,EAAY,OAC3BpjE,EAAMthB,KAAI,SAAUkC,GAAQ,OAAQ8gF,EAAwB57E,GAAc,GAAe,CAAE/H,IAAK6C,EAAKmK,cAAenK,KAAMA,EAAMgmD,YAAaA,EAAapE,WAAYA,EAAYw/B,OAAQhiE,EAAM/hB,OAAQ8vC,gBAAiBA,IAAuBjoC,GAAc,GAAc,CAAE/H,IAAK6C,EAAK++B,YAAaV,IAAKr+B,EAAK++B,YAAaoO,gBAAiBA,YAE9Um1C,EAfmB,CAgB5B,IACF,SAASC,GAAyBE,EAAgB3B,EAAsB4B,GACpE,OAAOD,GAAkB5B,GAA4BC,EAAsB4B,GAG/E,IAAIC,GAAgC,WAChC,SAASA,EAAet/D,EAAOq7C,GAC3B,IAAI1+D,EAAOqjB,EAAMwf,MACbC,EAAMzf,EAAMyf,IACZ8/C,EAAU,GACVxjE,EAAQ,GACR9G,GAAY,EAChB,MAAOtY,EAAO8iC,EACN47B,EAAqByK,YAAYnpE,GACjC4iF,EAAQlwE,KAAK4F,EAAW,KAGxBA,GAAY,EACZsqE,EAAQlwE,KAAK4F,GACb8G,EAAM1M,KAAK1S,IAEfA,EAAOu8B,GAAQv8B,EAAM,GAEzBlD,KAAKsiB,MAAQA,EACbtiB,KAAK8lF,QAAUA,EACf9lF,KAAK+lF,IAAMzjE,EAAM/hB,OAoCrB,OAlCAslF,EAAe7vE,UAAUgwE,WAAa,SAAUz/D,GAC5C,IAAI0/D,EAAajmF,KAAKkmF,gBAAgB3/D,EAAMwf,OACxCogD,EAAYnmF,KAAKkmF,gBAAgBzmD,GAAQlZ,EAAMyf,KAAM,IACrDogD,EAAoBziF,KAAK0M,IAAI,EAAG41E,GAChCI,EAAmB1iF,KAAKyM,IAAIpQ,KAAK+lF,IAAM,EAAGI,GAI9C,OAFAC,EAAoBziF,KAAK2iF,KAAKF,GAC9BC,EAAmB1iF,KAAKm+B,MAAMukD,GAC1BD,GAAqBC,EACd,CACHJ,WAAYG,EACZD,UAAWE,EACXjkC,QAAS6jC,IAAeG,EACxB/jC,MAAO8jC,IAAcE,GAGtB,MAOXR,EAAe7vE,UAAUkwE,gBAAkB,SAAUhjF,GACjD,IAAI4iF,EAAU9lF,KAAK8lF,QACfS,EAAY5iF,KAAKm+B,MAAMhC,GAAS9/B,KAAKsiB,MAAM,GAAIpf,IACnD,OAAIqjF,EAAY,EACLT,EAAQ,GAAK,EAEpBS,GAAaT,EAAQvlF,OACdulF,EAAQA,EAAQvlF,OAAS,GAAK,EAElCulF,EAAQS,IAEZV,EAxDwB,GA2D/BW,GAA+B,WAC/B,SAASA,EAAcC,EAAWC,GAC9B,IACIC,EACAvvC,EACAwvC,EAHAtkE,EAAQmkE,EAAUnkE,MAItB,GAAIokE,EAAc,CAGd,IADAtvC,EAAW90B,EAAM,GAAG2f,YACf0kD,EAAa,EAAGA,EAAarkE,EAAM/hB,OAAQomF,GAAc,EAC1D,GAAIrkE,EAAMqkE,GAAY1kD,cAAgBmV,EAClC,MAGRwvC,EAASjjF,KAAK2iF,KAAKhkE,EAAM/hB,OAASomF,QAGlCC,EAAS,EACTD,EAAarkE,EAAM/hB,OAEvBP,KAAK4mF,OAASA,EACd5mF,KAAKskF,OAASqC,EACd3mF,KAAKymF,UAAYA,EACjBzmF,KAAK6mF,MAAQ7mF,KAAK8mF,aAClB9mF,KAAK+mF,YAAc/mF,KAAKgnF,mBAiD5B,OA/CAR,EAAcxwE,UAAU8wE,WAAa,WAEjC,IADA,IAAIx5D,EAAO,GACF25D,EAAM,EAAGA,EAAMjnF,KAAK4mF,OAAQK,GAAO,EAAG,CAE3C,IADA,IAAIJ,EAAQ,GACHK,EAAM,EAAGA,EAAMlnF,KAAKskF,OAAQ4C,GAAO,EACxCL,EAAMjxE,KAAK5V,KAAKmnF,UAAUF,EAAKC,IAEnC55D,EAAK1X,KAAKixE,GAEd,OAAOv5D,GAEXk5D,EAAcxwE,UAAUmxE,UAAY,SAAUF,EAAKC,GAC/C,IAAIhkF,EAAOlD,KAAKymF,UAAUnkE,MAAM2kE,EAAMjnF,KAAKskF,OAAS4C,GACpD,MAAO,CACH7mF,IAAK6C,EAAKmK,cACVnK,KAAMA,IAGdsjF,EAAcxwE,UAAUgxE,iBAAmB,WAEvC,IADA,IAAI1kE,EAAQ,GACH4kE,EAAM,EAAGA,EAAMlnF,KAAKskF,OAAQ4C,GAAO,EACxC5kE,EAAM1M,KAAK5V,KAAK6mF,MAAM,GAAGK,GAAKhkF,MAElC,OAAOof,GAEXkkE,EAAcxwE,UAAUgwE,WAAa,SAAUz/D,GAC3C,IAAI+9D,EAAStkF,KAAKskF,OACd8C,EAAYpnF,KAAKymF,UAAUT,WAAWz/D,GACtC48B,EAAO,GACX,GAAIikC,EAAW,CACX,IAAInB,EAAamB,EAAUnB,WAAYE,EAAYiB,EAAUjB,UACzDnK,EAAQiK,EACZ,MAAOjK,GAASmK,EAAW,CACvB,IAAIc,EAAMtjF,KAAKm+B,MAAMk6C,EAAQsI,GACzB+C,EAAY1jF,KAAKyM,KAAK62E,EAAM,GAAK3C,EAAQ6B,EAAY,GACzDhjC,EAAKvtC,KAAK,CACNqxE,IAAKA,EACLK,SAAUtL,EAAQsI,EAClBiD,SAAUF,EAAY,GAAK/C,EAC3BliC,QAASglC,EAAUhlC,SAAW45B,IAAUiK,EACxC5jC,MAAO+kC,EAAU/kC,OAAUglC,EAAY,IAAOlB,IAElDnK,EAAQqL,GAGhB,OAAOlkC,GAEJqjC,EAzEuB,GA4E9B,GAAwB,WACxB,SAASgB,IACLxnF,KAAKynF,mBAAqBz+C,GAAQhpC,KAAK0nF,qBACvC1nF,KAAK2nF,mBAAqB3+C,GAAQhpC,KAAK4nF,gBACvC5nF,KAAKwhD,gBAAkBxY,GAAQhpC,KAAK6nF,kBACpC7nF,KAAK8nF,eAAiB9+C,GAAQhpC,KAAK+nF,mBACnC/nF,KAAKgoF,iBAAmBh/C,GAAQhpC,KAAK+nF,mBACrC/nF,KAAKioF,oBAAqB,EAuH9B,OArHAT,EAAOxxE,UAAUkyE,WAAa,SAAU5oF,EAAO4pD,EAAa3Z,EAAkBjkB,GAE1E,IADA,IAAI68D,EAAY,GACPzkD,EAAK,EAAGA,EAAKpjC,UAAUC,OAAQmjC,IACpCykD,EAAUzkD,EAAK,GAAKpjC,UAAUojC,GAElC,IAAI+d,EAAeniD,EAAMmiD,aACrB2mC,EAAYpoF,KAAKwhD,gBAAgB95C,MAAM1H,KAAM+yB,EAAc,CAACzzB,EAAM8lC,WAAYqc,EAAcyH,EAAa3Z,GAAmB44C,IAChI,MAAO,CACHE,kBAAmBroF,KAAK2nF,mBAAmBjgF,MAAM1H,KAAM+yB,EAAc,CAACzzB,EAAMguD,cAAe7L,EAAcn2B,GAAU68D,IACnHG,iBAAkBtoF,KAAKynF,mBAAmB//E,MAAM1H,KAAM+yB,EAAc,CAACzzB,EAAMm0C,cAAeyV,EAAa3Z,EAAkBjkB,GAAU68D,IACnII,YAAaH,EAAU1lC,GACvB8lC,YAAaJ,EAAU3lC,GACvB2U,UAAWp3D,KAAK8nF,eAAepgF,MAAM1H,KAAM+yB,EAAc,CAACzzB,EAAM83D,UAAW3V,EAAcyH,EAAa3Z,GAAmB44C,IACzH7wB,YAAat3D,KAAKgoF,iBAAiBtgF,MAAM1H,KAAM+yB,EAAc,CAACzzB,EAAMg4D,YAAa7V,EAAcyH,EAAa3Z,GAAmB44C,IAC/HxwB,eAAgBr4D,EAAMq4D,iBAG9B6vB,EAAOxxE,UAAUyyE,aAAe,SAChCvlF,EAAMooB,GAEF,IADA,IAAI68D,EAAY,GACPzkD,EAAK,EAAGA,EAAKpjC,UAAUC,OAAQmjC,IACpCykD,EAAUzkD,EAAK,GAAKpjC,UAAUojC,GAElC,OAAO1jC,KAAK4nF,eAAelgF,MAAM1H,KAAM+yB,EAAc,CAAC,CAAExM,MAAO,CAAEwf,MAAO7iC,EAAM8iC,IAAKtG,GAAMx8B,EAAM,IAAM6hC,QAAQ,GACzG,GACAzZ,GAAU68D,KAElBX,EAAOxxE,UAAU0xE,oBAAsB,SAAUj0C,EAAeyV,EAAa3Z,EAAkBjkB,GAE3F,IADA,IAAI68D,EAAY,GACPzkD,EAAK,EAAGA,EAAKpjC,UAAUC,OAAQmjC,IACpCykD,EAAUzkD,EAAK,GAAKpjC,UAAUojC,GAElC,OAAK+P,EAGEzzC,KAAK6nF,iBAAiBngF,MAAM1H,KAAM+yB,EAAc,CAACoS,GAAgBsO,EAAei1C,GAAmBx/B,EAAapoD,QAAQyuC,IAAoBjkB,GAC/I,GACA49B,EACA3Z,GAAmB44C,IAAY1lC,GALxB,IAOf+kC,EAAOxxE,UAAU6xE,iBAAmB,SAAUziD,EAAYqc,EAAcyH,EAAa3Z,GAEjF,IADA,IAAI44C,EAAY,GACPzkD,EAAK,EAAGA,EAAKpjC,UAAUC,OAAQmjC,IACpCykD,EAAUzkD,EAAK,GAAKpjC,UAAUojC,GAElC,GAAI0B,EAAY,CACZ,IAAIujD,EAAWnnC,GAAgBpc,EAAYqc,EAAcinC,GAAmBx/B,EAAapoD,QAAQyuC,IAAoBA,GACrH,MAAO,CACHkT,GAAIziD,KAAK4oF,iBAAiBD,EAASlmC,GAAI0lC,GACvCzlC,GAAI1iD,KAAK4oF,iBAAiBD,EAASjmC,GAAIylC,IAG/C,MAAO,CAAE1lC,GAAI,GAAIC,GAAI,KAEzB8kC,EAAOxxE,UAAU+xE,kBAAoB,SAAU7vB,EAAazW,EAAcyH,EAAa3Z,GAEnF,IADA,IAAI44C,EAAY,GACPzkD,EAAK,EAAGA,EAAKpjC,UAAUC,OAAQmjC,IACpCykD,EAAUzkD,EAAK,GAAKpjC,UAAUojC,GAElC,IAAKw0B,EACD,OAAO,KAEX,IAAIywB,EAAWnnC,GAAgB0W,EAAYK,cAAe9W,EAAcinC,GAAmBx/B,EAAapoD,QAAQyuC,IAAoBA,GACpI,MAAO,CACH4T,KAAMnjD,KAAK4oF,iBAAiBD,EAASjmC,GAAIylC,GACzCU,kBAAmB3wB,EAAYG,eAAe1vC,UAC9C+vC,QAASR,EAAYQ,UAG7B8uB,EAAOxxE,UAAU4xE,eAAiB,SAAU5gC,EAAUvF,EAAcn2B,GAEhE,IADA,IAAI68D,EAAY,GACPzkD,EAAK,EAAGA,EAAKpjC,UAAUC,OAAQmjC,IACpCykD,EAAUzkD,EAAK,GAAKpjC,UAAUojC,GAElC,IAAKsjB,EACD,MAAO,GAIX,IAFA,IAAIxD,EAAauD,GAAoBC,EAAUvF,EAAcn2B,GACzD63B,EAAOnjD,KAAKgmF,WAAWt+E,MAAM1H,KAAM+yB,EAAc,CAACi0B,EAASzgC,OAAQ4hE,IAC9D9oE,EAAK,EAAGypE,EAAS3lC,EAAM9jC,EAAKypE,EAAOvoF,OAAQ8e,IAAM,CACtD,IAAIwjC,EAAMimC,EAAOzpE,GACjBwjC,EAAIW,WAAaA,EAErB,OAAOL,GAKXqkC,EAAOxxE,UAAU4yE,iBAAmB,SAAUG,EAAaZ,GAEvD,IADA,IAAIhlC,EAAO,GACFzf,EAAK,EAAGslD,EAAgBD,EAAarlD,EAAKslD,EAAczoF,OAAQmjC,IAAM,CAC3E,IAAI8f,EAAawlC,EAActlD,GAC/Byf,EAAKvtC,KAAKlO,MAAMy7C,EAAMnjD,KAAKipF,gBAAgBzlC,EAAY2kC,IAE3D,OAAOhlC,GAKXqkC,EAAOxxE,UAAUizE,gBAAkB,SAAUzlC,EAAY2kC,GACrD,IAAIznC,EAAY8C,EAAWj9B,MAEvBvmB,KAAKioF,oBAAgD,cAA1BzkC,EAAW5E,GAAGtrC,UACzCotC,EAAY,CACR3a,MAAO2a,EAAU3a,MACjBC,IAAKvG,GAAQihB,EAAU3a,MAAO,KAItC,IADA,IAAIod,EAAOnjD,KAAKgmF,WAAWt+E,MAAM1H,KAAM+yB,EAAc,CAAC2tB,GAAYynC,IACzDzkD,EAAK,EAAGwlD,EAAS/lC,EAAMzf,EAAKwlD,EAAO3oF,OAAQmjC,IAAM,CACtD,IAAImf,EAAMqmC,EAAOxlD,GACjBmf,EAAIW,WAAaA,EACjBX,EAAIT,QAAUoB,EAAWpB,SAAWS,EAAIT,QACxCS,EAAIR,MAAQmB,EAAWnB,OAASQ,EAAIR,MAExC,OAAOc,GAEJqkC,EA9HgB,GAqI3B,SAASkB,GAAmBx/B,EAAaigC,GACrC,IAAI5iE,EAAQ2iC,EAAYC,YACxB,OAAIggC,EACO5iE,EAEJ,CACHwf,MAAOrG,GAAMnZ,EAAMwf,MAAOmjB,EAAYxZ,YAAYlP,cAClDwF,IAAKtG,GAAMnZ,EAAMyf,IAAKkjB,EAAYvZ,YAAYnP,aAAe,QAMrE,SAAS4oD,GAAmBlxB,EAAahP,EAAa59B,GAClD,IAAI3C,EAAYuvC,EAAYK,cAAc5vC,UAC1C,IAAK,IAAIga,KAAcha,EACnB,IAAKw4B,GAAmB+H,EAAYvR,WAAYhvB,EAAUga,GAAYpc,OAClE,OAAO,EAGf,OAAO8iE,GAAgB,CAAEjyB,UAAWc,GAAe5sC,GAEvD,SAASg+D,GAAqBh8B,EAAepE,EAAa59B,GACtD,QAAK61B,GAAmB+H,EAAYvR,WAAY2V,EAAc/mC,QAGvD8iE,GAAgB,CAAE/7B,cAAeA,GAAiBhiC,GAE7D,SAAS+9D,GAAgBnlD,EAAU5Y,GAC/B,IAAIi+D,EAAgBj+D,EAAQ09B,iBACxB1pD,EAAQwzB,EAAS,CAAE2gB,cAAe81C,EAAc91C,cAAe6Z,cAAe,GAAIloB,WAAYmkD,EAAcnkD,WAAYqc,aAAc8nC,EAAc9nC,aAAckW,eAAgB,GAAIP,UAAW,KAAME,YAAa,MAAQpzB,GAChO,OAAQ5Y,EAAQga,YAAY0+B,cAAgBA,IAAc1kE,EAAOgsB,GAErE,SAAS04C,GAAa5uC,EAAO9J,EAASk+D,EAAcC,GAEhD,YADqB,IAAjBD,IAA2BA,EAAe,MAC1Cp0D,EAAMgiC,YAAcsyB,GAAwBt0D,EAAO9J,EAASk+D,EAAcC,OAG1Er0D,EAAMk4B,gBAAkBq8B,GAA0Bv0D,EAAO9J,EAASk+D,EAAcC,IAOxF,SAASC,GAAwBt0D,EAAO9J,EAASk+D,EAAcC,GAC3D,IAAIvE,EAAe55D,EAAQ09B,iBACvBkP,EAAc9iC,EAAMgiC,UACpBwyB,EAAoB1xB,EAAYK,cAChCsxB,EAAcD,EAAkBrkD,KAChCukD,EAAmBF,EAAkBjhE,UACrCohE,EAAiB/nC,GAAgB6nC,EAAa3xB,EAAYQ,QAC1DtjC,EAAMqsB,aACN,CAAE,GAAIyjC,EAAahN,kBACnBuR,IACAM,EAAiBxmD,GAAQwmD,EAAgBN,IAG7C,IAAIO,EAAkBra,GAAiBv6C,EAAMgQ,WAAY8yB,EAAYG,eAAe1vC,WAChFshE,EAAYD,EAAgBzkD,KAC5B2kD,EAAiBF,EAAgBrhE,UACjCwhE,EAAenoC,GAAgBioC,EAAW70D,EAAMqsB,cACpD,IAAK,IAAI2oC,KAAqBN,EAAkB,CAC5C,IAAIO,EAAkBP,EAAiBM,GACnCE,EAAeD,EAAgB9jE,MAC/BgkE,EAAgBR,EAAeM,EAAgB7nD,OAC/CgoD,EAAaX,EAAYQ,EAAgB7nD,OAE7C,IAAKioD,GAAmBF,EAAc9sC,YAAa6sC,EAAcN,EAAiB50D,EAAMqe,cAAenoB,GACnG,OAAO,EAGX,IAAI6oB,EAAe7oB,EAAQ7rB,QAAQ00C,aAC/Bu2C,EAA2C,oBAAjBv2C,EAA8BA,EAAe,KAC3E,IAAK,IAAIw2C,KAAmBT,EAAgB,CACxC,IAAIU,EAAgBV,EAAeS,GAEnC,GAAIzpC,GAAgBopC,EAAcM,EAAcrkE,OAAQ,CACpD,IAAIskE,EAAeV,EAAaS,EAAcpoD,OAAO0a,QAErD,IAAqB,IAAjB2tC,GAA0B3yB,EAAYQ,QACtC,OAAO,EAEX,IAA8B,IAA1B6xB,EAAcrtC,QACd,OAAO,EAEX,GAAIwtC,IAAqBA,EAAiB,IAAI,GAASp/D,EAAS2+D,EAAUW,EAAcpoD,OAAQooD,GAChG,IAAI,GAASt/D,EAASk/D,EAAYH,IAC9B,OAAO,GAMnB,IADA,IAAIS,EAAqB5F,EAAa9/C,WAC7B1B,EAAK,EAAGrkB,EAAKkrE,EAAc7sC,OAAQha,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAC9D,IAAIqnD,EAAe1rE,EAAGqkB,GAClBsnD,EAAkBl4D,EAASA,EAAS,GAAI02D,GAAe,CAAEjjE,MAAO8jE,EAAgB9jE,MAAOwe,OAAQylD,EAAWzlD,SAC1GkmD,EAAUH,EAAmBvlD,KAAKilD,EAAWhoD,OAC7C0oD,EAAeJ,EAAmBniE,UAAUyhE,GAC5Cp8B,OAAW,EAOf,GALIA,EADAi9B,EACW,IAAI,GAAS3/D,EAAS2/D,EAASC,GAG/B,IAAI,GAAS5/D,EAASk/D,IAEhCO,EAAazjC,GAA4B0jC,EAAiB1/D,GAAU0iC,GACrE,OAAO,GAInB,OAAO,EAIX,SAAS27B,GAA0Bv0D,EAAO9J,EAASk+D,EAAcC,GAC7D,IAAI0B,EAAqB/1D,EAAMgQ,WAC3BgmD,EAAeD,EAAmB5lD,KAClC8lD,EAAoBF,EAAmBxiE,UACvCu+B,EAAY9xB,EAAMk4B,cAClBg+B,EAAiBpkC,EAAU3gC,MAC3B2xD,EAAkB5sD,EAAQ09B,iBAAiBkvB,gBAK/C,GAJIuR,IACAvR,EAAkBuR,EAAavR,KAG9BuS,GAAmBvS,EAAgBz6B,YAAa6tC,EAAgBH,EAAoB/1D,EAAMqe,cAAenoB,GAC1G,OAAO,EAGX,IAAIypB,EAAgBzpB,EAAQ7rB,QAAQs1C,cAChCw2C,EAA6C,oBAAlBx2C,EAA+BA,EAAgB,KAC9E,IAAK,IAAIy2C,KAAsBH,EAAmB,CAC9C,IAAII,EAAmBJ,EAAkBG,GAEzC,GAAItqC,GAAgBoqC,EAAgBG,EAAiBllE,OAAQ,CACzD,IAAgC,IAA5B2xD,EAAgBh7B,QAChB,OAAO,EAEX,GAAIquC,IAAsBA,EAAkB,IAAI,GAASjgE,EAAS8/D,EAAaK,EAAiBjpD,OAAQipD,GAAmB,MACvH,OAAO,GAKnB,IAAK,IAAI/nD,EAAK,EAAGrkB,EAAK64D,EAAgBx6B,OAAQha,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAChE,IAAIgoD,EAAiBrsE,EAAGqkB,GACpBioD,EAAe74D,EAASA,EAAS,GAAI02D,GAAetiC,GACxD,IAAKwkC,EAAepkC,GAA4BqkC,EAAcrgE,GAAU,MACpE,OAAO,EAGf,OAAO,EAIX,SAASm/D,GAAmBhtC,EAAa6sC,EAAcN,EAAiB4B,EAAyBtgE,GAC7F,IAAK,IAAIoY,EAAK,EAAGmoD,EAAgBpuC,EAAa/Z,EAAKmoD,EAActrF,OAAQmjC,IAAM,CAC3E,IAAIuZ,EAAa4uC,EAAcnoD,GAC/B,IAAKooD,GAAsBC,GAAmB9uC,EAAYqtC,EAAcN,EAAiB4B,EAAyBtgE,GAAUg/D,GACxH,OAAO,EAGf,OAAO,EAEX,SAASyB,GAAmB9uC,EAAYqtC,EACxCN,EACA4B,EACAtgE,GACI,MAAmB,kBAAf2xB,EACO+uC,GAAmB7mD,GAAgBymD,EAAyBtB,EAAch/D,IAE3D,kBAAf2xB,EACA+uC,GAAmBlwC,GAAqBkuC,GAAiB,SAAU/jD,GAAY,OAAOA,EAASkW,UAAYc,MAE5F,kBAAfA,GAA2BA,EAC3B+uC,GAAmB7mD,GAAgB8X,EAAYqtC,EAAch/D,IAEjE,GAGX,SAAS0gE,GAAmB5mD,GACxB,IAAIzc,EAAYyc,EAAWzc,UACvB63B,EAAS,GACb,IAAK,IAAI7d,KAAcha,EACnB63B,EAAO5qC,KAAK+S,EAAUga,GAAYpc,OAEtC,OAAOi6B,EAGX,SAASsrC,GAAsBG,EAAa5qC,GACxC,IAAK,IAAI3d,EAAK,EAAGwoD,EAAgBD,EAAavoD,EAAKwoD,EAAc3rF,OAAQmjC,IAAM,CAC3E,IAAI0d,EAAa8qC,EAAcxoD,GAC/B,GAAIyd,GAAmBC,EAAYC,GAC/B,OAAO,EAGf,OAAO,EAGX,IAAI8qC,GAAoB,qBACpB,GAA0B,SAAUryD,GAEpC,SAASsyD,IACL,IAAIrrF,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAKhE,OAJAe,EAAM2/E,SAAW,SAAUjrE,GACvB1U,EAAM0U,GAAKA,EACXmtD,GAAO7hE,EAAMzB,MAAM4nE,MAAOzxD,IAEvB1U,EA2EX,OAlFA2xB,EAAU05D,EAAUtyD,GASpBsyD,EAASp2E,UAAUma,OAAS,WACxB,IAAI7wB,EAAQU,KAAKV,MACbuhF,EAASvhF,EAAMuhF,OAAQwL,EAAmB/sF,EAAM+sF,iBAChDC,EAAazL,GAAUwL,EACvBrkF,EAAY,CAAC,eASjB,OARI64E,IACIwL,EACArkF,EAAU4N,KAAK,+BAGf5N,EAAU4N,KAAK,uBAGfxN,GAAc,MAAO,CAAEqoB,IAAKzwB,KAAK0gF,SAAU14E,UAAWA,EAAUoG,KAAK,KAAMgF,MAAO,CAClF2oD,UAAWz8D,EAAMy8D,UACjB9tC,UAAW3uB,EAAM2uB,UACjBzJ,KAAO8nE,KAAgBhtF,EAAMitF,cAAgB,IAAO,GACpD3nE,MAAQ0nE,KAAgBhtF,EAAMktF,eAAiB,IAAO,GACtDpoE,OAASkoE,KAAgBhtF,EAAMmtF,gBAAkB,IAAO,GACxDC,YAAcJ,KAAgBhtF,EAAMitF,cAAgB,IAAO,GAC3DI,aAAeL,KAAgBhtF,EAAMktF,eAAiB,IAAO,GAC7DI,cAAgBN,KAAgBhtF,EAAMmtF,gBAAkB,IAAO,GAC/DI,UAAWvtF,EAAMutF,WAAa,KAC7BvtF,EAAM2a,WAEnBmyE,EAASp2E,UAAU82E,gBAAkB,WACjC,GAAIX,GAAkB/gF,KAAKpL,KAAKV,MAAMy8D,WAClC,OAAO,EAQX,IAHA,IAAItmD,EAAKzV,KAAKyV,GACVs3E,EAAkB/sF,KAAKyV,GAAGwO,wBAAwBtQ,MAAQ3T,KAAKgtF,qBAC/D/yE,EAAWxE,EAAGwE,SACTzN,EAAI,EAAGA,EAAIyN,EAAS1Z,OAAQiM,GAAK,EAAG,CACzC,IAAIygF,EAAUhzE,EAASzN,GACvB,GAAIygF,EAAQhpE,wBAAwBtQ,MAAQo5E,EACxC,OAAO,EAGf,OAAO,GAEXX,EAASp2E,UAAUk3E,gBAAkB,WACjC,GAAIf,GAAkB/gF,KAAKpL,KAAKV,MAAM2uB,WAClC,OAAO,EAQX,IAHA,IAAIxY,EAAKzV,KAAKyV,GACV03E,EAAmBntF,KAAKyV,GAAGwO,wBAAwB+J,OAAShuB,KAAKotF,qBACjEnzE,EAAWxE,EAAGwE,SACTzN,EAAI,EAAGA,EAAIyN,EAAS1Z,OAAQiM,GAAK,EAAG,CACzC,IAAIygF,EAAUhzE,EAASzN,GACvB,GAAIygF,EAAQhpE,wBAAwB+J,OAASm/D,EACzC,OAAO,EAGf,OAAO,GAEXf,EAASp2E,UAAUo3E,mBAAqB,WACpC,OAAIjB,GAAkB/gF,KAAKpL,KAAKV,MAAMy8D,WAC3B,EAEJ/7D,KAAKyV,GAAGkO,aAAe3jB,KAAKyV,GAAGukD,cAE1CoyB,EAASp2E,UAAUg3E,mBAAqB,WACpC,OAAIb,GAAkB/gF,KAAKpL,KAAKV,MAAM2uB,WAC3B,EAEJjuB,KAAKyV,GAAG/B,YAAc1T,KAAKyV,GAAGwkD,aAElCmyB,EAnFkB,CAoF3B,IAMEiB,GAAwB,WACxB,SAASA,EAAOC,GACZ,IAAIvsF,EAAQf,KACZA,KAAKstF,eAAiBA,EACtBttF,KAAKutF,WAAa,GAClBvtF,KAAKwtF,OAAS,GACdxtF,KAAKytF,YAAc,GACnBztF,KAAK0tF,YAAc,SAAUj+E,EAAKpP,GAC9B,IAAIgf,EAAKte,EAAOysF,EAASnuE,EAAGmuE,OAAQD,EAAaluE,EAAGkuE,WAChDI,GAAU,EACVC,GAAQ,EACA,OAARn+E,GAEAk+E,EAAWttF,KAAOktF,EAClBA,EAAWltF,GAAOoP,EAClB+9E,EAAOntF,IAAQmtF,EAAOntF,IAAQ,GAAK,EACnCutF,GAAQ,IAGRJ,EAAOntF,IAAQ,EACVmtF,EAAOntF,YACDktF,EAAWltF,UACXU,EAAM0sF,YAAYptF,GACzBstF,GAAU,IAGd5sF,EAAMusF,iBACFK,GACA5sF,EAAMusF,eAAe,KAAM3sF,OAAON,IAElCutF,GACA7sF,EAAMusF,eAAe79E,EAAK9O,OAAON,MAwBjD,OAnBAgtF,EAAOr3E,UAAUyjB,UAAY,SAAUp5B,GACnC,IAAIU,EAAQf,KACR6tF,EAAc7tF,KAAKytF,YAAYptF,GAMnC,OALKwtF,IACDA,EAAc7tF,KAAKytF,YAAYptF,GAAO,SAAUoP,GAC5C1O,EAAM2sF,YAAYj+E,EAAK9O,OAAON,MAG/BwtF,GAKXR,EAAOr3E,UAAU83E,QAAU,SAAU5zE,EAAYC,EAAUsN,GACvD,OAAO+c,GAAgBxkC,KAAKutF,WAAYrzE,EAAYC,EAAUsN,IAElE4lE,EAAOr3E,UAAU+3E,OAAS,WACtB,OAAOlqD,GAAkB7jC,KAAKutF,aAE3BF,EAvDgB,GA0D3B,SAASW,GAAmBC,GAGxB,IAFA,IAAIC,EAAcxyD,GAAauyD,EAAU,yBACrCE,EAAe,EACVzqD,EAAK,EAAG0qD,EAAgBF,EAAaxqD,EAAK0qD,EAAc7tF,OAAQmjC,IAAM,CAC3E,IAAI2qD,EAAaD,EAAc1qD,GAC/ByqD,EAAexqF,KAAK0M,IAAI89E,EAAclvD,GAAyBovD,IAEnE,OAAO1qF,KAAK2iF,KAAK6H,GAErB,SAASG,GAA0BhvF,EAAOivF,GACtC,OAAOjvF,EAAMuhF,QAAU0N,EAAc1N,OAEzC,SAAS2N,GAAmBlvF,EAAOivF,GAC/B,OAAkC,MAA3BA,EAAc1B,WACjByB,GAA0BhvF,EAAOivF,GAGzC,SAASE,GAAmBF,EAAeG,EAAapd,GACpD,IAAIp+B,EAAao+B,EAAIp+B,WACjB5qC,EAAyC,oBAAxBomF,EAAYpmF,QAC7BomF,EAAYpmF,QAAQgpE,GACpBlpE,GAAc,QAAS,CACnBJ,UAAW,CACP0mF,EAAYC,eACZJ,EAAcK,eAAiB,2BAA6B,IAC9DxgF,KAAK,KACPgF,MAAO,CACHy7E,SAAUvd,EAAIwd,cACdn7E,MAAO29D,EAAIrX,YACXjsC,OAAQklB,EAAao+B,EAAItX,aAAe,KAE7CsX,EAAIyd,kBAAmB3mF,GAAc,QAAS,GAAsC,oBAA3BsmF,EAAYM,WAA4BN,EAAYM,WAAW1d,GAAOod,EAAYM,aAClJ,OAAO1mF,EAEX,SAAS2mF,GAAgBC,EAAOC,GAC5B,OAAOvmD,GAAcsmD,EAAOC,EAAOrrD,IAEvC,SAASsrD,GAAoBC,EAAMC,GAO/B,IANA,IAAIC,EAAW,GAMN7rD,EAAK,EAAG8rD,EAASH,EAAM3rD,EAAK8rD,EAAOjvF,OAAQmjC,IAGhD,IAFA,IAAI+rD,EAAWD,EAAO9rD,GAClBsiB,EAAOypC,EAASzpC,MAAQ,EACnBx5C,EAAI,EAAGA,EAAIw5C,EAAMx5C,GAAK,EAC3B+iF,EAAS35E,KAAKxN,GAAc,MAAO,CAAEgL,MAAO,CACpCO,MAA0B,WAAnB87E,EAAS97E,MAAqB+7E,GAAoBJ,GAAgBG,EAAS97E,OAAS,GAC3Fk7E,SAAUY,EAASZ,UAAY,OAI/C,OAAOzmF,GAAcV,WAAM,EAAQqrB,EAAc,CAAC,WAAY,IAAKw8D,IAEvE,SAASG,GAAoBJ,GAGzB,OAAsB,MAAfA,EAAsB,EAAIA,EAErC,SAASK,GAAeN,GACpB,IAAK,IAAI3rD,EAAK,EAAGksD,EAASP,EAAM3rD,EAAKksD,EAAOrvF,OAAQmjC,IAAM,CACtD,IAAIwjD,EAAM0I,EAAOlsD,GACjB,GAAkB,WAAdwjD,EAAIvzE,MACJ,OAAO,EAGf,OAAO,EAEX,SAASk8E,GAAwBhP,EAAQv1D,GACrC,IAAIgvB,EAAa,CACb,gBACAhvB,EAAQ6tC,MAAMC,SAAS,UAK3B,OAHIynB,GACAvmC,EAAW1kC,KAAK,wBAEb0kC,EAEX,SAASw1C,GAAqBvB,EAAewB,GACzC,IAAIz1C,EAAa,CACb,wBACA,yBAA2Bi0C,EAAc/kF,KACzC+kF,EAAcvmF,WAQlB,OANI+nF,GAAmBxB,EAAc1N,QAAqC,MAA3B0N,EAAc1B,WACzDvyC,EAAW1kC,KAAK,gCAEhB24E,EAAc7J,UACdpqC,EAAW1kC,KAAK,gCAEb0kC,EAEX,SAAS01C,GAAiB1e,GACtB,OAAQlpE,GAAc,MAAO,CAAEJ,UAAW,4BAA6BoL,MAAO,CACtEO,MAAO29D,EAAIrX,YACX40B,SAAUvd,EAAIwd,iBAG1B,SAASmB,GAAqBxwF,GAC1B,IAAIk0C,EAAoBl0C,EAAQk0C,kBAIhC,OAHyB,MAArBA,GAAmD,SAAtBA,IAC7BA,EAAuC,SAAnBl0C,EAAQuuB,QAA4C,SAAvBvuB,EAAQo0C,YAEtDF,EAEX,SAASu8C,GAAyBzwF,GAC9B,IAAIm0C,EAAwBn0C,EAAQm0C,sBAIpC,OAH6B,MAAzBA,GAA2D,SAA1BA,IACjCA,EAA2C,SAAnBn0C,EAAQuuB,QAA4C,SAAvBvuB,EAAQo0C,YAE1DD,EAGX,IAAI,GAAkC,SAAU9Z,GAE5C,SAASq2D,IACL,IAAIpvF,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAgBhE,OAfAe,EAAMqvF,YAAcpnD,IAAQ,SAAU5iB,GAAK,OAAOA,IAAM6oE,IAExDluF,EAAMquF,oBAAsBpmD,GAAQomD,IACpCruF,EAAMsvF,aAAe,IAAIhD,GACzBtsF,EAAMuvF,eAAiB,IAAIjD,GAAOtsF,EAAMwvF,kBAAkBt9E,KAAKlS,IAC/DA,EAAMq0B,MAAQ,CACVk6D,YAAa,KACbkB,kBAAkB,EAClBC,qBAAsB,GACtBC,sBAAuB,IAG3B3vF,EAAM4vF,aAAe,WACjB5vF,EAAMg2B,SAASjE,EAAS,CAAEw8D,YAAavuF,EAAMitF,sBAAwBjtF,EAAM6vF,yBAExE7vF,EA6HX,OA/IA2xB,EAAUy9D,EAAkBr2D,GAoB5Bq2D,EAAiBn6E,UAAUma,OAAS,WAChC,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAO81B,EAAQ/V,EAAG+V,MAAO9J,EAAUjM,EAAGiM,QAC5DulE,EAAiBvxF,EAAMwxF,UAAY,GACnCzB,EAAOrvF,KAAKowF,YAAY9wF,EAAM+vF,MAC9B0B,EAAoB/wF,KAAKovF,oBAAoBC,EAAMj6D,EAAMk6D,aACzDh1C,EAAau1C,GAAwBvwF,EAAMuhF,OAAQv1D,GACnDhsB,EAAM0xF,kBACN12C,EAAW1kC,KAAK,6BAGpB,IAEIq7E,EAFAC,EAAYL,EAAetwF,OAC3B4wF,EAAU,EAEVC,EAAmB,GACnBC,EAAmB,GACnBC,EAAmB,GACvB,MAAOH,EAAUD,GAAgE,YAAlDD,EAAgBJ,EAAeM,IAAU3nF,KACpE4nF,EAAiBx7E,KAAK5V,KAAKugF,cAAc0Q,EAAeF,IACxDI,GAAW,EAEf,MAAOA,EAAUD,GAAgE,UAAlDD,EAAgBJ,EAAeM,IAAU3nF,KACpE6nF,EAAiBz7E,KAAK5V,KAAKugF,cAAc0Q,EAAeF,IACxDI,GAAW,EAEf,MAAOA,EAAUD,GAAgE,YAAlDD,EAAgBJ,EAAeM,IAAU3nF,KACpE8nF,EAAiB17E,KAAK5V,KAAKugF,cAAc0Q,EAAeF,IACxDI,GAAW,EAMf,IAAII,GAAW77B,KACf,OAAOttD,GAAc,QAAS,CAC1BJ,UAAWsyC,EAAWlsC,KAAK,KAC3BgF,MAAO,CAAE4a,OAAQ1uB,EAAM0uB,SACxBltB,SAASywF,GAAWH,EAAiB7wF,SAAW6H,GAAcV,WAAM,EAAQqrB,EAAc,CAAC,QAAS,IAAKq+D,IAAoBtwF,SAASywF,GAAWF,EAAiB9wF,SAAW6H,GAAcV,WAAM,EAAQqrB,EAAc,CAAC,QAAS,IAAKs+D,IAAoBvwF,SAASywF,GAAWD,EAAiB/wF,SAAW6H,GAAcV,WAAM,EAAQqrB,EAAc,CAAC,QAAS,IAAKu+D,IAAoBC,GAAWnpF,GAAcV,WAAM,EAAQqrB,EAAcA,EAAcA,EAAc,CAAC,QAAS,IAAKq+D,GAAmBC,GAAmBC,MAEpgBnB,EAAiBn6E,UAAUuqE,cAAgB,SAAUgO,EAAewC,GAChE,MAAI,iBAAkBxC,EACVnmF,GAAcsxB,GAAU,CAAEr5B,IAAKkuF,EAAcluF,KAAOkuF,EAAciD,cAEtEppF,GAAc,KAAM,CAAE/H,IAAKkuF,EAAcluF,IAAK2H,UAAW8nF,GAAqBvB,EAAevuF,KAAKV,MAAMuhF,QAAQzyE,KAAK,MAAQpO,KAAKyxF,cAAclD,EAAewC,EAAmBxC,EAAcmD,SAE5MvB,EAAiBn6E,UAAUy7E,cAAgB,SAAUlD,EAAewC,EAAmBrC,GACnF,GAAI,iBAAkBA,EAClB,OAAOA,EAAY8C,aAEvB,IAAIlyF,EAAQU,KAAKV,MACb+f,EAAKrf,KAAKo1B,MAAOo7D,EAAmBnxE,EAAGmxE,iBAAkBC,EAAuBpxE,EAAGoxE,qBAAsBC,EAAwBrxE,EAAGqxE,sBACpIxD,EAAkBsB,GAAmBlvF,EAAOivF,GAC5CoD,EAAWrD,GAA0BhvF,EAAOivF,GAG5CtgE,EAAa3uB,EAAMuhF,OACnB2P,EAAmB,SACdtD,EACG,OADe,SAFK,UAI5B0E,EAAarD,EAAcluF,IAC3BiI,EAAUmmF,GAAmBF,EAAeG,EAAa,CACzDK,kBAAmBgC,EACnBjC,cAAe,GACf70B,YAAe36D,EAAM0xF,uBAAyDxwF,IAArCiwF,EAAqBmB,GAAgE,KAAnCnB,EAAqBmB,GAChH53B,kBAAoDx5D,IAAtCkwF,EAAsBkB,GAA4BlB,EAAsBkB,GAAc,KACpG1+C,WAAYq7C,EAAcr7C,WAC1B07C,gBAAgB,EAChBiD,eAAgB,GAChBC,sBAAuB,eAE3B,OAAQ1pF,GAAc,KAAM,CAAEqoB,IAAKi+D,EAAYxnB,OAC3C9+D,GAAc,MAAO,CAAEJ,UAAW,uBAAyB2pF,EAAW,8BAAgC,KAClGvpF,GAAc,GAAU,CAAEqoB,IAAKzwB,KAAKqwF,aAAa52D,UAAUm4D,GAAa1qB,MAAOlnE,KAAKswF,eAAe72D,UAAUm4D,GAAa3jE,UAAWA,EAAW8tC,UAAYz8D,EAAMuhF,OAAqB,SAAZ,UAA4CgM,UAAW0B,EAAc1B,UAAWhM,OAAQ8Q,EAAUtF,kBACvQ,GAAQ/jF,MAE1B6nF,EAAiBn6E,UAAUu6E,kBAAoB,SAAUwB,EAAY1xF,GACjE,IAAI2xF,EAAUC,GAAgBjyF,KAAKV,MAAMwxF,SAAUzwF,GAC/C2xF,GACApvB,GAAOovB,EAAQN,MAAMQ,cAAeH,IAG5C5B,EAAiBn6E,UAAUwf,kBAAoB,WAC3Cx1B,KAAK2wF,eACL3wF,KAAKsrB,QAAQy2C,iBAAiB/hE,KAAK2wF,eAEvCR,EAAiBn6E,UAAU4f,mBAAqB,WAE5C51B,KAAK2wF,gBAETR,EAAiBn6E,UAAU2gB,qBAAuB,WAC9C32B,KAAKsrB,QAAQ02C,oBAAoBhiE,KAAK2wF,eAE1CR,EAAiBn6E,UAAUg4E,mBAAqB,WAC5C,OAAO2B,GAAe3vF,KAAKV,MAAM+vF,MAC3BrB,GAAmBhuF,KAAKswF,eAAevC,UACvC,GAEVoC,EAAiBn6E,UAAU46E,oBAAsB,WAC7C,IAAIuB,EAAiBt4B,KACjBx6C,EAAKrf,KAAMqwF,EAAehxE,EAAGgxE,aAAcC,EAAiBjxE,EAAGixE,eAC/DE,GAAmB,EACnBC,EAAuB,GACvBC,EAAwB,GAC5B,IAAK,IAAIkB,KAAcvB,EAAa9C,WAAY,CAC5C,IAAI6E,EAAW/B,EAAa9C,WAAWqE,GACvC,GAAIQ,GAAYA,EAASlF,kBAAmB,CACxCsD,GAAmB,EACnB,OAGR,IAAK,IAAI9sD,EAAK,EAAGxH,EAAKl8B,KAAKV,MAAMwxF,SAAUptD,EAAKxH,EAAG37B,OAAQmjC,IAAM,CAC7D,IAAIsuD,EAAU91D,EAAGwH,GAEbquD,GADAH,EAAaI,EAAQ3xF,IACRiwF,EAAe/C,WAAWqE,IAC3C,GAAIG,EAAY,CACZ,IAAIM,EAAYN,EAAW/oF,WAC3BynF,EAAqBmB,GAAcjuF,KAAKm+B,MAAMuwD,EAAUpuE,wBAAwBtQ,OAAS68E,EACnF2B,EAAehlF,EACf,IACNujF,EAAsBkB,GAAcjuF,KAAKm+B,MAAMuwD,EAAUpuE,wBAAwB+J,SAGzF,MAAO,CAAEwiE,iBAAkBA,EAAkBC,qBAAsBA,EAAsBC,sBAAuBA,IAE7GP,EAhJ0B,CAiJnC,IAKF,SAAS8B,GAAgBnB,EAAUzwF,GAC/B,IAAK,IAAIqjC,EAAK,EAAG4uD,EAAaxB,EAAUptD,EAAK4uD,EAAW/xF,OAAQmjC,IAAM,CAClE,IAAIsuD,EAAUM,EAAW5uD,GACzB,GAAIsuD,EAAQ3xF,MAAQA,EAChB,OAAO2xF,EAGf,OAAO,KAXX,GAAiBtvB,iBAAiB,CAC9B+tB,qBAAsB3sD,GACtB4sD,sBAAuB5sD,KAY3B,IAAI,GAA2B,SAAUhK,GAErC,SAASy4D,IACL,IAAIxxF,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAEhE,OADAe,EAAMmmE,MAAQztC,KACP14B,EA2CX,OA/CA2xB,EAAU6/D,EAAWz4D,GAMrBy4D,EAAUv8E,UAAUma,OAAS,WACzB,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1C7rB,EAAU6rB,EAAQ7rB,QAClBojD,EAAMvjD,EAAMujD,IACZW,EAAaX,EAAIW,WACjB5E,EAAK4E,EAAW5E,GAChBuoB,EAAY,CACZt9D,MAAO,IAAI,GAASyhB,EAASk4B,EAAW/d,IAAK+d,EAAW55B,UACxD69B,KAAMn8B,EAAQo8B,QACd8qC,SAAUlzF,EAAMkzF,SAChBj1C,UAAWqB,EAAGrB,UACdF,gBAAiBuB,EAAGvB,gBACpBC,YAAasB,EAAGtB,YAChBgI,aAAchmD,EAAMmzF,iBAAmBhvC,GAAoBZ,EAAKv3B,GAChEi6B,kBAAmBjmD,EAAMozF,iBAAmB5uC,GAAyBjB,EAAKv3B,GAC1Ek6B,gBAAiBlmD,EAAMozF,iBAAmB3uC,GAAuBlB,GACjEwC,SAAUvkD,QAAQxB,EAAMmmD,YAAcnmD,EAAMomD,YAAcpmD,EAAMqzF,iBAChEvwC,QAASthD,QAAQ+hD,EAAIT,SACrBC,MAAOvhD,QAAQ+hD,EAAIR,OACnB4C,OAAQnkD,QAAQxB,EAAM2lD,QACtBC,SAAUpkD,QAAQxB,EAAM4lD,UACxBC,QAASrkD,QAAQxB,EAAM6lD,SACvBQ,WAAY7kD,QAAQxB,EAAMqmD,YAC1BF,WAAY3kD,QAAQxB,EAAMmmD,YAC1BC,WAAY5kD,QAAQxB,EAAMomD,aAE1BktC,EAAqBxtC,GAAmB+hB,GAAW7mD,OAAOs+B,EAAGtE,YACjE,OAAQlyC,GAAc,GAAY,CAAE++D,UAAWA,EAAW7sB,WAAY76C,EAAQi1C,gBAAiBpsC,QAAS7I,EAAQk1C,aAAc0yB,eAAgB/nE,EAAM+nE,eAAgB9sB,SAAU96C,EAAQm1C,cAAe4F,YAAa/6C,EAAQo1C,iBAAkBqyB,MAAOlnE,KAAKknE,QAAS,SAAUF,EAAW+B,EAAkBxB,EAAYC,GAAgB,OAAOloE,EAAM2a,SAAS+sD,EAAW4rB,EAAmBtyE,OAAOyoD,GAAmBxB,EAAYC,EAAcL,OAEhborB,EAAUv8E,UAAUwf,kBAAoB,WACpCotB,GAAS5iD,KAAKknE,MAAM7sD,QAASra,KAAKV,MAAMujD,MAK5C0vC,EAAUv8E,UAAU4f,mBAAqB,SAAUwkD,GAC/C,IAAIv3B,EAAM7iD,KAAKV,MAAMujD,IACjBA,IAAQu3B,EAAUv3B,KAClBD,GAAS5iD,KAAKknE,MAAM7sD,QAASwoC,IAG9B0vC,EAhDmB,CAiD5B,IAGE,GAA+B,SAAUz4D,GAEzC,SAAS+4D,IACL,OAAkB,OAAX/4D,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAiB/D,OAnBA0yB,EAAUmgE,EAAe/4D,GAIzB+4D,EAAc78E,UAAUma,OAAS,WAC7B,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1Cu3B,EAAMvjD,EAAMujD,IACZoB,EAAa34B,EAAQ7rB,QAAQ82C,iBAAmBj3C,EAAMwzF,kBACtDN,EAAWxuC,GAAiBnB,EAAKoB,EAAY34B,EAAShsB,EAAM4kD,wBAAyB5kD,EAAM6kD,wBAC/F,OAAQ/7C,GAAc,GAAW,CAAEy6C,IAAKA,EAAK2vC,SAAUA,EAAUC,gBAAiBnzF,EAAMmzF,gBAAiBC,gBAAiBpzF,EAAMozF,gBAAiBrrB,eAAgB/nE,EAAM+nE,gBAAkB0rB,GAAsBttC,WAAYnmD,EAAMmmD,WAAYC,WAAYpmD,EAAMomD,WAAYitC,gBAAiBrzF,EAAMqzF,gBAAiBhtC,WAAYrmD,EAAMqmD,WAAYV,OAAQ3lD,EAAM2lD,OAAQC,SAAU5lD,EAAM4lD,SAAUC,QAAS7lD,EAAM6lD,UAAW,SAAU6hB,EAAW1sB,EAAYitB,EAAYC,EAAcL,GAAa,OAAQ/+D,GAAc,IAAK0qB,EAAS,CAAE9qB,UAAW1I,EAAMulF,gBAAgBvkE,OAAOg6B,GAAYlsC,KAAK,KAAMgF,MAAO,CACvkBkqC,YAAa6pB,EAAU7pB,YACvBD,gBAAiB8pB,EAAU9pB,iBAC5B5sB,IAAKu2C,GAAagsB,GAAkBnwC,IACvCz6C,GAAc,MAAO,CAAEJ,UAAW,gBAAiByoB,IAAK82C,EAAYn0D,MAAO,CAAEgqC,MAAO+pB,EAAU5pB,YAAeiqB,GAC7GL,EAAU5hB,kBACNn9C,GAAc,MAAO,CAAEJ,UAAW,4CACtCm/D,EAAU3hB,gBACNp9C,GAAc,MAAO,CAAEJ,UAAW,+CAEvC6qF,EApBuB,CAqBhC,IACF,SAASE,GAAqBE,GAC1B,OAAQ7qF,GAAc,MAAO,CAAEJ,UAAW,uBACtCirF,EAAWT,UAAapqF,GAAc,MAAO,CAAEJ,UAAW,iBAAmBirF,EAAWT,UACxFpqF,GAAc,MAAO,CAAEJ,UAAW,4BAC9BI,GAAc,MAAO,CAAEJ,UAAW,4BAA8BirF,EAAWppF,MAAM4T,OAASrV,GAAcsxB,GAAU,KAAM,QAEpI,SAASs5D,GAAkBnwC,GACvB,IAAI9nB,EAAM8nB,EAAIW,WAAW/d,IAAI1K,IAC7B,OAAOA,EAAM,CAAEmmD,KAAMnmD,GAAQ,GAGjC,IAAIm4D,GAAmB,SAAU5zF,GAAS,OAAQ8I,GAAco5D,GAAgB5qC,SAAU,MAAM,SAAUtL,GACtG,IAAI7rB,EAAU6rB,EAAQ7rB,QAClB0nE,EAAY,CACZgsB,OAAQ7zF,EAAM6zF,OACdjwF,KAAMooB,EAAQuZ,QAAQ8hB,OAAOrnD,EAAM4D,MACnCukD,KAAMn8B,EAAQo8B,SAElB,OAAQt/C,GAAc,GAAY,CAAE++D,UAAWA,EAAW7sB,WAAY76C,EAAQmyC,uBAAwBtpC,QAAS7I,EAAQoyC,oBAAqB0I,SAAU96C,EAAQqyC,qBAAsB0I,YAAa/6C,EAAQsyC,yBAA2BzyC,EAAM2a,cAG1Om5E,GAAiBrkD,GAAgB,CAAE/jC,IAAK,YACxC,GAAgC,SAAU8uB,GAE1C,SAASu5D,IACL,OAAkB,OAAXv5D,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAgB/D,OAlBA0yB,EAAU2gE,EAAgBv5D,GAI1Bu5D,EAAer9E,UAAUma,OAAS,WAC9B,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1C7rB,EAAU6rB,EAAQ7rB,QAClB0nE,EAAYmsB,GAAuB,CACnCpwF,KAAM5D,EAAM4D,KACZgmD,YAAa5pD,EAAM4pD,YACnBpE,WAAYxlD,EAAMwlD,WAClByuC,cAAej0F,EAAMi0F,cACrBC,WAAYl0F,EAAMilF,eAClB78B,QAASp8B,EAAQo8B,QACjB7iB,QAASvZ,EAAQuZ,UAErB,OAAQz8B,GAAcg/D,GAAa,CAAED,UAAWA,EAAW7+D,QAAS7I,EAAQkxC,eAAgB02B,eAAgB/nE,EAAM+nE,gBAAkB/nE,EAAM2a,WAEvIo5E,EAnBwB,CAoBjC,IACF,SAASC,GAAuBx4C,GAC5B,IAAI53C,EAAO43C,EAAI53C,KAAM2hC,EAAUiW,EAAIjW,QAC/Bu/C,EAAUrrB,GAAY71D,EAAM43C,EAAIgK,WAAY,KAAMhK,EAAIoO,aAC1D,OAAOp2B,EAASA,EAASA,EAAS,CAAE5vB,KAAM2hC,EAAQ8hB,OAAOzjD,GAAOukD,KAAM3M,EAAI4M,SAAW08B,GAAU,CAAEqP,cAAe34C,EAAIy4C,cAAgB1uD,EAAQj2B,OAAO1L,EAAMkwF,IAAkB,KAAOt4C,EAAI04C,YAG1L,IAAI,GAA6B,SAAU15D,GAEvC,SAAS45D,IACL,IAAI3yF,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAGhE,OAFAe,EAAM4yF,gBAAkBpqD,GAAc+pD,IACtCvyF,EAAM0mE,oBAAsBgB,KACrB1nE,EAsBX,OA3BA2xB,EAAUghE,EAAa55D,GAOvB45D,EAAY19E,UAAUma,OAAS,WAC3B,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1C7rB,EAAU6rB,EAAQ7rB,QAClB0nE,EAAYnnE,KAAK2zF,gBAAgB,CACjCzwF,KAAM5D,EAAM4D,KACZgmD,YAAa5pD,EAAM4pD,YACnBpE,WAAYxlD,EAAMwlD,WAClByuC,cAAej0F,EAAMi0F,cACrBC,WAAYl0F,EAAMilF,eAClB78B,QAASp8B,EAAQo8B,QACjB7iB,QAASvZ,EAAQuZ,UAEjByV,EAAa4e,GAAiBiO,EAAW77C,EAAQ6tC,OAAO74C,OAAO6mD,EAAUnO,WACvE,GACAh5D,KAAKynE,oBAAoBhoE,EAAQixC,kBAAmBy2B,IACtDysB,EAAYzsB,EAAUnO,WAAa,GAAK,CACxC,YAAaxwB,GAAgBlpC,EAAM4D,OAEvC,OAAQkF,GAAc,GAAW,CAAE++D,UAAWA,EAAW5sB,SAAU96C,EAAQmxC,gBAAiB4J,YAAa/6C,EAAQoxC,mBAAoBq2B,MAAO5nE,EAAM4nE,QAAS,SAAUF,GAAa,OAAO1nE,EAAM2a,SAAS+sD,EAAW1sB,EAAYs5C,EAAWzsB,EAAUnO,gBAEjP06B,EA5BqB,CA6B9B,IAEF,SAASG,GAAWC,GAChB,OAAQ1rF,GAAc,MAAO,CAAEJ,UAAW,MAAQ8rF,IAEtD,IAAIC,GAAU,SAAUz0F,GAAS,OAAQ8I,GAAc,GAAW,CAAEi/D,eAAgBQ,GAAoBhlB,IAAKvjD,EAAMujD,IAA4B2vC,SAAU,GAAIC,iBAAiB,EAAMC,iBAAiB,EAAMjtC,YAAY,EAAOC,YAAY,EAAOitC,iBAAiB,EAAOhtC,YAAY,EAAOV,OAAQ3lD,EAAM2lD,OAAQC,SAAU5lD,EAAM4lD,SAAUC,QAAS7lD,EAAM6lD,UAAW,SAAU6hB,EAAW1sB,EAAYitB,EAAYC,EAAcL,GAAa,OAAQ/+D,GAAc,MAAO,CAAEqoB,IAAKu2C,EAAWh/D,UAAW,CAAC,eAAesY,OAAOg6B,GAAYlsC,KAAK,KAAMgF,MAAO,CACrhBiqC,gBAAiB8pB,EAAU9pB,kBAC1BmqB,OACT,SAASK,GAAmBvoE,GACxB,IAAIme,EAAQne,EAAMuK,MAAM4T,MACxB,OAAOA,GAAUrV,GAAc,MAAO,CAAEJ,UAAW,kBAAoB1I,EAAMuK,MAAM4T,OAGvF,IAAIu2E,GAAiB,SAAU10F,GAAS,OAAQ8I,GAAco5D,GAAgB5qC,SAAU,MAAM,SAAUtL,GACpG,IAAIuZ,EAAUvZ,EAAQuZ,QAASplC,EAAU6rB,EAAQ7rB,QAC7CyD,EAAO5D,EAAM4D,KACb0L,EAASnP,EAAQ2zC,kBAAoB9zC,EAAM20F,cAC3C/mD,EAAMrI,EAAQqH,kBAAkBhpC,GAChCxC,EAAOmkC,EAAQj2B,OAAO1L,EAAM0L,GAC5Bu4D,EAAY,CAAEj6B,IAAKA,EAAKxsC,KAAMA,EAAMwC,KAAMA,GAC9C,OAAQkF,GAAc,GAAY,CAAE++D,UAAWA,EAAW7sB,WAAY76C,EAAQ0xC,qBAAsB7oC,QAAS7I,EAAQ2xC,kBAAmBi2B,eAAgB6sB,GAAa35C,SAAU96C,EAAQ4xC,mBAAoBmJ,YAAa/6C,EAAQ6xC,uBAAyBhyC,EAAM2a,cAEnQ,SAASi6E,GAAYjB,GACjB,OAAOA,EAAWvyF,KAGtB,IAAIyzF,GAAwB,GACxB,GAAyB,SAAUr6D,GAEnC,SAASs6D,IACL,IAAIrzF,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAqBhE,OApBAe,EAAMkmE,aAAe,SAAUxxD,GAC3B1U,EAAMynE,OAAS/yD,EACX1U,EAAMzB,MAAM4nE,OACZtE,GAAO7hE,EAAMzB,MAAM4nE,MAAOzxD,IAIlC1U,EAAMszF,wBAA0B,SAAU7+E,GAEtC,IAAIxL,EAASiyB,GAAsBzmB,GAC9BzU,EAAMynE,OAAO3wD,SAAS7N,IACvBjJ,EAAMuzF,oBAGdvzF,EAAMuzF,iBAAmB,WACrB,IAAI9vF,EAAUzD,EAAMzB,MAAMkF,QACtBA,GACAA,KAGDzD,EA6CX,OApEA2xB,EAAU0hE,EAASt6D,GAyBnBs6D,EAAQp+E,UAAUma,OAAS,WACvB,IAAIgpC,EAAQn5D,KAAKsrB,QAAQ6tC,MACrB75D,EAAQU,KAAKV,MACbg7C,EAAa,CACb,aACA6e,EAAMC,SAAS,YACjB94C,OAAOhhB,EAAMulF,iBAAmB,IAClC,OAAOjrD,GAAaxxB,GAAc,MAAO0qB,EAAS,CAAE9qB,UAAWsyC,EAAWlsC,KAAK,MAAQ9O,EAAMi1F,WAAY,CAAE9jE,IAAKzwB,KAAKinE,eACjH7+D,GAAc,MAAO,CAAEJ,UAAW,qBAAuBmxD,EAAMC,SAAS,kBACpEhxD,GAAc,OAAQ,CAAEJ,UAAW,oBAAsB1I,EAAMme,OAC/DrV,GAAc,OAAQ,CAAEJ,UAAW,oBAAsBmxD,EAAMoH,aAAa,SAAUwf,QAAS//E,KAAKs0F,oBACxGlsF,GAAc,MAAO,CAAEJ,UAAW,mBAAqBmxD,EAAMC,SAAS,mBAAqB95D,EAAM2a,WAAY3a,EAAMk1F,WAE3HJ,EAAQp+E,UAAUwf,kBAAoB,WAClChtB,SAASkN,iBAAiB,YAAa1V,KAAKq0F,yBAC5Cr0F,KAAKkrD,cAETkpC,EAAQp+E,UAAU2gB,qBAAuB,WACrCnuB,SAASqN,oBAAoB,YAAa7V,KAAKq0F,0BAEnDD,EAAQp+E,UAAUk1C,WAAa,WAC3B,IAAIsV,EAAQxgE,KAAKsrB,QAAQk1C,MACrBnhD,EAAKrf,KAAKV,MAAOm1F,EAAcp1E,EAAGo1E,YAAaC,EAAer1E,EAAGq1E,aACjElsB,EAASxoE,KAAKwoE,OACdmsB,EAAgBn5B,GAAyBi5B,GAC7C,GAAIE,EAAe,CACf,IAAIC,EAAcpsB,EAAOvkD,wBAErB4wE,EAAaH,EACXz5D,GAAew5D,EAAa,kBAAkBxwE,wBAAwBK,IACtEqwE,EAAcrwE,IAChBwwE,EAAct0B,EAAQm0B,EAAc/vE,MAAQgwE,EAAYjhF,MAAQghF,EAAcnwE,KAElFqwE,EAAalxF,KAAK0M,IAAIwkF,EAAYV,IAClCW,EAAcnxF,KAAKyM,IAAI0kF,EAAatsF,SAAS2yB,gBAAgB8+B,YAAck6B,GAAwBS,EAAYjhF,OAC/GmhF,EAAcnxF,KAAK0M,IAAIykF,EAAaX,IACpC,IAAIY,EAAWvsB,EAAOwsB,aAAa/wE,wBACnC6X,GAAW0sC,EAAQ,CACflkD,IAAKuwE,EAAaE,EAASzwE,IAC3BE,KAAMswE,EAAcC,EAASvwE,SAIlC4vE,EArEiB,CAsE1B,IAEE,GAA6B,SAAUt6D,GAEvC,SAASm7D,IACL,IAAIl0F,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAahE,OAZAe,EAAMkmE,aAAe,SAAUuB,GAC3BznE,EAAMynE,OAASA,EACXA,EACAznE,EAAMuqB,QAAQu2C,6BAA6B9gE,EAAO,CAC9C0U,GAAI+yD,EACJgW,gBAAgB,IAIpBz9E,EAAMuqB,QAAQw2C,+BAA+B/gE,IAG9CA,EAkCX,OAjDA2xB,EAAUuiE,EAAan7D,GAiBvBm7D,EAAYj/E,UAAUma,OAAS,WAC3B,IAAI9Q,EAAKrf,KAAKsrB,QAAS7rB,EAAU4f,EAAG5f,QAASolC,EAAUxlB,EAAGwlB,QACtDvlC,EAAQU,KAAKV,MACb41F,EAAY51F,EAAM41F,UAAWpwC,EAAaxlD,EAAMwlD,WAAYoE,EAAc5pD,EAAM4pD,YAChFzrC,EAAQonB,EAAQj2B,OAAOsmF,EAAWz1F,EAAQmwC,kBAC9C,OAAQxnC,GAAc,GAAa,CAAElF,KAAMgyF,EAAWhsC,YAAaA,EAAapE,WAAYA,EAAYoiB,MAAOlnE,KAAKinE,eAAgB,SAAUD,EAAWmuB,EAAevB,GAAa,OAAQxrF,GAAc,GAAS,CAAE8+D,MAAOF,EAAWvpD,MAAOA,EAAOonE,gBAAiB,CAAC,mBAAmBvkE,OAAO60E,GAAgBZ,WAAYX,EAAiEY,SAAUl1F,EAAMk1F,SAAUC,YAAan1F,EAAMm1F,YAAaC,aAAcp1F,EAAMo1F,aAAclwF,QAASlF,EAAMkF,SACte4D,GAAc,GAAgB,CAAElF,KAAMgyF,EAAWhsC,YAAaA,EAAapE,WAAYA,IAAc,SAAUyiB,EAAYC,GAAgB,OAAQA,GAC/Ip/D,GAAc,MAAO,CAAEJ,UAAW,uBAAwByoB,IAAK82C,GAAcC,MACjFloE,EAAM2a,cAEdg7E,EAAYj/E,UAAUgtD,SAAW,SAAUC,EAAcC,EAAaC,EAASC,GAC3E,IAAI/jD,EAAKrf,KAAMwoE,EAASnpD,EAAGmpD,OAAQlpE,EAAQ+f,EAAG/f,MAC9C,OAAI2jE,GAAgB,GAAKA,EAAeE,GACpCD,GAAe,GAAKA,EAAcE,EAC3B,CACHla,YAAa5pD,EAAM4pD,YACnBlC,SAAUl0B,EAAS,CAAEiS,QAAQ,EAAMxe,MAAO,CAClCwf,MAAOzmC,EAAM41F,UACblvD,IAAK1mC,EAAM8tD,UACV9tD,EAAM81F,eACfC,MAAO7sB,EACPvT,KAAM,CACFzwC,KAAM,EACNF,IAAK,EACLM,MAAOu+C,EACP/+C,OAAQg/C,GAEZkyB,MAAO,GAGR,MAEJL,EAlDqB,CAmD9B,IAEE,GAA8B,SAAUn7D,GAExC,SAASy7D,IACL,IAAIx0F,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAuChE,OAtCAe,EAAMy0F,UAAY/7D,KAClB14B,EAAMq0B,MAAQ,CACVqgE,eAAe,GAEnB10F,EAAM20F,YAAc,SAAUlgF,GAC1B,IAAI6J,EAAKte,EAAOzB,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC3CysB,EAAgBzsB,EAAQ7rB,QAAQs4C,cAChC70C,EAAOyyF,GAAar2F,GAAOymC,MAC/B,SAAS6vD,EAAe/yC,GACpB,IAAIxjC,EAAKwjC,EAAIW,WAAY/d,EAAMpmB,EAAGomB,IAAK7b,EAAWvK,EAAGuK,SAAUrD,EAAQlH,EAAGkH,MAC1E,MAAO,CACH1c,MAAO,IAAI,GAASyhB,EAASma,EAAK7b,GAClCmc,MAAOza,EAAQuZ,QAAQ8hB,OAAOpgC,EAAMwf,OACpCC,IAAK1a,EAAQuZ,QAAQ8hB,OAAOpgC,EAAMyf,KAClCoc,QAASS,EAAIT,QACbC,MAAOQ,EAAIR,OAGU,oBAAlBtK,IACPA,EAAgBA,EAAc,CAC1B70C,KAAMA,EACN6hC,OAAQjkC,QAAQxB,EAAMu2F,YACtBC,QAASx2F,EAAMw2F,QAAQ90F,IAAI40F,GAC3BG,WAAYz2F,EAAMy2F,WAAW/0F,IAAI40F,GACjCruC,QAAS/xC,EACTiyC,KAAMn8B,EAAQo8B,WAGjB3P,GAAmC,YAAlBA,EAGY,kBAAlBA,GACZzsB,EAAQq8B,YAAYoE,OAAO7oD,EAAM60C,GAHjCh3C,EAAMg2B,SAAS,CAAE0+D,eAAe,KAMxC10F,EAAMi1F,mBAAqB,WACvBj1F,EAAMg2B,SAAS,CAAE0+D,eAAe,KAE7B10F,EAkCX,OA3EA2xB,EAAU6iE,EAAcz7D,GA2CxBy7D,EAAav/E,UAAUma,OAAS,WAC5B,IAAIpvB,EAAQf,KACRV,EAAQU,KAAKV,MACjB,OAAQ8I,GAAco5D,GAAgB5qC,SAAU,MAAM,SAAUtL,GAC5D,IAAIo8B,EAAUp8B,EAAQo8B,QAASjoD,EAAU6rB,EAAQ7rB,QAASkoD,EAAcr8B,EAAQq8B,YAC5ElR,EAAeh3C,EAAQg3C,aACvBw/C,EAAU32F,EAAM22F,QAChB1vE,EAAQovE,GAAar2F,GACrB6nE,EAAY,CACZj6B,IAAK+oD,EACLC,UAAW,IAAMD,EACjBv1F,KAA8B,oBAAjB+1C,EACPA,EAAaxgC,KAAK0xC,EAAasuC,GAC/B,IAAMA,EAAU,IAAMx/C,EAC5BgR,KAAMC,GAEV,OAAQt/C,GAAcsxB,GAAU,KAC5B54B,QAAQxB,EAAM22F,UAAa7tF,GAAc,GAAY,CAAE8+D,MAAOnmE,EAAMy0F,UAAWruB,UAAWA,EAAW7sB,WAAY76C,EAAQu4C,mBAAoB1vC,QAAS7I,EAAQw4C,gBAAiBovB,eAAgB/nE,EAAM+nE,gBAAkB8uB,GAAqB57C,SAAU96C,EAAQy4C,iBAAkBsC,YAAa/6C,EAAQ04C,sBAAuB,SAAU6uB,EAAW+B,EAAkBxB,EAAYC,GAAgB,OAAOloE,EAAM2a,SAAS+sD,EAAW,CAAC,gBAAgB1mD,OAAOyoD,GAAmBxB,EAAYC,EAAczmE,EAAM20F,gBAC3e30F,EAAMq0B,MAAMqgE,eAAkBrtF,GAAc,GAAa,CAAE8sF,UAAW3uE,EAAMwf,MAAOqnB,QAAS7mC,EAAMyf,IAAKkjB,YAAa5pD,EAAM4pD,YAAapE,WAAYxlD,EAAMwlD,WAAYswC,cAAe91F,EAAM81F,cAAeZ,SAAUzzF,EAAMyzF,SAAUC,YAAan1F,EAAM82F,eAAe/7E,QAASq6E,aAAcp1F,EAAMo1F,aAAclwF,QAASzD,EAAMi1F,oBAAsB12F,EAAM+2F,uBAGvWd,EAAav/E,UAAUwf,kBAAoB,WACvCx1B,KAAKs2F,kBAETf,EAAav/E,UAAU4f,mBAAqB,WACxC51B,KAAKs2F,kBAETf,EAAav/E,UAAUsgF,eAAiB,WAChCt2F,KAAKw1F,UAAUn7E,UACfra,KAAKw0F,SAAWv5D,GAAej7B,KAAKw1F,UAAUn7E,QAAS,sBAGxDk7E,EA5EsB,CA6E/B,IACF,SAASY,GAAoB72F,GACzB,OAAOA,EAAMoB,KAEjB,SAASi1F,GAAar2F,GAClB,GAAIA,EAAMu2F,WACN,MAAO,CACH9vD,MAAOzmC,EAAMu2F,WACb7vD,IAAKvG,GAAQngC,EAAMu2F,WAAY,IAGvC,IAAIE,EAAaz2F,EAAMy2F,WACvB,MAAO,CACHhwD,MAAOwwD,GAAwBR,GAC/B/vD,IAAKwwD,GAAoBT,IAGjC,SAASQ,GAAwBpzC,GAC7B,OAAOA,EAAK3/B,OAAOizE,IAAmBjzC,WAAWj9B,MAAMwf,MAE3D,SAAS0wD,GAAkBC,EAAMC,GAC7B,OAAOD,EAAKlzC,WAAWj9B,MAAMwf,MAAQ4wD,EAAKnzC,WAAWj9B,MAAMwf,MAAQ2wD,EAAOC,EAE9E,SAASH,GAAoBrzC,GACzB,OAAOA,EAAK3/B,OAAOozE,IAAepzC,WAAWj9B,MAAMyf,IAEvD,SAAS4wD,GAAcF,EAAMC,GACzB,OAAOD,EAAKlzC,WAAWj9B,MAAMyf,IAAM2wD,EAAKnzC,WAAWj9B,MAAMyf,IAAM0wD,EAAOC,EAK1E,IC1tSI,GAA0B,SAAU78D,GAEpC,SAAS+8D,EAASphF,EAAI+zD,QACM,IAApBA,IAA8BA,EAAkB,IACpD,IAAIzoE,EAAQ+4B,EAAO7jB,KAAKjW,OAASA,KA4CjC,OA3CAe,EAAM+1F,aAAc,EACpB/1F,EAAMg2F,YAAa,EACnBh2F,EAAM6nE,kBAAoB,GAC1B7nE,EAAMi2F,sBAAwB,EAC9Bj2F,EAAMk2F,aAAe,SAAUzsC,GAE3B,OAAQA,EAAOhhD,MACX,IAAK,iBACL,IAAK,mBACDzI,EAAMm2F,aAAazhB,aAG/B10E,EAAMm5E,WAAa,SAAUxyD,GACzB3mB,EAAM4sD,YAAcjmC,EACpB3mB,EAAMm2F,aAAaj2B,QAAQv5C,EAAKkK,gBAAgB4kB,gBAEpDz1C,EAAMo2F,oBAAsB,WACxB,GAAIp2F,EAAM+1F,YAAa,CACnB/1F,EAAMg2F,YAAa,EACnB,IAAIK,EAAgBr2F,EAAM4sD,YAC1B,GAAOvlD,GAAc,GAAc,CAAE3I,QAAS23F,EAAcxlE,gBAAiBunC,MAAOi+B,EAAcj+B,MAAO/R,QAASgwC,EAAchwC,UAAW,SAAU9M,EAAYtsB,EAAQ60D,EAAcC,GAGnL,OAFA/hF,EAAMs2F,cAAc/8C,GACpBv5C,EAAMmuB,UAAUlB,GACR5lB,GAAcs/D,GAA2B7wC,SAAU,CAAEp2B,MAAOM,EAAMi2F,uBACtE5uF,GAAc,GAAiB0qB,EAAS,CAAE+vD,aAAcA,EAAcC,SAAUA,GAAYsU,QAChGr2F,EAAM0U,SAEL1U,EAAMg2F,aACXh2F,EAAMg2F,YAAa,EACnB,GAAuBh2F,EAAM0U,IAC7B1U,EAAMs2F,cAAc,IACpBt2F,EAAMmuB,UAAU,KAEpB,MAEJnuB,EAAM0U,GAAKA,EACX1U,EAAMm2F,aAAe,IAAIjiB,GAAcl0E,EAAMo2F,qBAC7C,IAAI,GAAoB,CACpB3tB,gBAAiBA,EACjB7hB,YAAa5mD,EACb+3E,SAAU/3E,EAAMk2F,aAChB9d,OAAQp4E,EAAMm5E,aAEXn5E,EA8DX,OA7GA2xB,EAAUmkE,EAAU/8D,GAiDpBxoB,OAAOwL,eAAe+5E,EAAS7gF,UAAW,OAAQ,CAC9C+G,IAAK,WAAc,OAAO/c,KAAK2tD,YAAYjG,SAE3C19B,YAAY,EACZC,cAAc,IAElB4sE,EAAS7gF,UAAUma,OAAS,WACxB,IAAImnE,EAAet3F,KAAK82F,YACnBQ,EAIDt3F,KAAKg3F,uBAAyB,EAH9Bh3F,KAAK82F,aAAc,EAKvB92F,KAAKk3F,aAAaj2B,UACdq2B,GACAt3F,KAAKkrD,cAGb2rC,EAAS7gF,UAAUsI,QAAU,WACrBte,KAAK82F,cACL92F,KAAK82F,aAAc,EACnB92F,KAAKk3F,aAAaj2B,YAG1B41B,EAAS7gF,UAAUk1C,WAAa,WAC5BpxB,EAAO9jB,UAAUk1C,WAAWj1C,KAAKjW,MACjC,MAEJ62F,EAAS7gF,UAAUi1C,eAAiB,SAAU/sB,GAC1Cl+B,KAAKk3F,aAAaxhB,MAAM,kBACxBx3C,IACAl+B,KAAKk3F,aAAathB,OAAO,mBAE7BihB,EAAS7gF,UAAUuhF,eAAiB,WAChCv3F,KAAKk3F,aAAaxhB,MAAM,mBAE5BmhB,EAAS7gF,UAAUwhF,gBAAkB,WACjCx3F,KAAKk3F,aAAathB,OAAO,kBAAkB,IAE/CihB,EAAS7gF,UAAUsiE,aAAe,SAAU9O,EAAiB+O,GACzDv4E,KAAKgrD,mBAAmBstB,aAAa9O,EAAiB+O,IAE1Dse,EAAS7gF,UAAUqhF,cAAgB,SAAU/8C,GACzC,IAAK1R,GAAc0R,EAAYt6C,KAAK4oE,mBAAoB,CAEpD,IADA,IAAI3gE,EAAYjI,KAAKyV,GAAGxN,UACfy7B,EAAK,EAAGrkB,EAAKrf,KAAK4oE,kBAAmBllC,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAChE,IAAI17B,EAAYqX,EAAGqkB,GACnBz7B,EAAUE,OAAOH,GAErB,IAAK,IAAIk0B,EAAK,EAAGu7D,EAAen9C,EAAYpe,EAAKu7D,EAAal3F,OAAQ27B,IAAM,CACpEl0B,EAAYyvF,EAAav7D,GAC7Bj0B,EAAUC,IAAIF,GAElBhI,KAAK4oE,kBAAoBtuB,IAGjCu8C,EAAS7gF,UAAUkZ,UAAY,SAAUlB,GACrCgO,GAAeh8B,KAAKyV,GAAI,SAAUuY,IAE/B6oE,EA9GkB,CA+G3B,ICzHSa,GAAoB,CAC3B3nD,eAAe,EACfC,eAAe,EACf6J,QAAQ,EACRC,cAAc,EACd69C,WAAW;;;;;ECAR,SAASC,GAAYnoF,GASxB,MARmB,kBAARA,IACH5H,MAAM0sB,QAAQ9kB,GACdA,EAAM5H,MAAMmO,UAAU9O,MAAM+O,KAAKxG,GAE5BA,IACLA,EAAMqjB,EAAS,GAAIrjB,KAGpBA,EAEJ,SAAS,GAAQuC,EAAOksB,GAC3B,IAAI25D,EAAS,GACb,IAAK,IAAIx3F,KAAO2R,EACRA,EAAMygB,eAAepyB,KACrBw3F,EAAOx3F,GAAO69B,EAAKlsB,EAAM3R,GAAMA,IAGvC,OAAOw3F,EClBJ,SAASC,GAAkBC,GAC9B,OAAO,SAAUz4F,GACb,MAAO,CAAE04F,IAAKD,EAAcz4F,KAG7B,SAAS24F,GAA2BC,GACvC,OAAO30B,GAAa,CAChBoB,oBAAqB,CACjBqzB,IAAK,WAAc,OAAOG,GAAiBD,OAIvD,SAASC,GAAiBD,GACtB,IAAIE,EACAjlE,EACJ,SAAShD,EAAO1a,EAAI4iF,GAOhB,GANID,IAAc3iF,IACV2iF,GAAajlE,GACbA,EAAEmlE,WAENF,EAAY3iF,GAEX0d,EAQDA,EAAE7qB,QAAU+vF,MARR,CACJllE,EAAIolE,GAAQF,EAAaH,GAEzB,IAAIt+B,EAAUpxD,SAASJ,cAAc,QACrCqN,EAAG9L,YAAYiwD,GACfzmC,EAAEqlE,OAAO5+B,IAMjB,SAASt7C,IACD6U,GACAA,EAAEmlE,WAGV,MAAO,CAAEnoE,OAAQA,EAAQ7R,QAASA,GAEtC,SAASi6E,GAAQE,EAAgBP,GAC7B,OAAO,IAAI,aAAI,CACXA,OAAQA,EACRxwE,KAAM,CACFpf,QAASmwF,GAEbtoE,OAAQ,SAAU5jB,GACd,IAAIjE,EAAUtI,KAAKsI,QAGnB,OAAuB,IAAnBA,EAAQ/H,OACD+H,EAAQ,GAGRiE,EAAE,OAAQ,GAAIjE,MCrDrC,IAAIowF,GAAe,aAAI74F,OAAO,CAC1BP,MAAO,CACHG,QAAS6R,QAEboW,KAAMixE,GACNxoE,OAAQ,SAAU/nB,GACd,OAAOA,EAAc,MAAO,CAExBkoB,MAAO,CAAE,oBAAqBtwB,KAAK2nE,aAG3Cx4C,QAAS,WACL,IAAIypE,EAAW54F,KAAKiB,SACpB23F,EAASC,kBAAoB,GAAQ74F,KAAK84F,aAAchB,IACxD,IAAIiB,EAAW,IAAI,GAAS/4F,KAAKuvB,IAAKvvB,KAAKg5F,aAAah5F,KAAKP,QAASO,OACtE44F,EAASG,SAAWA,EACpBA,EAAS5oE,UAEbjwB,QAAS,CACL+4F,OAAQA,GACRD,aAAcA,IAElBE,aAAc,WACVl5F,KAAKi5F,SAASzB,mBAElB2B,cAAe,WACXn5F,KAAKi5F,SAAS36E,WAElB0Q,MAAOoqE,OAEX,SAAST,KACL,MAAO,CACHhxB,SAAU,GAGlB,SAASqxB,GAAaK,EAAiBnB,GACnC,IAAIU,EAAW54F,KAAKiB,SAEpB,OADAo4F,EAAkBA,GAAmB,GAC9BvmE,EAASA,EAASA,EAAS,GAAI8lE,EAASC,mBAAoBQ,GAAkB,CAAEl0F,SAAUk0F,EAAgBl0F,SAAW,IAAImb,OAAO,CAC/H23E,GAA2BC,OAGvC,SAASe,KACL,IAAIL,EAAW54F,KAAKiB,SACpB,OAAO23F,EAASG,SAEpB,SAASK,KACL,IAAIE,EAAW,CAGX75F,QAAS,CACL85F,MAAM,EACNhkF,QAAS,SAAU9V,GACf,IAAIs5F,EAAW/4F,KAAKi5F,SACpBF,EAASxB,iBACTwB,EAASzgB,aAAat4E,KAAKg5F,aAAav5F,EAASO,OACjDA,KAAK2nE,cAIb6xB,EAAU,SAAUC,GAEpBH,EAAS,WAAaG,GAAqB,CACvCF,MAAM,EACNhkF,QAAS,SAAU9F,GACf,IAAI4P,EAEJ,QAAY7e,IAARiP,EAAmB,CACnB,IAAIspF,EAAW/4F,KAAKi5F,SACpBF,EAASxB,iBACTwB,EAASzgB,cAAcj5D,EAAK,GAGxBA,EAAGo6E,GAAqB7B,GAAYnoF,GACpC4P,IAAK,GACTrf,KAAK2nE,eAKrB,IAAK,IAAI8xB,KAAqB/B,GAC1B8B,EAAQC,GAEZ,OAAOH,EAEI,IC1EXI,GD0EW,MCnFXC,IAAY,EAET,SAASC,GAAQC,GACfF,KACDA,IAAY,EACZE,EAAI3/C,UAAU,eAAgB,KAMlCw/C,GADsB,qBAAfzgE,WACKA,WAAW4gE,IAGXl4F,OAAOk4F,IAGnBH,IACAA,GAAUI,IAAI,CACVF,QAASA,KAIF,IC/BXG,GD+BW,M,8DE7BA,IACbC,YAAY,EACZ5kE,MAAO,CACLxD,gBAAiB,CACf,CACEwrB,MAAO,SACP68C,MAAO,YAET,CACE78C,MAAO,UACP68C,MAAO,YAET,CACE78C,MAAO,UACP68C,MAAO,UAET,CACE78C,MAAO,UACP68C,MAAO,WAET,CACE78C,MAAO,OACP68C,MAAO,QAGXC,kBAAmB,CAAC,WAAY,WAAY,SAAU,UAAW,QAEnEC,QAAS,GACTC,UAAW,CACTC,oBADS,SACWjlE,EAAO3lB,GACzB2lB,EAAM8kE,kBAAoBzqF,IAG9B6qF,QAAS,CACPC,YADO,SACKC,EADL,GACyB,IAAbC,EAAa,EAAbA,UACjB,OAAO,IAAIvjE,SAAQ,SAACE,EAASsjE,GAC3BC,QACG59E,IAAI,wBAAyB,CAC5B40D,OAAQ,CACN8oB,UAAWA,EAAUrsF,KAAK,QAG7B+oB,MAAK,SAAAyjE,GAAQ,OAAIxjE,EAAQwjE,MACzBC,OAAM,SAAA5wF,GAAK,OAAIywF,EAAOzwF,UAG7B8nB,SAbO,SAaEyoE,EAbF,GAakB,IAAT3wF,EAAS,EAATA,MACd,OAAO,IAAIqtB,SAAQ,SAACE,EAASsjE,GAC3BC,QACGG,KAAK,wBAAyB,CAAEjxF,UAChCstB,MAAK,SAAAyjE,GAAQ,OAAIxjE,EAAQwjE,MACzBC,OAAM,SAAA5wF,GAAK,OAAIywF,EAAOzwF,UAG7B+nB,YArBO,SAqBKwoE,EArBL,GAqBqB,IAAT3wF,EAAS,EAATA,MACjB,OAAO,IAAIqtB,SAAQ,SAACE,EAASsjE,GAC3BC,QACGG,KADH,gCACiCjxF,EAAMqjB,IAAM,CAAErjB,UAC5CstB,MAAK,SAAAyjE,GAAQ,OAAIxjE,EAAQwjE,MACzBC,OAAM,SAAA5wF,GAAK,OAAIywF,EAAOzwF,UAG7B6nB,YA7BO,SA6BK0oE,EA7BL,GA6BkB,IAANttE,EAAM,EAANA,GACjB,OAAO,IAAIgK,SAAQ,SAACE,EAASsjE,GAC3BC,QACG1iE,OADH,gCACmC/K,IAChCiK,MAAK,SAAAyjE,GAAQ,OAAIxjE,EAAQwjE,MACzBC,OAAM,SAAA5wF,GAAK,OAAIywF,EAAOzwF,YCrE7B,GAAS,WAAa,IAAIknB,EAAInxB,KAASoxB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,0EAA0E,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,WAAW,CAAC9D,WAAW,CAAC,CAACtsB,KAAK,SAAS65F,QAAQ,eAAet6F,MAAM,4BAA8B0xB,WAAW,8BAA8BpG,UAAU,CAAC,KAAM,KAAQuE,MAAM,CAAC,gBAAgB,wBAAwB,gBAAgB3vB,OAAOwwB,EAAIO,6BAA6B,QAAU,UAAU,MAAQ,IAAIlB,GAAG,CAAC,MAAQ,SAASmB,GAAQ,OAAOR,EAAI6pE,MAAM,sCAAsC,MAAS,CAAC7pE,EAAI8pE,GAAG,iBAAiB3pE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACL,EAAI+pE,GAAG,GAAG5pE,EAAG,kBAAkB,CAACE,YAAY,OAAOS,MAAM,CAACxxB,MAAO0wB,EAAY,SAAE1G,SAAS,SAAUyH,GAAMf,EAAIgqE,SAASjpE,GAAKC,WAAW,aAAa,CAAChB,EAAI8pE,GAAG,gBAAgB3pE,EAAG,eAAe,CAACA,EAAG,wBAAwB,CAAChB,MAAM,CAAC,KAAO,eAAe,QAAU,IAAI2B,MAAM,CAACxxB,MAAO0wB,EAAqB,kBAAE1G,SAAS,SAAUyH,GAAMf,EAAI+oE,kBAAkBhoE,GAAKC,WAAW,sBAAsBhB,EAAIiqE,GAAIjqE,EAAmB,iBAAE,SAASyS,GAAM,OAAOtS,EAAG,kBAAkB,CAACjxB,IAAIujC,EAAKq2D,MAAMzoE,YAAY,OAAOpB,MAAO,kBAAqBwT,EAAU,MAAGtT,MAAM,CAAC,KAAO,eAAe,MAAQsT,EAAKq2D,QAAQ,CAAC9oE,EAAI8pE,GAAG,IAAI9pE,EAAIkqE,GAAGz3D,EAAKq2D,OAAO,UAAS,IAAI,IAAI,IAAI,GAAG3oE,EAAG,QAAQ,CAAChB,MAAM,CAAC,IAAM,EAAQ,YAAuD,IACj3C,GAAkB,CAAC,WAAa,IAAIa,EAAInxB,KAASoxB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACE,YAAY,gCAAgC,CAACF,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACL,EAAI8pE,GAAG,mB,qHFC/M,SAAS1uE,GAAQC,EAAQC,GAAkB,IAAIjD,EAAOlY,OAAOkY,KAAKgD,GAAS,GAAIlb,OAAOob,sBAAuB,CAAE,IAAIC,EAAUrb,OAAOob,sBAAsBF,GAAaC,IAAgBE,EAAUA,EAAQnM,QAAO,SAAUoM,GAAO,OAAOtb,OAAOub,yBAAyBL,EAAQI,GAAK5C,eAAgBR,EAAK5T,KAAKlO,MAAM8hB,EAAMmD,GAAY,OAAOnD,EAE9U,SAASsD,GAAc9iB,GAAU,IAAK,IAAIwC,EAAI,EAAGA,EAAIlM,UAAUC,OAAQiM,IAAK,CAAE,IAAI+c,EAAyB,MAAhBjpB,UAAUkM,GAAalM,UAAUkM,GAAK,GAAQA,EAAI,EAAK+f,GAAQjb,OAAOiY,IAAS,GAAM7Z,SAAQ,SAAUrP,GAAO0sB,GAAgB/iB,EAAQ3J,EAAKkpB,EAAOlpB,OAAsBiR,OAAO0b,0BAA6B1b,OAAO2b,iBAAiBjjB,EAAQsH,OAAO0b,0BAA0BzD,IAAmBgD,GAAQjb,OAAOiY,IAAS7Z,SAAQ,SAAUrP,GAAOiR,OAAOwL,eAAe9S,EAAQ3J,EAAKiR,OAAOub,yBAAyBtD,EAAQlpB,OAAe,OAAO2J,EAE7gB,SAAS+iB,GAAgBnlB,EAAKvH,EAAKI,GAAiK,OAApJJ,KAAOuH,EAAO0J,OAAOwL,eAAelV,EAAKvH,EAAK,CAAEI,MAAOA,EAAOupB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtiB,EAAIvH,GAAOI,EAAgBmH,EASpM,IAAI,GAAQ,gBAAsB,gBAASklB,GAAcA,GAAc,GAAI,SAA2B,IAAKitE,GAAiB,GAAIhtE,GAAgBgtE,GAAgB,QAAiB,gBAAS,QAAiB,KAAMhtE,GAAgBgtE,GAAgB,WAAY,gBAAS,SAAmB,IAASA,MAAmB,SAGjTuB,GAAkC,aAAIz7F,OAAO,CACtDqB,KAAM,QAENusB,OAAQ,CAAC,SACT8tE,QAAS,WACP,MAAO,CACLC,aAAcx7F,OAGlBV,MAAO,GACPQ,SAAU,CACR27F,aAAc,WACZ,OAAO,M,uBG1BE,SAASC,KAItB,IAAM9pE,EAAkB9xB,wBAAS,kBAAM67F,QAAMvmE,MAAM2jE,SAASnnE,mBAKtDsoE,EAAoBp6F,uBAAS,CACjCid,IAAK,kBAAM4+E,QAAMvmE,MAAM2jE,SAASmB,mBAChC73E,IAAK,SAAA5S,GACHksF,QAAMC,OAAO,+BAAgCnsF,MAO3C0rF,EAAWr7F,uBAAS,CAMxBid,IAAK,kBAAMm9E,EAAkBz5F,MAAMF,SAAWqxB,EAAgBnxB,MAAMF,QACpE8hB,IAAK,SAAA5S,GACCA,EACFyqF,EAAkBz5F,MAAQmxB,EAAgBnxB,MAAMO,KAAI,SAAAwL,GAAC,OAAIA,EAAEytF,SAClDC,EAAkBz5F,MAAMF,SAAWqxB,EAAgBnxB,MAAMF,SAClE25F,EAAkBz5F,MAAQ,OAKhC,MAAO,CACLmxB,kBACAsoE,oBACAiB,YCYJ,ICtDIU,GDsDJ,IACEruE,WAAY,CACVsuE,OAAJ,SAEEC,WAAY,CACVC,QAAJ,QACIC,KAAJ,QACIC,cAAJ,QACIC,WAAJ,QACIb,mBAAJ,IAEEh8F,MAAO,CACLoyB,4BAA6B,CAC3BloB,KAAM1I,QACNs7F,SAAS,IAGbC,MAjBF,WAkBI,IAAJ,EAIA,KAHA,EADA,EACA,gBACA,EAFA,EAEA,kBACA,EAHA,EAGA,SAGI,MAAO,CACLzqE,gBAAN,EACMsoE,kBAAN,EACMiB,SAAN,KEjFsY,M,aCOlY,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIhqE,EAAInxB,KAASoxB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,YAAY,CAAChB,MAAM,CAAC,GAAK,wBAAwB,gBAAgB,aAAa,QAAUa,EAAIO,4BAA4B,aAAa,QAAQ,OAAS,GAAG,SAAW,GAAG,YAAY,GAAG,MAAQ,IAAIlB,GAAG,CAAC,OAAS,SAAU/gB,GAAO,OAAO0hB,EAAI6pE,MAAM,yCAA0CvrF,KAAS6sF,YAAYnrE,EAAIorE,GAAG,CAAC,CAACl8F,IAAI,UAAUgH,GAAG,SAASopB,GAChc,IAAI+rE,EAAO/rE,EAAI+rE,KACf,MAAO,CAAClrE,EAAG,MAAM,CAACE,YAAY,sFAAsF,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACL,EAAI8pE,GAAG,IAAI9pE,EAAIkqE,GAAGlqE,EAAIsrE,WAAWvvE,GAAK,SAAU,OAAO,aAAaoE,EAAG,MAAM,CAAEH,EAAIsrE,WAAa,GAAEnrE,EAAG,eAAe,CAACE,YAAY,iBAAiBlB,MAAM,CAAC,KAAO,aAAaE,GAAG,CAAC,MAAQ,SAASmB,GAAQR,EAAI6pE,MAAM,gBAAiBwB,QAAYrrE,EAAIurE,KAAKprE,EAAG,eAAe,CAACE,YAAY,sBAAsBlB,MAAM,CAAC,KAAO,QAAQ,KAAO,MAAME,GAAG,CAAC,MAAQgsE,MAAS,KAAKlrE,EAAG,sBAAsB,CAACb,IAAI,kBAAkB6rE,YAAYnrE,EAAIorE,GAAG,CAAC,CAACl8F,IAAI,UAAUgH,GAAG,SAASopB,GAC9lB,IAAIksE,EAAelsE,EAAIksE,aACvB,MAAO,CAACrrE,EAAG,SAAS,CAACE,YAAY,MAAMhB,GAAG,CAAC,OAAS,SAASmB,GAAgC,OAAxBA,EAAO1R,iBAAwB08E,EAAaxrE,EAAIyrE,WAAW,MAAQ,SAASjrE,GAAgC,OAAxBA,EAAO1R,iBAAwBkR,EAAI0rE,UAAUn1F,MAAM,KAAMpH,cAAc,CAACgxB,EAAG,sBAAsB,CAAChB,MAAM,CAAC,KAAO,QAAQ,MAAQ,YAAYgsE,YAAYnrE,EAAIorE,GAAG,CAAC,CAACl8F,IAAI,UAAUgH,GAAG,SAASy1F,GAAmB,MAAO,CAACxrE,EAAG,eAAe,CAAChB,MAAM,CAAC,MAAQ,QAAQ,YAAY,gBAAgB,CAACgB,EAAG,eAAe,CAAChB,MAAM,CAAC,GAAK,cAAc,UAAY,GAAG,MAAQa,EAAI4rE,mBAAmBD,GAAmB,KAAO,GAAG,YAAc,eAAe7qE,MAAM,CAACxxB,MAAO0wB,EAAIsrE,WAAgB,MAAEhyE,SAAS,SAAUyH,GAAMf,EAAI6rE,KAAK7rE,EAAIsrE,WAAY,QAASvqE,IAAMC,WAAW,sBAAsBb,EAAG,0BAA0B,CAACH,EAAI8pE,GAAG,IAAI9pE,EAAIkqE,GAAGyB,EAAkBG,OAAO,IAAI,QAAQ,OAAO,MAAK,KAAQ3rE,EAAG,sBAAsB,CAAChB,MAAM,CAAC,KAAO,WAAW,MAAQ,YAAYgsE,YAAYnrE,EAAIorE,GAAG,CAAC,CAACl8F,IAAI,UAAUgH,GAAG,SAASy1F,GAAmB,MAAO,CAACxrE,EAAG,eAAe,CAAChB,MAAM,CAAC,MAAQ,WAAW,YAAY,WAAW,MAAQa,EAAI4rE,mBAAmBD,KAAqB,CAACxrE,EAAG,WAAW,CAAChB,MAAM,CAAC,IAAMa,EAAI+rE,OAAO9nE,MAAM+nE,UAAUC,MAAQ,MAAQ,MAAM,QAAUjsE,EAAIS,gBAAgB,MAAQ,QAAQ,OAAS,SAAUmnE,GAAY,OAAOA,EAASkB,OAAS,WAAW,YAAYqC,YAAYnrE,EAAIorE,GAAG,CAAC,CAACl8F,IAAI,SAASgH,GAAG,SAASopB,GAC5zC,IAAI2sB,EAAQ3sB,EAAI2sB,MACZ68C,EAAQxpE,EAAIwpE,MAChB,MAAO,CAAC3oE,EAAG,MAAM,CAACE,YAAY,sCAAsCpB,MAAO,MAAQgtB,EAAOigD,YAAY,CAAC,OAAS,OAAO,MAAQ,UAAU/rE,EAAG,OAAO,CAACH,EAAI8pE,GAAG,IAAI9pE,EAAIkqE,GAAGpB,SAAa,CAAC55F,IAAI,kBAAkBgH,GAAG,SAASopB,GACtN,IAAI2sB,EAAQ3sB,EAAI2sB,MACZ68C,EAAQxpE,EAAIwpE,MAChB,MAAO,CAAC3oE,EAAG,MAAM,CAACE,YAAY,sCAAsCpB,MAAO,MAAQgtB,EAAOigD,YAAY,CAAC,OAAS,OAAO,MAAQ,UAAU/rE,EAAG,OAAO,CAACH,EAAI8pE,GAAG,IAAI9pE,EAAIkqE,GAAGpB,UAAc,MAAK,GAAMhoE,MAAM,CAACxxB,MAAO0wB,EAAIsrE,WAAWr+C,cAAsB,SAAE3zB,SAAS,SAAUyH,GAAMf,EAAI6rE,KAAK7rE,EAAIsrE,WAAWr+C,cAAe,WAAYlsB,IAAMC,WAAW,uCAAuCb,EAAG,0BAA0B,CAAChB,MAAM,CAAC,MAAQa,EAAI4rE,mBAAmBD,KAAqB,CAAC3rE,EAAI8pE,GAAG,IAAI9pE,EAAIkqE,GAAGyB,EAAkBG,OAAO,IAAI,QAAQ,OAAO,MAAK,KAAQ3rE,EAAG,sBAAsB,CAAChB,MAAM,CAAC,KAAO,aAAa,MAAQ,YAAYgsE,YAAYnrE,EAAIorE,GAAG,CAAC,CAACl8F,IAAI,UAAUgH,GAAG,SAASy1F,GAAmB,MAAO,CAACxrE,EAAG,eAAe,CAAChB,MAAM,CAAC,MAAQ,aAAa,YAAY,aAAa,MAAQa,EAAI4rE,mBAAmBD,KAAqB,CAACxrE,EAAG,aAAa,CAACE,YAAY,eAAelB,MAAM,CAAC,OAAS,CAAE3tB,YAAY,EAAMP,WAAY,cAAc6vB,MAAM,CAACxxB,MAAO0wB,EAAIsrE,WAAgB,MAAEhyE,SAAS,SAAUyH,GAAMf,EAAI6rE,KAAK7rE,EAAIsrE,WAAY,QAASvqE,IAAMC,WAAW,sBAAsBb,EAAG,0BAA0B,CAAChB,MAAM,CAAC,MAAQa,EAAI4rE,mBAAmBD,KAAqB,CAAC3rE,EAAI8pE,GAAG,IAAI9pE,EAAIkqE,GAAGyB,EAAkBG,OAAO,IAAI,QAAQ,OAAO,MAAK,KAAQ3rE,EAAG,sBAAsB,CAAChB,MAAM,CAAC,KAAO,WAAW,MAAQ,YAAYgsE,YAAYnrE,EAAIorE,GAAG,CAAC,CAACl8F,IAAI,UAAUgH,GAAG,SAASy1F,GAAmB,MAAO,CAACxrE,EAAG,eAAe,CAAChB,MAAM,CAAC,MAAQ,WAAW,YAAY,WAAW,MAAQa,EAAI4rE,mBAAmBD,KAAqB,CAACxrE,EAAG,aAAa,CAACE,YAAY,eAAelB,MAAM,CAAC,OAAS,CAAE3tB,YAAY,EAAMP,WAAY,cAAc6vB,MAAM,CAACxxB,MAAO0wB,EAAIsrE,WAAc,IAAEhyE,SAAS,SAAUyH,GAAMf,EAAI6rE,KAAK7rE,EAAIsrE,WAAY,MAAOvqE,IAAMC,WAAW,oBAAoBb,EAAG,0BAA0B,CAAChB,MAAM,CAAC,MAAQa,EAAI4rE,mBAAmBD,KAAqB,CAAC3rE,EAAI8pE,GAAG,IAAI9pE,EAAIkqE,GAAGyB,EAAkBG,OAAO,IAAI,QAAQ,OAAO,MAAK,KAAQ3rE,EAAG,eAAe,CAACA,EAAG,kBAAkB,CAAChB,MAAM,CAAC,KAAO,eAAe,OAAS,GAAG,OAAS,IAAI2B,MAAM,CAACxxB,MAAO0wB,EAAIsrE,WAAiB,OAAEhyE,SAAS,SAAUyH,GAAMf,EAAI6rE,KAAK7rE,EAAIsrE,WAAY,SAAUvqE,IAAMC,WAAW,sBAAsB,CAAChB,EAAI8pE,GAAG,gBAAgB,GAAG3pE,EAAG,sBAAsB,CAAChB,MAAM,CAAC,KAAO,YAAY,MAAQ,OAAOgsE,YAAYnrE,EAAIorE,GAAG,CAAC,CAACl8F,IAAI,UAAUgH,GAAG,SAASy1F,GAAmB,MAAO,CAACxrE,EAAG,eAAe,CAAChB,MAAM,CAAC,MAAQ,YAAY,YAAY,cAAc,CAACgB,EAAG,eAAe,CAAChB,MAAM,CAAC,GAAK,YAAY,KAAO,MAAM,MAAQa,EAAI4rE,mBAAmBD,GAAmB,YAAc,0BAA0B,KAAO,IAAI7qE,MAAM,CAACxxB,MAAO0wB,EAAIsrE,WAAmB,SAAEhyE,SAAS,SAAUyH,GAAMf,EAAI6rE,KAAK7rE,EAAIsrE,WAAY,WAAYvqE,IAAMC,WAAW,yBAAyBb,EAAG,0BAA0B,CAAChB,MAAM,CAAC,MAAQa,EAAI4rE,mBAAmBD,KAAqB,CAAC3rE,EAAI8pE,GAAG,IAAI9pE,EAAIkqE,GAAGyB,EAAkBG,OAAO,IAAI,QAAQ,OAAO,MAAK,KAAQ3rE,EAAG,eAAe,CAAChB,MAAM,CAAC,MAAQ,aAAa,YAAY,eAAe,CAACgB,EAAG,WAAW,CAAChB,MAAM,CAAC,IAAMa,EAAI+rE,OAAO9nE,MAAM+nE,UAAUC,MAAQ,MAAQ,MAAM,SAAW,GAAG,mBAAkB,EAAM,QAAUjsE,EAAImsE,cAAc,MAAQ,OAAO,WAAW,cAAchB,YAAYnrE,EAAIorE,GAAG,CAAC,CAACl8F,IAAI,SAASgH,GAAG,SAASopB,GACpjG,IAAI8sE,EAAS9sE,EAAI8sE,OACbr8F,EAAOuvB,EAAIvvB,KACf,MAAO,CAACowB,EAAG,WAAW,CAAChB,MAAM,CAAC,KAAO,KAAK,IAAMitE,KAAUjsE,EAAG,OAAO,CAACE,YAAY,sBAAsB,CAACL,EAAI8pE,GAAG,IAAI9pE,EAAIkqE,GAAGn6F,SAAY,CAACb,IAAI,kBAAkBgH,GAAG,SAASopB,GACzK,IAAI8sE,EAAS9sE,EAAI8sE,OACbr8F,EAAOuvB,EAAIvvB,KACf,MAAO,CAACowB,EAAG,WAAW,CAACE,YAAY,sBAAsBlB,MAAM,CAAC,KAAO,KAAK,IAAMitE,KAAUjsE,EAAG,OAAO,CAACE,YAAY,sBAAsB,CAACL,EAAI8pE,GAAG,IAAI9pE,EAAIkqE,GAAGn6F,UAAa,MAAK,GAAM+wB,MAAM,CAACxxB,MAAO0wB,EAAIsrE,WAAWr+C,cAAoB,OAAE3zB,SAAS,SAAUyH,GAAMf,EAAI6rE,KAAK7rE,EAAIsrE,WAAWr+C,cAAe,SAAUlsB,IAAMC,WAAW,sCAAsC,GAAGb,EAAG,eAAe,CAAChB,MAAM,CAAC,MAAQ,WAAW,YAAY,mBAAmB,CAACgB,EAAG,eAAe,CAAChB,MAAM,CAAC,GAAK,iBAAiB,KAAO,GAAG,YAAc,kBAAkB2B,MAAM,CAACxxB,MAAO0wB,EAAIsrE,WAAWr+C,cAAsB,SAAE3zB,SAAS,SAAUyH,GAAMf,EAAI6rE,KAAK7rE,EAAIsrE,WAAWr+C,cAAe,WAAYlsB,IAAMC,WAAW,wCAAwC,GAAGb,EAAG,eAAe,CAAChB,MAAM,CAAC,MAAQ,cAAc,YAAY,sBAAsB,CAACgB,EAAG,kBAAkB,CAAChB,MAAM,CAAC,GAAK,qBAAqB2B,MAAM,CAACxxB,MAAO0wB,EAAIsrE,WAAWr+C,cAAyB,YAAE3zB,SAAS,SAAUyH,GAAMf,EAAI6rE,KAAK7rE,EAAIsrE,WAAWr+C,cAAe,cAAelsB,IAAMC,WAAW,2CAA2C,GAAGb,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,WAAW,CAAC9D,WAAW,CAAC,CAACtsB,KAAK,SAAS65F,QAAQ,eAAet6F,MAAM,4BAA8B0xB,WAAW,8BAA8BpG,UAAU,CAAC,KAAM,KAAQyF,YAAY,OAAOlB,MAAM,CAAC,QAAU,UAAU,KAAO,WAAW,CAACa,EAAI8pE,GAAG,IAAI9pE,EAAIkqE,GAAGlqE,EAAIsrE,WAAWvvE,GAAK,SAAW,QAAQ,OAAOoE,EAAG,WAAW,CAAC9D,WAAW,CAAC,CAACtsB,KAAK,SAAS65F,QAAQ,eAAet6F,MAAM,4BAA8B0xB,WAAW,8BAA8BpG,UAAU,CAAC,KAAM,KAAQuE,MAAM,CAAC,KAAO,QAAQ,QAAU,sBAAsB,CAACa,EAAI8pE,GAAG,cAAc,IAAI,OAAO,MAAK,aAAgB,IAC5nD,GAAkB,G,sLHftB,SAAS,GAAQzuE,EAAQC,GAAkB,IAAIjD,EAAOlY,OAAOkY,KAAKgD,GAAS,GAAIlb,OAAOob,sBAAuB,CAAE,IAAIC,EAAUrb,OAAOob,sBAAsBF,GAAaC,IAAgBE,EAAUA,EAAQnM,QAAO,SAAUoM,GAAO,OAAOtb,OAAOub,yBAAyBL,EAAQI,GAAK5C,eAAgBR,EAAK5T,KAAKlO,MAAM8hB,EAAMmD,GAAY,OAAOnD,EAE9U,SAAS,GAAcxf,GAAU,IAAK,IAAIwC,EAAI,EAAGA,EAAIlM,UAAUC,OAAQiM,IAAK,CAAE,IAAI+c,EAAyB,MAAhBjpB,UAAUkM,GAAalM,UAAUkM,GAAK,GAAQA,EAAI,EAAK,GAAQ8E,OAAOiY,IAAS,GAAM7Z,SAAQ,SAAUrP,GAAO,GAAgB2J,EAAQ3J,EAAKkpB,EAAOlpB,OAAsBiR,OAAO0b,0BAA6B1b,OAAO2b,iBAAiBjjB,EAAQsH,OAAO0b,0BAA0BzD,IAAmB,GAAQjY,OAAOiY,IAAS7Z,SAAQ,SAAUrP,GAAOiR,OAAOwL,eAAe9S,EAAQ3J,EAAKiR,OAAOub,yBAAyBtD,EAAQlpB,OAAe,OAAO2J,EAE7gB,SAAS,GAAgBpC,EAAKvH,EAAKI,GAAiK,OAApJJ,KAAOuH,EAAO0J,OAAOwL,eAAelV,EAAKvH,EAAK,CAAEI,MAAOA,EAAOupB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtiB,EAAIvH,GAAOI,EAAgBmH,EAsB3M,IAAI,GAAa,YACb41F,GAAuC,gBAAuB,QAAe,iBAC7EC,GAAgC,gBAAuB,QAAe,UACtEC,GAAwB,gBAAiB,QAAe,SACxDC,GAA6B,gBAAiB,QAAe,cAE7DC,GAAkB,gBAAe,UAAW,CAC9Cp0F,KAAM,QACNge,cAAc,EACd3d,MAAO,UAELg0F,GAAaD,GAAgBE,MAC7BC,GAAaH,GAAgBt+F,MAC7B0+F,GAAkBJ,GAAgBK,KAClCC,GAAmBN,GAAgB/zF,MAG5B,GAAQ,gBAAsB,gBAAS,GAAc,GAAc,GAAc,GAAI,SAAUk0F,IAAa,GAAI,CACzHI,UAAW,gBAAS,SACpBC,eAAgB,gBAAS,SAEzBC,SAAU,gBAAS,SAAmB,GACtCC,gBAAiB,gBAAS,QAAkB,QAC5CC,UAAW,gBAAS,QAAkB,SACtCC,UAAW,gBAAS,SAEpBC,WAAY,gBAAS,SACrBC,YAAa,gBAAS,SACtBC,YAAa,gBAAS,SACtBC,KAAM,gBAAS,SAAmB,GAClCC,kBAAmB,gBAAS,SAAmB,GAC/CC,aAAc,gBAAS,SAAmB,GAC1CC,qBAAsB,gBAAS,SAAmB,GAClDC,eAAgB,gBAAS,SAAmB,GAC5CC,SAAU,gBAAS,SAAmB,GACtCC,cAAe,gBAAS,SAAmB,GAC3CC,QAAS,gBAAS,SAAmB,GACrCv6E,MAAO,gBAAS,SAAmB,GACnCw6E,OAAQ,gBAAS,SAA0B,GAC3CC,aAAc,gBAAS,SACvBh3F,IAAK,gBAAS,QAAkB,OAChCi3F,YAAa,gBAAS,QAAkB,QACxC7hF,MAAO,gBAAS,SAChB9J,MAAO,gBAAS,SAChB4rF,OAAQ,gBAAS,YACd,UAED,GAAoB,SAA2BhzF,EAAGiuF,GAEpD,IAAI/8E,EAAQ+8E,EAAIgF,cAAc,QAAiBhF,EAAIiF,YAAcjF,EAAI/8E,MAErE,OAAKA,EAIElR,EAAE,SAAU,CACjB+jB,MAAO,CACLpD,GAAIstE,EAAIlsE,OAAO,eAEhB,CAAC7Q,IAPKlR,EAAE,SAUT,GAAoB,SAA2BA,EAAGiuF,GACpD,GAAIA,EAAI0E,cACN,OAAO3yF,IAGT,IAAIkyF,EAAajE,EAAIiE,WACjBa,EAAc9E,EAAI8E,YAClB9C,EAAOhC,EAAIgC,KACf,OAAOjwF,EAAE,QAAc,CACrBjN,MAAO,CACL6+F,UAAWM,EACXa,YAAaA,GAEf9uE,GAAI,CACF/O,MAAO+6E,GAET/rE,IAAK,gBACJ,CAAC+pE,EAAIgF,cAAc,UAA2BjzF,EAAE,YAGjD,GAAe,SAAsBA,EAAGiuF,GAC1C,GAAIA,EAAIyE,SACN,OAAO1yF,IAGT,IAAImzF,EAAWlF,EAAIgF,cAAc,QAAkBhF,EAAIiF,WAEvD,IAAKC,EAAU,CACb,IAAIC,EAAS,GAAkBpzF,EAAGiuF,GAC9BoF,EAAS,GAAkBrzF,EAAGiuF,GAClCkF,EAAWlF,EAAI51E,MAAQ,CAACg7E,EAAQD,GAAU,CAACA,EAAQC,GAGrD,OAAOrzF,EAAE,SAAU,CACjBilB,YAAa,GAAGlR,OAAO,GAAY,WACnC8P,MAAOoqE,EAAImE,YACXt+F,IAAK,UACJq/F,IAGD,GAAa,SAAoBnzF,EAAGiuF,GACtC,OAAOjuF,EAAE,MAAO,CACdilB,YAAa,GAAGlR,OAAO,GAAY,SACnC8P,MAAOoqE,EAAIgE,UACXn+F,IAAK,QACJ,CAACm6F,EAAIgF,cAAc,QAAmBhF,EAAIiF,cAG3C,GAAe,SAAsBlzF,EAAGiuF,GAC1C,IAAIqF,EAAUrF,EAAIgF,cAAc,QAAkBhF,EAAIiF,WAEtD,OAAKI,EAIEtzF,EAAE,SAAU,CACjBilB,YAAa,GAAGlR,OAAO,GAAY,WACnC8P,MAAOoqE,EAAIkE,YACXr+F,IAAK,UACJ,CAACw/F,IAPKtzF,KAUPuzF,GAAgB,SAAuBvzF,EAAGiuF,GAG5C,IAAIuF,EAAU,GAAaxzF,EAAGiuF,GAE9B,OAAIA,EAAIoE,OAASpE,EAAIvoF,OACZ8tF,EAGF,CAACA,EAAS,GAAWxzF,EAAGiuF,GAAM,GAAajuF,EAAGiuF,KAGnDwF,GAAiB,SAAwBzzF,EAAGiuF,GAC9C,IAAKA,EAAI6D,SACP,OAAO9xF,IAGT,IAAI+xF,EAAkB9D,EAAI8D,gBAC1B,OAAO/xF,EAAE,MAAO,CACdihB,WAAY,CAAC,CACXtsB,KAAM,OACNT,MAAO+5F,EAAIyF,YAEbzuE,YAAa,qBACbpB,MAAO,GAAgB,GAAI,MAAM9P,OAAOg+E,GAAkBA,GAC1D9tE,GAAI,CACF/O,MAAO+4E,EAAI0F,oBAONC,GAAwB,aAAItgG,OAAO,CAC5CqB,KAAM,SACNusB,OAAQ,CAAC6C,GAAA,KAAY,QAASutE,GAAY,QAAmB,SAC7DuC,cAAc,EACd9gG,MAAO,GACPooB,KAAM,WACJ,IAAImD,IAAY7qB,KAAKg+F,IACrB,MAAO,CAELiC,UAAWp1E,EAEX5Y,OAAQ4Y,IAGZ/qB,SAAU,CACRugG,gBAAiB,WACf,OAAOrgG,KAAKm/F,QAEZ,CACEmB,KAAK,GACH,CACFA,KAAK,EACLC,WAAY,GACZC,iBAAkB,QAClBC,aAAc,OACdC,WAAY,OACZC,iBAAkB,QAClBC,aAAc,KAGlBnB,UAAW,WACT,IAAIjD,EAAOx8F,KAAKw8F,KACZ53E,EAAQ5kB,KAAK4kB,MACbiG,EAAU7qB,KAAKigG,UACnB,MAAO,CACLzD,KAAMA,EACN53E,MAAOA,EACPiG,QAASA,IAGbg2E,SAAU,WACR,IAAI/H,EAAe94F,KAAK84F,aACpBgI,EAAS9gG,KAAK8gG,OAClB,OAAQ9gG,KAAKi/F,WAAaj/F,KAAK+gG,kBAAkB,aAAwB/gG,KAAKw/F,cAAc,QAAiBx/F,KAAKy/F,UAAW3G,EAAcgI,KAAW9gG,KAAKyd,QAE7JujF,QAAS,WACP,OAAOhhG,KAAK6gG,SAAW7gG,KAAKsuB,OAAO,aAAe,MAEpDD,cAAe,WACb,OAAO,GAAc,GAAc,GAAIruB,KAAKihG,SAAU,GAAI,CACxD/zE,GAAIltB,KAAKsuB,SACThS,SAAU,KACV4kF,KAAM,SACN,aAAclhG,KAAKq+F,SAAW,OAAS,QACvC,cAAer+F,KAAKigG,UAAY,KAAO,OACvC,aAAcjgG,KAAKm+F,WAAa,KAChC,kBAAmBn+F,KAAKo+F,gBAAkBp+F,KAAKghG,SAAW,SAIhEhyE,OAAQ6sE,GAAS,GAAI,GAAgBA,GAAQmC,IAAiB,SAAU51E,EAAU+D,GAC5E/D,IAAa+D,IACfnsB,KAAKigG,UAAY73E,MAEjB,GAAgByzE,GAAQ,aAAa,SAAmBzzE,EAAU+D,GAChE/D,IAAa+D,IACfnsB,KAAKmhG,UAAU/4E,GACfpoB,KAAKg7F,MAAMkD,GAAkB91E,OAE7B,GAAgByzE,GAAQ,UAAU,WACpC,IAAIzzE,EAAW9nB,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,GAC/E6rB,EAAW7rB,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,GAE9EN,KAAK++F,sBAAwB32E,EAASg5E,WAAaj1E,EAASi1E,UAC/DphG,KAAKw8F,UAELX,IACJwF,QAAS,WAEPrhG,KAAKshG,gBAAkB,MAEzBnyE,QAAS,WACP,IAAIpuB,EAAQf,KAGZA,KAAKuhG,aAAa9D,GAA+Bz9F,KAAKwhG,cACtDxhG,KAAKuhG,aAAa/D,GAAsCx9F,KAAKyhG,YAE7DzhG,KAAKurB,WAAU,WACbxqB,EAAMogG,UAAUpgG,EAAMk/F,eAK1ByB,UAAW,WACT1hG,KAAK2hG,YAEPxI,cAAe,WACbn5F,KAAKigG,WAAY,EACjBjgG,KAAKshG,gBAAkB,MAEzBphG,QAAS,CACPs8F,KAAM,WACJx8F,KAAKigG,WAAY,GAEnBkB,UAAW,WACT,IAAI/rE,EAAQ90B,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAKN,KAAKigG,UACrFjgG,KAAK4hG,WAAWlE,GAAuB19F,KAAKsuB,SAAU8G,IAExDusE,SAAU,WACR,IAAIvsE,EAAQ90B,UAAUC,OAAS,QAAsBC,IAAjBF,UAAU,GAAmBA,UAAU,GAAKN,KAAKigG,UACrFjgG,KAAK4hG,WAAWjE,GAA4B39F,KAAKsuB,SAAU8G,IAE7DosE,aAAc,SAAsBt0E,GAE9BA,GAAMA,IAAOltB,KAAKsuB,WACpBtuB,KAAKigG,WAAajgG,KAAKigG,YAG3BwB,WAAY,SAAoBv0E,GAC9B,IAAI20E,EAAS7hG,KAGTktB,GAAMA,IAAOltB,KAAKsuB,UACpBtuB,KAAKurB,WAAU,WACbs2E,EAAOF,SAASE,EAAO5B,eAI7B6B,UAAW,SAAmBj4F,GAC5B,IAAIiW,EAAUjW,EAAMiW,SAEf9f,KAAK8+F,cAAgBh/E,IAAY,SAAY9f,KAAKigG,WACrDjgG,KAAKw8F,QAGT0D,gBAAiB,WACXlgG,KAAKigG,YAAcjgG,KAAK6+F,mBAC1B7+F,KAAKw8F,QAKTuF,eAAgB,WACd,IAAIC,EAAW,gBAAYhiG,KAAKiiG,MAAM35F,SACtCtI,KAAKkiG,aAAaF,EAAS3pE,UAAU,KAIvC8pE,kBAAmB,WACjB,IAAIH,EAAW,gBAAYhiG,KAAKiiG,MAAM35F,SACtCtI,KAAKkiG,aAAaF,EAAS,KAE7BI,cAAe,WAGbpiG,KAAKshG,gBAAkB,gBAAiB,QAAa,CAAC94F,SAAS+N,MAAQ,IAEvEvW,KAAKiS,QAAS,GAEhBowF,aAAc,SAAsB5sF,GAC7B,gBAASA,EAAI,oBAChBzV,KAAKkiG,aAAazsF,GAGpBzV,KAAKg7F,MAAM,UAEbsH,aAAc,WACZtiG,KAAKkiG,aAAaliG,KAAKshG,iBACvBthG,KAAKshG,gBAAkB,KAEvBthG,KAAKiS,QAAS,EACdjS,KAAKg7F,MAAM,UAEbkH,aAAc,SAAsBzsF,GAC7BzV,KAAKg/F,gBACR,gBAAavpF,KAInB0a,OAAQ,SAAgB5jB,GACtB,IAAIuf,EAEAyyE,EAAYv+F,KAAKu+F,UACjB5qF,EAAQ3T,KAAK2T,MACb2rF,EAAct/F,KAAKs/F,YACnBW,EAAYjgG,KAAKigG,UACjBb,EAAyB,KAAhBp/F,KAAKo/F,QAAuBp/F,KAAKo/F,OAC1CmD,EAAWh2F,EAAEvM,KAAKqI,IAAK,CACzBmpB,YAAa,GACbpB,MAAO,EAAEtE,EAAO,CACdszE,QAAmB,IAAXA,GACP,GAAgBtzE,EAAM,UAAUxL,OAAO8+E,GAASA,IAAqB,IAAXA,GAAkB,GAAgBtzE,EAAM,GAAGxL,OAAO,GAAY,UAAWtgB,KAAK4kB,OAAQ,GAAgBkH,EAAM,MAAMxL,OAAOi+E,GAAYA,GAAY,GAAgBzyE,EAAM,QAAQxL,OAAOg/E,GAAcA,GAAcxzE,GAAO9rB,KAAKq/F,cAC3RjsF,MAAO,CACLO,MAAOA,GAET2c,MAAOtwB,KAAKquB,cACZb,WAAY,CAAC,CACXtsB,KAAM,OACNT,MAAOw/F,IAETxvE,IAAK,WACJ,CAACqvE,GAAcvzF,EAAGvM,QACrBuiG,EAAWh2F,EAAE,aAAc,CACzBjN,MAAOU,KAAKqgG,gBACZ7vE,GAAI,CACFgyE,YAAaxiG,KAAKoiG,cAClBK,WAAYziG,KAAKqiG,aACjBK,WAAY1iG,KAAKsiG,eAElB,CAACC,IACJ,IAAII,EAAYp2F,EAAE,QAAc,CAC9BjN,MAAO,CACLsjG,OAAQ5iG,KAAKm/F,UAEd,CAACa,GAAezzF,EAAGvM,QAClB6iG,EAAct2F,IACdu2F,EAAiBv2F,IAqBrB,OAnBIvM,KAAKq+F,UAAY4B,IACnB4C,EAAct2F,EAAE,MAAO,CACrB+jB,MAAO,CACLhU,SAAU,KAEZkU,GAAI,CACF3W,MAAO7Z,KAAK+hG,kBAGhBe,EAAiBv2F,EAAE,MAAO,CACxB+jB,MAAO,CACLhU,SAAU,KAEZkU,GAAI,CACF3W,MAAO7Z,KAAKmiG,sBAKX51F,EAAE,MAAO,CACdilB,YAAa,kBACbpe,MAAO,CACLmsF,OAAQv/F,KAAKu/F,QAEfjvE,MAAO,CACLhU,SAAU,MAEZkU,GAAI,CACFuyE,QAAS/iG,KAAK8hG,YAEf,CAACe,EAAaN,EAAUO,EAAgBH,O,2II5ahC,SAASK,GAAeC,GAAyC,IAA1BC,EAA0B,uDAAV,aAM9DC,EAAkB1yE,kBAAI,MAOtB2yE,EAAgB,WACpBD,EAAgB1iG,MAAM4iG,SASlBtG,EAAqB,SAAC,GAAyE,IAAvEuG,EAAuE,EAAvEA,MAAOC,EAAgE,EAAhEA,UAAqBC,EAA2C,EAArDn8E,SAAyBo8E,EAA4B,EAA5BA,QAA4B,IAAnBC,aAAmB,MAAX,KAAW,EAC7FC,EAASL,GAASC,EAAYG,EAAQ,KAC5C,OAAQF,GAAkBC,EAAiBE,EAAP,MAQhC9G,EAAY,WAChBoG,IACAW,wBAAS,WACPR,QASES,EAAY,WAChBX,IACAU,wBAAS,WACPR,QAIJ,MAAO,CACLD,kBACAC,gBACArG,qBACAF,YACAgH,aC5DW,SAASC,GAAwBxkG,EAAOukG,EAAWE,GAIhE,IAAMtH,EAAahsE,kBAAI1O,KAAKC,MAAMD,KAAKE,UAAU3iB,EAAMuK,MAAMpJ,SACvDujG,EAAkB,WACtBvH,EAAWh8F,MAAQshB,KAAKC,MAAMD,KAAKE,UAAU3iB,EAAMuK,MAAMpJ,SAE3DuuB,oBAAM1vB,EAAMuK,OAAO,WACjBm6F,OAOFh1E,oBAAM1vB,EAAMoyB,6BAA6B,SAAAjiB,GAElCA,GACHhI,YAAW,WACTo8F,EAAUpjG,UACT,QAMP,IAAMmxB,EAAkB9xB,wBAAS,kBAAM67F,QAAMvmE,MAAM2jE,SAASnnE,mBAEtDgrE,EAAW,WACf,IAAMqH,EAAYliF,KAAKC,MAAMD,KAAKE,UAAUw6E,IAIxCn9F,EAAMuK,MAAMpJ,MAAMysB,GAAI62E,EAAK,eAAgBE,EAAUxjG,OACpDsjG,EAAK,YAAaE,EAAUxjG,OAGjCsjG,EAAK,0CAA0C,IAY3CzG,EAAgB,CACpB,CAAEC,OAAQnB,EAAQ,QAAwCl7F,KAAM,eAChE,CAAEq8F,OAAQnB,EAAQ,QAAwCl7F,KAAM,eAChE,CAAEq8F,OAAQnB,EAAQ,QAAwCl7F,KAAM,uBAChE,CAAEq8F,OAAQnB,EAAQ,QAAwCl7F,KAAM,eAChE,CAAEq8F,OAAQnB,EAAQ,QAAwCl7F,KAAM,cAChE,CAAEq8F,OAAQnB,EAAQ,QAAyCl7F,KAAM,eAInE,MAAO,CACLu7F,aACAuH,kBACApyE,kBAGA0rE,gBACAV,YCoOJ,QACEb,WAAY,CACVC,QAAJ,QACImE,SAAJ,GACI+D,MAAJ,QACI/H,WAAJ,QACIgI,WAAJ,QACIjI,cAAJ,QACI3uE,cAAJ,QACI62E,QAAJ,QACIC,QAAJ,KACIC,UAAJ,KACIC,mBAAJ,QACIC,qBAAJ,QACIC,mBAAJ,SAEEj3E,WAAY,CACVsuE,OAAJ,SAEE7pE,MAAO,CACLgsE,KAAM,8BACNp0F,MAAO,0CAETvK,MAAO,CACLoyB,4BAA6B,CAC3BloB,KAAM1I,QACNumB,UAAU,GAEZxd,MAAO,CACLL,KAAM8H,OACN+V,UAAU,GAEZwK,eAAgB,CACdroB,KAAMk7F,SACNr9E,UAAU,IAGdK,KArCF,WAsCI,MAAO,CACLL,SAAN,QACMs9E,MAAN,QACM5pE,IAAN,UAGEshE,MA5CF,SA4CA,EA5CA,GA4CA,aAcA,0BAEA,EAQA,gCAPA,EADA,EACA,WACA,EAFA,EAEA,gBACA,EAHA,EAGA,gBAGA,EANA,EAMA,SACA,EAPA,EAOA,cAGA,EAKA,uBAJA,EADA,EACA,gBACA,EAFA,EAEA,mBACA,EAHA,EAGA,UACA,EAJA,EAIA,UAKI,OAFA6G,EAAcziG,MAAQojG,EAEf,CAELpH,WAAN,EACM7qE,gBAAN,EACMgrE,SAAN,EACMU,cAAN,EAGMT,UAAN,EACMsG,gBAAN,EACMpG,mBAAN,KCnY2Y,MCQvY,I,WAAY,gBACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCLX,I,8BAA2B,SAAUjjE,GAErC,SAAS8qE,IACL,IAAI7jG,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAEhE,OADAe,EAAM8jG,YAAcprE,KACb14B,EAwEX,OA5EA2xB,EAAUkyE,EAAW9qE,GAMrB8qE,EAAU5uF,UAAU8uF,mBAAqB,SAAUC,EAAkBC,GACjE,IAAI3lF,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1CwlE,EAAW,GACXn9C,EAAoBs8C,GAAqB3kE,EAAQ7rB,SAmBrD,OAlBIslG,GACAjU,EAASl7E,KAAK,CACVpM,KAAM,SACNnJ,IAAK,SACLqkF,SAAU/wC,EACV+9C,MAAO,CACHxqB,MAAOlnE,KAAK6kG,YACZlW,eAAgB,gBAChBK,WAAY+V,KAIxBjU,EAASl7E,KAAK,CACVpM,KAAM,OACNnJ,IAAK,OACLwgF,QAAQ,EACR6Q,MAAO,CAAEppF,QAAS08F,KAEd58F,GAAc,GAAU,CAAEs5D,SAAUp2C,EAAQo2C,WAAY,SAAUsF,EAAW1sB,GAAc,OAAQlyC,GAAc,MAAO,CAAEqoB,IAAKu2C,EAAWh/D,UAAW,CAAC,cAAcsY,OAAOg6B,GAAYlsC,KAAK,MAChMhG,GAAc,GAAkB,CAAEy4E,QAASvhF,EAAMujF,eAAiBvjF,EAAMwjF,SAAUkO,iBAAkB1xF,EAAMwjF,SAAUuM,KAAM,GAA+ByB,SAAUA,SAE3K8T,EAAU5uF,UAAUivF,oBAAsB,SAAUF,EAAkBC,EAAa1gB,EAAQxuC,GACvF,IAAIovD,EAAallG,KAAKsrB,QAAQga,YAAYo/B,eAC1C,IAAKwgC,EACD,MAAM,IAAIt1F,MAAM,gCAEpB,IAAIyP,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1CqoB,GAAqBr0C,EAAMwjF,UAAYmN,GAAqB3kE,EAAQ7rB,SACpEm0C,GAAyBt0C,EAAMwjF,UAAYoN,GAAyB5kE,EAAQ7rB,SAC5EqxF,EAAW,GAkCf,OAjCIiU,GACAjU,EAASl7E,KAAK,CACVpM,KAAM,SACNnJ,IAAK,SACLqkF,SAAU/wC,EACVwxD,OAAQ,CAAC,CACD9kG,IAAK,OACL6mE,MAAOlnE,KAAK6kG,YACZlW,eAAgB,gBAChBK,WAAY+V,MAI5BjU,EAASl7E,KAAK,CACVpM,KAAM,OACNnJ,IAAK,OACLwgF,QAAQ,EACRskB,OAAQ,CAAC,CACD9kG,IAAK,OACLiI,QAAS08F,MAGjBpxD,GACAk9C,EAASl7E,KAAK,CACVpM,KAAM,SACNnJ,IAAK,SACLqkF,UAAU,EACVygB,OAAQ,CAAC,CACD9kG,IAAK,OACLiI,QAAS0nF,OAIjB5nF,GAAc,GAAU,CAAEs5D,SAAUp2C,EAAQo2C,WAAY,SAAUsF,EAAW1sB,GAAc,OAAQlyC,GAAc,MAAO,CAAEqoB,IAAKu2C,EAAWh/D,UAAW,CAAC,cAAcsY,OAAOg6B,GAAYlsC,KAAK,MAChMhG,GAAc88F,EAAY,CAAErkB,QAASvhF,EAAMujF,eAAiBvjF,EAAMwjF,SAAUkO,iBAAkB1xF,EAAMwjF,SAAUsiB,UAAW,CAAC,CAAE/V,KAAM,CAAC,CAAErpC,KAAMs+B,EAAQuK,SAAU/4C,MAAmBg7C,SAAUA,SAE3L8T,EA7EmB,CA8E5B,KAEF,SAASS,GAAeliD,EAAMyjC,GAE1B,IADA,IAAI0e,EAAQ,GACH94F,EAAI,EAAGA,EAAIo6E,EAAQp6E,GAAK,EAC7B84F,EAAM94F,GAAK,GAEf,IAAK,IAAIk3B,EAAK,EAAGolD,EAAS3lC,EAAMzf,EAAKolD,EAAOvoF,OAAQmjC,IAAM,CACtD,IAAImf,EAAMimC,EAAOplD,GACjB4hE,EAAMziD,EAAIokC,KAAKrxE,KAAKitC,GAExB,OAAOyiD,EAEX,SAASC,GAAoBpiD,EAAMmhC,GAE/B,IADA,IAAIkhB,EAAQ,GACHh5F,EAAI,EAAGA,EAAI83E,EAAQ93E,GAAK,EAC7Bg5F,EAAMh5F,GAAK,GAEf,IAAK,IAAIk3B,EAAK,EAAGwlD,EAAS/lC,EAAMzf,EAAKwlD,EAAO3oF,OAAQmjC,IAAM,CACtD,IAAImf,EAAMqmC,EAAOxlD,GACjB8hE,EAAM3iD,EAAIykC,UAAU1xE,KAAKitC,GAE7B,OAAO2iD,EAEX,SAASC,GAAsB7mD,EAAIgoC,GAC/B,IAAI0e,EAAQ,GACZ,GAAK1mD,EAKA,CACD,IAASpyC,EAAI,EAAGA,EAAIo6E,EAAQp6E,GAAK,EAC7B84F,EAAM94F,GAAK,CACPq8E,kBAAmBjqC,EAAGiqC,kBACtBnwB,QAAS9Z,EAAG8Z,QACZvV,KAAM,IAGd,IAAK,IAAIzf,EAAK,EAAGrkB,EAAKu/B,EAAGuE,KAAMzf,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CACjD,IAAImf,EAAMxjC,EAAGqkB,GACb4hE,EAAMziD,EAAIokC,KAAK9jC,KAAKvtC,KAAKitC,SAd7B,IAAK,IAAIr2C,EAAI,EAAGA,EAAIo6E,EAAQp6E,GAAK,EAC7B84F,EAAM94F,GAAK,KAgBnB,OAAO84F,EAGX,IAAI,GAA8B,SAAUxrE,GAExC,SAAS4rE,IACL,OAAkB,OAAX5rE,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAU/D,OAZA0yB,EAAUgzE,EAAc5rE,GAIxB4rE,EAAa1vF,UAAUma,OAAS,WAC5B,IAAI7wB,EAAQU,KAAKV,MACb+kF,EAAerkF,KAAKsrB,QAAQ7rB,QAAQ62C,SAClC,CAAE,eAAgB+iB,GAAiB/5D,EAAM4D,MAAOiV,SAAU,GAC1D,GACN,OAAQ/P,GAAc,GAAgB,CAAElF,KAAM5D,EAAM4D,KAAMgmD,YAAa5pD,EAAM4pD,YAAapE,WAAYxlD,EAAMwlD,WAAYyuC,cAAej0F,EAAMi0F,cAAehP,eAAgBjlF,EAAMilF,eAAgBld,eAAgBs+B,KAAkB,SAAUp+B,EAAYC,GAAgB,OAASA,GAAgBloE,EAAMsmG,cAAiBx9F,GAAc,MAAO,CAAEJ,UAAW,qBAAsByoB,IAAK82C,GACnXn/D,GAAc,IAAK0qB,EAAS,CAAE9qB,UAAW,yBAA2Bq8E,GAAe7c,GAAgBp/D,GAAcsxB,GAAU,KAAM,WAElIgsE,EAbsB,CAc/B,IACF,SAASC,GAAermG,GACpB,OAAOA,EAAMm0F,cAGjB,IAAIoS,GAAkC92D,GAAgB,CAClDnkC,KAAM,UACNi8B,OAAQ,UACR8C,gBAAgB,EAChBC,SAAU,WAEd,SAASk8D,GAAmBjjD,GACxB,IAAIvvC,EAAUuvC,EAAIW,WAAW5E,GAAGtrC,QAChC,MAAmB,cAAZA,GAAwC,SAAZA,IAC9BuvC,EAAIW,WAAW/d,IAAIV,QACpB8d,EAAIykC,WAAazkC,EAAI0kC,SACrB1kC,EAAIT,SACJS,EAAIR,MAIZ,IAAI,GAAiC,SAAUvoB,GAE3C,SAASisE,IACL,OAAkB,OAAXjsE,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAM/D,OARA0yB,EAAUqzE,EAAiBjsE,GAI3BisE,EAAgB/vF,UAAUma,OAAS,WAC/B,IAAI7wB,EAAQU,KAAKV,MACjB,OAAQ8I,GAAc,GAAe0qB,EAAS,GAAIxzB,EAAO,CAAEulF,gBAAiB,CAAC,mBAAoB,yBAA0B,cAAeiO,kBAAmB+S,GAAiC1hD,uBAAwB7kD,EAAM6kD,uBAAwBuuC,iBAAkBpzF,EAAMujD,IAAIW,WAAW/d,IAAIV,WAE5RghE,EATyB,CAUlC,IAEE,GAAoC,SAAUjsE,GAE9C,SAASksE,IACL,OAAkB,OAAXlsE,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAS/D,OAXA0yB,EAAUszE,EAAoBlsE,GAI9BksE,EAAmBhwF,UAAUma,OAAS,WAClC,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1C24B,EAAa34B,EAAQ7rB,QAAQ82C,iBAAmBsvD,GAChDrT,EAAWxuC,GAAiB1kD,EAAMujD,IAAKoB,EAAY34B,GAAS,EAAMhsB,EAAM6kD,wBAC5E,OAAQ/7C,GAAc,GAAW,CAAEy6C,IAAKvjD,EAAMujD,IAAK2vC,SAAUA,EAAUnrB,eAAgB,GAAoB5hB,WAAYnmD,EAAMmmD,WAAYC,YAAY,EAAOitC,iBAAiB,EAAOhtC,WAAYrmD,EAAMqmD,WAAYV,OAAQ3lD,EAAM2lD,OAAQC,SAAU5lD,EAAM4lD,SAAUC,QAAS7lD,EAAM6lD,UAAW,SAAU6hB,EAAW1sB,EAAYitB,EAAYC,GAAgB,OACzVp/D,GAAc,IAAK0qB,EAAS,CAAE9qB,UAAW,CAAC,mBAAoB,wBAAwBsY,OAAOg6B,GAAYlsC,KAAK,KAAMqiB,IAAKu2C,GAAa,GAAkB1nE,EAAMujD,MAAO2kB,OAElKw+B,EAZ4B,CAarC,IACF,SAAS,GAAmB/S,GACxB,OAAQ7qF,GAAcsxB,GAAU,KAC5BtxB,GAAc,MAAO,CAAEJ,UAAW,uBAAwBoL,MAAO,CAAEkqC,YAAa21C,EAAW31C,aAAe21C,EAAW51C,mBACrH41C,EAAWT,UAAapqF,GAAc,MAAO,CAAEJ,UAAW,iBAAmBirF,EAAWT,UACxFpqF,GAAc,MAAO,CAAEJ,UAAW,kBAAoBirF,EAAWppF,MAAM4T,OAASrV,GAAcsxB,GAAU,KAAM,OAEtH,SAAS,GAAkBmpB,GACvB,IAAI9nB,EAAM8nB,EAAIW,WAAW/d,IAAI1K,IAC7B,OAAOA,EAAM,CAAEmmD,KAAMnmD,GAAQ,GAGjC,IAAI,GAAmC,SAAUjB,GAE7C,SAASmsE,IACL,IAAIllG,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAEhE,OADAe,EAAMmlG,YAAcl9D,GAAQk9D,IACrBnlG,EAiBX,OArBA2xB,EAAUuzE,EAAmBnsE,GAM7BmsE,EAAkBjwF,UAAUma,OAAS,WACjC,IAAI7wB,EAAQU,KAAKV,MACb+f,EAAKrf,KAAKkmG,YAAY5mG,EAAM6mG,kBAAmBrQ,EAAUz2E,EAAGy2E,QAASsQ,EAAgB/mF,EAAG+mF,cAC5F,OAAQh+F,GAAc,GAAc,CAAE8gD,YAAa5pD,EAAM4pD,YAAapE,WAAYxlD,EAAMwlD,WAAY+wC,WAAYv2F,EAAMu2F,WAAYI,QAAS32F,EAAM22F,QAASH,QAASA,EAASC,WAAYqQ,EAAehQ,eAAgB92F,EAAM82F,eAAgB1B,aAAcp1F,EAAMo1F,aAAcU,cAAe91F,EAAM81F,cAAeiB,eAAgB,WAC3T,IAAIgQ,GAAqB/mG,EAAM83D,UAAY93D,EAAM83D,UAAUyxB,kBAAoB,QAC1EvpF,EAAMg4D,YAAch4D,EAAMg4D,YAAYuxB,kBAAoB,OAC3D,GACJ,OAAQzgF,GAAcsxB,GAAU,KAAMo8D,EAAQ90F,KAAI,SAAU6hD,GACxD,IAAIlgB,EAAakgB,EAAIW,WAAW55B,SAAS+Y,WACzC,OAAQv6B,GAAc,MAAO,CAAEJ,UAAW,2BAA4B3H,IAAKsiC,EAAYvvB,MAAO,CACtFC,WAAYgzF,EAAkB1jE,GAAc,SAAW,KACtDmjE,GAAmBjjD,GAAQz6C,GAAc,GAAoB0qB,EAAS,CAAE+vB,IAAKA,EAAK4C,YAAY,EAAOE,WAAYhjB,IAAerjC,EAAMq4D,eAAgBxT,wBAAwB,GAASU,GAAWhC,EAAKvjD,EAAMwlD,cAAkB18C,GAAc,GAAiB0qB,EAAS,CAAE+vB,IAAKA,EAAK4C,YAAY,EAAOC,YAAY,EAAOitC,iBAAiB,EAAOhtC,WAAYhjB,IAAerjC,EAAMq4D,eAAgBxT,wBAAwB,GAASU,GAAWhC,EAAKvjD,EAAMwlD,sBAErc,SAAUkiB,EAAW1sB,EAAYitB,EAAYC,EAAckuB,GAAe,OAAQttF,GAAc,IAAK,CAAEqoB,IAAKu2C,EAAWh/D,UAAW,CAAC,wBAAwBsY,OAAOg6B,GAAYlsC,KAAK,KAAM2xE,QAAS2V,GAAeluB,OAEvNy+B,EAtB2B,CAuBpC,IACF,SAASC,GAAYC,GAGjB,IAFA,IAAIrQ,EAAU,GACVsQ,EAAgB,GACX1iE,EAAK,EAAG4iE,EAAqBH,EAAkBziE,EAAK4iE,EAAmB/lG,OAAQmjC,IAAM,CAC1F,IAAI6iE,EAAYD,EAAmB5iE,GACnCoyD,EAAQlgF,KAAK2wF,EAAU1jD,KAClB0jD,EAAUC,WACXJ,EAAcxwF,KAAK2wF,EAAU1jD,KAGrC,MAAO,CAAEizC,QAASA,EAASsQ,cAAeA,GAG9C,IAAIK,GAA0B13D,GAAgB,CAAE7H,KAAM,WAClD,GAA2B,SAAUpN,GAErC,SAAS4sE,IACL,IAAI3lG,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAMhE,OALAe,EAAMimE,UAAYvtC,KAClB14B,EAAMkmE,aAAe,SAAUxxD,GAC3BmtD,GAAO7hE,EAAMimE,UAAWvxD,GACxBmtD,GAAO7hE,EAAMzB,MAAM4nE,MAAOzxD,IAEvB1U,EAmBX,OA3BA2xB,EAAUg0E,EAAW5sE,GAUrB4sE,EAAU1wF,UAAUma,OAAS,WACzB,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAAS07C,EAAY3nD,EAAG2nD,UAClEvnE,EAAU6rB,EAAQ7rB,QAClByD,EAAO5D,EAAM4D,KAAMgmD,EAAc5pD,EAAM4pD,YACvCm7B,EAAe5kF,EAAQ62C,SACrB,CAAE,eAAgB+iB,GAAiBn2D,EAAM,QAASiV,SAAU,GAC5D,GACN,OAAQ/P,GAAc,GAAa,CAAElF,KAAMA,EAAMgmD,YAAaA,EAAapE,WAAYxlD,EAAMwlD,WAAYyuC,cAAej0F,EAAMi0F,cAAehP,eAAgBjlF,EAAMilF,eAAgBrd,MAAOlnE,KAAKinE,eAAgB,SAAU0/B,EAAUxR,EAAeyR,EAAe5tC,GAAc,OAAQ5wD,GAAc,KAAM0qB,EAAS,CAAErC,IAAKk2E,EAAU3+F,UAAW,CAAC,kBAAkBsY,OAAO60E,EAAe71F,EAAMulF,iBAAmB,IAAIz2E,KAAK,MAAQw4F,EAAetnG,EAAMmlF,gBACpbr8E,GAAc,MAAO,CAAEJ,UAAW,gDAAiDyoB,IAAKnxB,EAAMioE,YAC1FjoE,EAAMunG,gBAAmBz+F,GAAc4rF,GAAgB,CAAE9wF,KAAMA,EAAM+wF,cAAewS,KAA2B,SAAUK,EAAWC,EAAgBx/B,EAAYC,GAAgB,OAAQp/D,GAAc,IAAK0qB,EAAS,CAAErC,IAAKq2E,EAAW9+F,UAAW,CAAC,0BAA0BsY,OAAOymF,GAAgB34F,KAAK,MAAQi2E,GAAe7c,OAC9TxO,GAAe5wD,GAAc,GAAc,CAAElF,KAAMA,EAAMgmD,YAAaA,EAAaqqC,cAAej0F,EAAMi0F,cAAeqS,YAAatmG,EAAMsmG,YAAa9gD,WAAYxlD,EAAMwlD,WAAYy/B,eAAgBjlF,EAAMilF,iBAC5Mn8E,GAAc,MAAO,CAAEJ,UAAW,wBAAyByoB,IAAKnxB,EAAM0nG,gBAClE1nG,EAAM2nG,UACN7+F,GAAc,MAAO,CAAEJ,UAAW,wBAAyBoL,MAAO,CAAE8zF,UAAW5nG,EAAM6nG,gBACjF/+F,GAAc,GAAmB,CAAEytF,WAAY3yF,EAAMijG,iBAAkB7mG,EAAM6mG,iBAAkBlQ,QAAS32F,EAAM22F,QAASG,eAAgBpvB,EAAW0tB,cAAep1F,EAAMi0F,cAAe6B,cAAe91F,EAAM81F,cAAelsC,YAAa5pD,EAAM4pD,YAAayO,eAAgBr4D,EAAMq4D,eAAgBP,UAAW93D,EAAM83D,UAAWE,YAAah4D,EAAMg4D,YAAaxS,WAAYxlD,EAAMwlD,eACtX18C,GAAc,MAAO,CAAEJ,UAAW,qBAAuB1I,EAAM8nG,iBAEpEV,EA5BmB,CA6B5B,IAEF,SAASW,GAAsBlkD,EAC/BvN,EAAcC,EAAiB2kC,EAAa8sB,EAAsBC,EAAkB1gB,GAChF,IAAI2gB,EAAY,IAAI,GACpBA,EAAU/sB,gBAAiB,EAC3B+sB,EAAUhtB,YAAcA,GACH,IAAjB5kC,IAA6C,IAApBC,GACzB2xD,EAAU9sB,SAAW6sB,EACrBC,EAAUC,gBAAiB,GAEE,kBAAjB7xD,EACZ4xD,EAAU7sB,YAAc/kC,EAEQ,kBAApBC,IACZ2xD,EAAU7sB,YAAc9kC,EACxB2xD,EAAUC,gBAAiB,GAK/B,IAFA,IAAIC,EAAY,GACZC,EAAoB,GACfn7F,EAAI,EAAGA,EAAI22C,EAAK5iD,OAAQiM,GAAK,EAAG,CACrC,IAAIq2C,EAAMM,EAAK32C,GACXm2B,EAAakgB,EAAIW,WAAW55B,SAAS+Y,WACrCilE,EAAcN,EAAqB3kE,GACpB,MAAfilE,EACAF,EAAU9xF,KAAK,CACXomE,MAAOxvE,EACP+uE,UAAWqsB,EACX5hD,KAAM,CACFjgB,MAAO8c,EAAIykC,SACXthD,IAAK6c,EAAI0kC,QAAU,KAK3BogB,EAAkB/xF,KAAKitC,GAS/B,IANA,IAAIm4B,EAAgBwsB,EAAUzsB,QAAQ2sB,GAClCG,EAAWL,EAAUlqB,UACrBj+D,EAAKyoF,GAAWD,EAAU1kD,EAAM0jC,GAAQkhB,EAAsB1oF,EAAG0oF,oBAAqBC,EAAqB3oF,EAAG2oF,mBAAoBC,EAAkB5oF,EAAG4oF,gBACvJC,EAAW,GACXC,EAAiB,GAEZzkE,EAAK,EAAG0kE,EAAsBT,EAAmBjkE,EAAK0kE,EAAoB7nG,OAAQmjC,IAAM,CACzFmf,EAAMulD,EAAoB1kE,GAC9BskE,EAAmBnlD,EAAIykC,UAAU1xE,KAAK,CAClCitC,IAAKA,EACL2jD,WAAW,EACXla,YAAY,EACZ+b,YAAa,EACbnB,UAAW,IAEf,IAAK,IAAIhgB,EAAMrkC,EAAIykC,SAAUJ,GAAOrkC,EAAI0kC,QAASL,GAAO,EACpD6gB,EAAoB7gB,GAAKtxE,KAAK,CAC1BitC,IAAKylD,GAAWzlD,EAAKqkC,EAAKA,EAAM,EAAGL,GACnC2f,WAAW,EACXla,YAAY,EACZ+b,YAAa,EACbnB,UAAW,IAKvB,IAAShgB,EAAM,EAAGA,EAAML,EAAMtmF,OAAQ2mF,GAAO,EACzCghB,EAAStyF,KAAK,GAElB,IAAK,IAAIsmB,EAAK,EAAGqsE,EAAkBvtB,EAAe9+C,EAAKqsE,EAAgBhoG,OAAQ27B,IAAM,CACjF,IAAIssE,EAAcD,EAAgBrsE,GAE9BusE,GADA5lD,EAAMM,EAAKqlD,EAAYxsB,OACVwsB,EAAYxiD,MAC7BgiD,EAAmBS,EAAW1iE,OAAOnwB,KAAK,CACtCitC,IAAKylD,GAAWzlD,EAAK4lD,EAAW1iE,MAAO0iE,EAAWziE,IAAK6gD,GACvD2f,WAAW,EACXla,YAAY,EACZ+b,YAAa,EACbnB,UAAW,IAEf,IAAShgB,EAAMuhB,EAAW1iE,MAAOmhD,EAAMuhB,EAAWziE,IAAKkhD,GAAO,EAC1DghB,EAAShhB,IAAQ,EACjB6gB,EAAoB7gB,GAAKtxE,KAAK,CAC1BitC,IAAKylD,GAAWzlD,EAAKqkC,EAAKA,EAAM,EAAGL,GACnC2f,WAAW,EACXla,YAAY,EACZ+b,YAAa,EACbnB,UAAW,IAKvB,IAAShgB,EAAM,EAAGA,EAAML,EAAMtmF,OAAQ2mF,GAAO,EACzCihB,EAAevyF,KAAKqyF,EAAgB/gB,IAExC,MAAO,CAAE6gB,oBAAqBA,EAAqBC,mBAAoBA,EAAoBE,SAAUA,EAAUC,eAAgBA,GAGnI,SAASL,GAAWY,EAAUvlD,EAAM0jC,GAKhC,IAJA,IAAI8hB,EAAiBC,GAAoBF,EAAU7hB,EAAMtmF,QACrDwnG,EAAsB,GACtBC,EAAqB,GACrBC,EAAkB,GACb/gB,EAAM,EAAGA,EAAML,EAAMtmF,OAAQ2mF,GAAO,EAAG,CAM5C,IALA,IAAI3J,EAAQorB,EAAezhB,GAEvBif,EAAmB,GACnB0C,EAAgB,EAChBC,EAAmB,EACdplE,EAAK,EAAGqlE,EAAUxrB,EAAO75C,EAAKqlE,EAAQxoG,OAAQmjC,IAAM,CACzD,IAAIuxB,EAAO8zC,EAAQrlE,GACfmf,EAAMM,EAAK8R,EAAK+mB,OACpBmqB,EAAiBvwF,KAAK,CAClBitC,IAAKylD,GAAWzlD,EAAKqkC,EAAKA,EAAM,EAAGL,GACnC2f,WAAW,EACXla,YAAY,EACZ+b,YAAapzC,EAAKqmB,WAClB4rB,UAAWjyC,EAAKqmB,WAAautB,IAEjCA,EAAgB5zC,EAAKqmB,WAAarmB,EAAKsmB,UAG3C,IAAIytB,EAAkB,GACtBH,EAAgB,EAChBC,EAAmB,EACnB,IAAK,IAAIzpF,EAAK,EAAG4pF,EAAU1rB,EAAOl+D,EAAK4pF,EAAQ1oG,OAAQ8e,IAAM,CACrD41C,EAAOg0C,EAAQ5pF,GACfwjC,EAAMM,EAAK8R,EAAK+mB,OADpB,IAEIsQ,EAAar3B,EAAKjP,KAAKhgB,IAAMivB,EAAKjP,KAAKjgB,MAAQ,EAC/CmjE,EAAaj0C,EAAKjP,KAAKjgB,QAAUmhD,EACrC4hB,GAAoB7zC,EAAKqmB,WAAautB,EACtCA,EAAgB5zC,EAAKqmB,WAAarmB,EAAKsmB,UACnC+Q,GACAwc,GAAoB7zC,EAAKsmB,UACrB2tB,GACAF,EAAgBpzF,KAAK,CACjBitC,IAAKylD,GAAWzlD,EAAKoS,EAAKjP,KAAKjgB,MAAOkvB,EAAKjP,KAAKhgB,IAAK6gD,GACrD2f,WAAW,EACXla,YAAY,EACZ+b,YAAapzC,EAAKqmB,WAClB4rB,UAAW,KAIdgC,IACLF,EAAgBpzF,KAAK,CACjBitC,IAAKylD,GAAWzlD,EAAKoS,EAAKjP,KAAKjgB,MAAOkvB,EAAKjP,KAAKhgB,IAAK6gD,GACrD2f,WAAW,EACXla,YAAY,EACZ+b,YAAapzC,EAAKqmB,WAClB4rB,UAAW4B,IAEfA,EAAmB,GAG3Bf,EAAoBnyF,KAAKuwF,GACzB6B,EAAmBpyF,KAAKozF,GACxBf,EAAgBryF,KAAKkzF,GAEzB,MAAO,CAAEf,oBAAqBA,EAAqBC,mBAAoBA,EAAoBC,gBAAiBA,GAEhH,SAASW,GAAoBrrB,EAAO+G,GAEhC,IADA,IAAIqkB,EAAiB,GACZzhB,EAAM,EAAGA,EAAM5C,EAAQ4C,GAAO,EACnCyhB,EAAe/yF,KAAK,IAExB,IAAK,IAAI8tB,EAAK,EAAGylE,EAAU5rB,EAAO75C,EAAKylE,EAAQ5oG,OAAQmjC,IACnD,KAAIuxB,EAAOk0C,EAAQzlE,GACnB,IAASwjD,EAAMjyB,EAAKjP,KAAKjgB,MAAOmhD,EAAMjyB,EAAKjP,KAAKhgB,IAAKkhD,GAAO,EACxDyhB,EAAezhB,GAAKtxE,KAAKq/C,GAGjC,OAAO0zC,EAEX,SAASL,GAAWzlD,EAAKumD,EAAWC,EAASxiB,GACzC,GAAIhkC,EAAIykC,WAAa8hB,GAAavmD,EAAI0kC,UAAY8hB,EAAU,EACxD,OAAOxmD,EAEX,IAAIW,EAAaX,EAAIW,WACjBvB,EAAYuB,EAAWj9B,MACvB47B,EAAcpB,GAAgBkB,EAAW,CACzClc,MAAO8gD,EAAMuiB,GAAWlmG,KACxB8iC,IAAKvG,GAAQonD,EAAMwiB,EAAU,GAAGnmG,KAAM,KAE1C,OAAO4vB,EAASA,EAAS,GAAI+vB,GAAM,CAAEykC,SAAU8hB,EAAW7hB,QAAS8hB,EAAU,EAAG7lD,WAAY,CACpF/d,IAAK+d,EAAW/d,IAChBmZ,GAAI9rB,EAASA,EAAS,GAAI0wB,EAAW5E,IAAK,CAAE5B,kBAAkB,IAC9DpzB,SAAU45B,EAAW55B,SACrBrD,MAAO47B,GACRC,QAASS,EAAIT,SAAWD,EAAYpc,MAAMhG,YAAckiB,EAAUlc,MAAMhG,UAAWsiB,MAAOQ,EAAIR,OAASF,EAAYnc,IAAIjG,YAAckiB,EAAUjc,IAAIjG,YAE9J,IAAI,GAAqC,SAAUjG,GAE/C,SAASwvE,IACL,IAAIvoG,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAKhE,OAHAe,EAAM0mG,gBAAiB,EAEvB1mG,EAAMwoG,YAAc,GACbxoG,EAmCX,OA1CA2xB,EAAU42E,EAAqBxvE,GAS/BwvE,EAAoBtzF,UAAU+kE,QAAU,SAAU2sB,GAM9C,IALA,IAAI3mG,EAAQf,KACR+1F,EAAaj8D,EAAO9jB,UAAU+kE,QAAQ9kE,KAAKjW,KAAM0nG,GACjD7sB,EAAiB76E,KAAK66E,eACtB2uB,EAAgB,SAAU99E,GAAS,OAAQ3qB,EAAMwoG,YAAYltB,GAAc3wD,KAEtE0wD,EAAQ,EAAGA,EAAQvB,EAAet6E,OAAQ67E,GAAS,EACxDvB,EAAeuB,GAASvB,EAAeuB,GAAO57D,OAAOgpF,GAEzD,OAAOzT,GAEXuT,EAAoBtzF,UAAUqlE,uBAAyB,SAAU3vC,EAAWhgB,EAAOsvD,GAC/E,IAAI37D,EAAKrf,KAAM66E,EAAiBx7D,EAAGw7D,eAAgB0uB,EAAclqF,EAAGkqF,YAChE9tB,EAAgB/vC,EAAU+vC,cAAegB,EAAgB/wC,EAAU+wC,cAAeC,EAAkBhxC,EAAUgxC,gBAClH,GAAI18E,KAAKynG,gBAAkBhsB,EAAe,CACtC,IAAIguB,EAAkBptB,GAAcZ,GAEpC,IAAK8tB,EAAYE,GACb,GAAIzpG,KAAKy6E,eAAgB,CACrB,IAAIivB,EAAmB52E,EAASA,EAAS,GAAI2oD,GAAgB,CAAEz1B,KAAMi2B,GAAeR,EAAcz1B,KAAMt6B,EAAMs6B,QAC1G2jD,EAAqBttB,GAAcqtB,GACvCH,EAAYI,IAAsB,EAClC9uB,EAAe4B,GAAeC,GAAmBgtB,EACjD1pG,KAAK07E,WAAWD,EAAe/vD,EAAOsvD,QAGtCuuB,EAAYE,IAAmB,EAC/BzuB,EAAcplE,KAAK6lE,GAI/B,OAAO3hD,EAAO9jB,UAAUqlE,uBAAuBplE,KAAKjW,KAAM0rC,EAAWhgB,EAAOsvD,IAEzEsuB,EA3C6B,CA4CtC,IAEE,GAA0B,SAAUxvE,GAEpC,SAAS8vE,IACL,IAAI7oG,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAWhE,OAVAe,EAAM8oG,WAAa,IAAIxc,GACvBtsF,EAAM+oG,YAAc,IAAIzc,GACxBtsF,EAAMgpG,SAAW,IAAI1c,GACrBtsF,EAAMipG,eAAiB,IAAI3c,GAC3BtsF,EAAMimE,UAAYvtC,KAClB14B,EAAMq0B,MAAQ,CACV60E,eAAgB,KAChB1C,iBAAkB,KAClBD,qBAAsB,IAEnBvmG,EAkKX,OA/KA2xB,EAAUk3E,EAAU9vE,GAepB8vE,EAAS5zF,UAAUma,OAAS,WACxB,IAAIpvB,EAAQf,KACRqf,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAO81B,EAAQ/V,EAAG+V,MAAO9J,EAAUjM,EAAGiM,QAC5D7rB,EAAU6rB,EAAQ7rB,QAClB6kF,EAAShlF,EAAMunF,MAAMtmF,OACrB2pG,EAAqB3E,GAAoBjmG,EAAMgpF,iBAAkBhE,GACjE6lB,EAAmB5E,GAAoBjmG,EAAMkpF,YAAalE,GAC1D8lB,EAAqB7E,GAAoBvlG,KAAKqqG,mBAAoB/lB,GAClEgmB,EAAkB/E,GAAoBvlG,KAAKuqG,gBAAiBjmB,GAC5DpoD,EAAKmrE,GAAsBnkD,GAAc5jD,EAAMipF,YAAa9oF,EAAQmzC,YAAatzC,EAAMs2C,aAAct2C,EAAMu2C,gBAAiBp2C,EAAQozC,iBAAkBzd,EAAMkyE,qBAAsBlyE,EAAMmyE,iBAAkBjoG,EAAMunF,OAAQkhB,EAAsB7rE,EAAG6rE,oBAAqBC,EAAqB9rE,EAAG8rE,mBAAoBE,EAAWhsE,EAAGgsE,SAAUC,EAAiBjsE,EAAGisE,eAC9V9B,EACF/mG,EAAM83D,WAAa93D,EAAM83D,UAAUyxB,mBAChCvpF,EAAMg4D,aAAeh4D,EAAMg4D,YAAYuxB,mBACxC,GACJ,OAAQzgF,GAAc,KAAM,CAAEqoB,IAAKzwB,KAAKgnE,WACpC1nE,EAAMomF,aAAepmF,EAAMomF,cAC3BpmF,EAAMunF,MAAM7lF,KAAI,SAAUwpG,EAAMtjB,GAC5B,IAAIujB,EAAgB1pG,EAAM2pG,aAAaxjB,EAAK5nF,EAAMwjF,SAAWilB,EAAoB7gB,GAAO8gB,EAAmB9gB,GAAM5nF,EAAMwlD,WAAYuhD,GAC/HsE,EAAgB5pG,EAAM2pG,aAAaxjB,EAAK0jB,GAAsBN,EAAgBpjB,GAAM8gB,GAAqB1oG,EAAMwlD,WAAY,GAAIhkD,QAAQxB,EAAM83D,WAAYt2D,QAAQxB,EAAMg4D,cAAc,GACzL,OAAQlvD,GAAc,GAAW,CAAE/H,IAAKmqG,EAAKnqG,IAAK6mE,MAAOnmE,EAAM8oG,WAAWpwE,UAAU+wE,EAAKnqG,KAAMknE,WAAYxmE,EAAM+oG,YAAYrwE,UAAU+wE,EAAKnqG,KAA+E6oD,YAAa5pD,EAAM4pD,YAAahmD,KAAMsnG,EAAKtnG,KAAMqwF,cAAej0F,EAAMurG,eAAgBhE,eAAgBvnG,EAAMwrG,iBAA2B,IAAR5jB,EAAW0e,YAAatmG,EAAMwrG,gBAA4EhmD,WAAYxlD,EAAMwlD,WAAY6S,eAAgBr4D,EAAMq4D,eAAgBP,UAAW93D,EAAM83D,UAAWE,YAAah4D,EAAMg4D,YAAaitB,eAAgBimB,EAAKjmB,eAAgBE,eAAgB+lB,EAAK/lB,eAAgBI,gBAAiB2lB,EAAK3lB,gBAAiBuQ,cAAeoV,EAAKpV,cAAea,QAASiS,EAAShhB,GAAMigB,cAAegB,EAAejhB,GAAMif,iBAAkB4B,EAAoB7gB,GAAM8f,eAAgBjmG,EAAMgpG,SAAStwE,UAAU+wE,EAAKnqG,KAAM4mG,UACh3B7+F,GAAcsxB,GAAU,KACpBtxB,GAAcsxB,GAAU,KAAM+wE,GAC9BriG,GAAcsxB,GAAU,KAAMixE,IAAkBvD,UACpDh/F,GAAcsxB,GAAU,KACpB34B,EAAMgqG,eAAeX,EAAmBljB,GAAM,aAC9CnmF,EAAMgqG,eAAeb,EAAmBhjB,GAAM,gBAC9CnmF,EAAMgqG,eAAeZ,EAAiBjjB,GAAM,oBAGhE0iB,EAAS5zF,UAAUwf,kBAAoB,WACnCx1B,KAAKgrG,cAAa,IAEtBpB,EAAS5zF,UAAU4f,mBAAqB,SAAUwkD,EAAW6wB,GACzD,IAAIC,EAAelrG,KAAKV,MACxBU,KAAKgrG,cAAclnE,GAAas2C,EAAW8wB,KAE/CtB,EAAS5zF,UAAUq0F,iBAAmB,WAClC,IAAI/qG,EAAQU,KAAKV,MACjB,OAAIA,EAAM83D,WAAa93D,EAAM83D,UAAUjU,KAAK5iD,OACjCjB,EAAM83D,UAAUjU,KAEvB7jD,EAAMg4D,aAAeh4D,EAAMg4D,YAAYnU,KAAK5iD,OACrCjB,EAAMg4D,YAAYnU,KAEtB7jD,EAAM+oF,mBAEjBuhB,EAAS5zF,UAAUu0F,cAAgB,WAC/B,IAAIjrG,EAAQU,KAAKV,MACjB,OAAIA,EAAMg4D,aAAeh4D,EAAMg4D,YAAYnU,KAAK5iD,OACrCjB,EAAMg4D,YAAYnU,KAEtB,IAEXymD,EAAS5zF,UAAU00F,aAAe,SAAUxjB,EAAKikB,EAAermD,EAAYuhD,EAAmB5gD,EAAYC,EAAYitC,GACnH,IAAIrnE,EAAUtrB,KAAKsrB,QACfqsC,EAAiB33D,KAAKV,MAAMq4D,eAC5BsyC,EAAiBjqG,KAAKo1B,MAAM60E,eAC5B9lD,EAAqD,IAA5BnkD,KAAKV,MAAMunF,MAAMtmF,OAC1C8kD,EAAWI,GAAcC,GAAcitC,EACvClqE,EAAQ,GACZ,GAAIwhF,EACA,IAAK,IAAIvmE,EAAK,EAAG0nE,EAAkBD,EAAeznE,EAAK0nE,EAAgB7qG,OAAQmjC,IAAM,CACjF,IAAI6iE,EAAY6E,EAAgB1nE,GAC5Bmf,EAAM0jD,EAAU1jD,IAChBlgB,EAAakgB,EAAIW,WAAW55B,SAAS+Y,WACrCtiC,EAAMsiC,EAAa,IAAMukD,EACzBsf,EAAYD,EAAUC,YAAcH,EAAkB1jE,GACtD2pD,EAAaia,EAAUja,WACvB9nE,EAAO,GACPI,EAAQ,GACR0nE,IACIhhE,EAAQk1C,OACR57C,EAAQ,EACRJ,EAAOylF,EAAezsC,MAAM3a,EAAI0kC,SAAW0iB,EAAezsC,MAAM3a,EAAIykC,YAGpE9iE,EAAO,EACPI,EAAQqlF,EAAexsC,OAAO5a,EAAIykC,UAAY2iB,EAAexsC,OAAO5a,EAAI0kC,WAOhF9+D,EAAM7S,KAAKxN,GAAc,MAAO,CAAEJ,UAAW,4BAA8BskF,EAAa,gCAAkC,IAAKjsF,IAAKA,EAAKowB,IAAK40B,EAAW,KAAOrlD,KAAKgqG,eAAevwE,UAAUp5B,GAAM+S,MAAO,CACnMC,WAAYmzF,EAAY,GAAK,SAC7BU,UAAW5a,EAAa,GAAKia,EAAUW,UACvC5iF,IAAKgoE,EAAaia,EAAU8B,YAAc,GAC1C7jF,KAAMA,EACNI,MAAOA,IACNkhF,GAAmBjjD,GAAQz6C,GAAc,GAAoB0qB,EAAS,CAAE+vB,IAAKA,EAAK4C,WAAYA,EAAYE,WAAYhjB,IAAeg1B,EAAgBxT,uBAAwBA,GAA0BU,GAAWhC,EAAKiC,KAAkB18C,GAAc,GAAiB0qB,EAAS,CAAE+vB,IAAKA,EAAK4C,WAAYA,EAAYC,WAAYA,EAAYitC,gBAAiBA,EAAiBhtC,WAAYhjB,IAAeg1B,EAAgBxT,uBAAwBA,GAA0BU,GAAWhC,EAAKiC,OAG7e,OAAOr8B,GAEXmhF,EAAS5zF,UAAU+0F,eAAiB,SAAU5nD,EAAM2wC,GAChD,IAAItzB,EAAQxgE,KAAKsrB,QAAQk1C,MACrB1b,EAAa9kD,KAAKV,MAAMwlD,WACxBmlD,EAAiBjqG,KAAKo1B,MAAM60E,eAC5BxhF,EAAQ,GACZ,GAAIwhF,EACA,IAAK,IAAIvmE,EAAK,EAAGolD,EAAS3lC,EAAMzf,EAAKolD,EAAOvoF,OAAQmjC,IAAM,CACtD,IAAImf,EAAMimC,EAAOplD,GACb2nE,EAAe7qC,EAAQ,CACvB57C,MAAO,EACPJ,KAAMylF,EAAezsC,MAAM3a,EAAI0kC,SAAW0iB,EAAezsC,MAAM3a,EAAIykC,WACnE,CACA9iE,KAAM,EACNI,MAAOqlF,EAAexsC,OAAO5a,EAAIykC,UAAY2iB,EAAexsC,OAAO5a,EAAI0kC,UAE3E9+D,EAAM7S,KAAKxN,GAAc,MAAO,CAAE/H,IAAKulD,GAAmB/C,EAAIW,YAAax7C,UAAW,wBAAyBoL,MAAOi4F,GAA6B,aAAbvX,EAClI1rF,GAAc2rF,GAASjhE,EAAS,CAAE+vB,IAAKA,GAAOgC,GAAWhC,EAAKiC,KAC9D+uC,GAAWC,KAGvB,OAAO1rF,GAAcV,WAAM,EAAQqrB,EAAc,CAAC2G,GAAU,IAAKjR,KAErEmhF,EAAS5zF,UAAUg1F,aAAe,SAAUM,GACxC,IAAIjsF,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOwqG,EAAczqF,EAAGyqF,YAClD,IAAKxqG,EAAMwjF,UACe,OAAtBxjF,EAAM26D,YACR,CACE,GAAIqxC,EAAwB,CACxB,IAAIC,EAAWjsG,EAAMunF,MAAM7lF,KAAI,SAAUwpG,GAAQ,OAAOV,EAAYvc,WAAWid,EAAKnqG,QACpF,GAAIkrG,EAAShrG,OAAQ,CACjB,IAAIy8D,EAAWh9D,KAAKgnE,UAAU3sD,QAC9Bra,KAAK+2B,SAAS,CACVkzE,eAAgB,IAAIltC,GAAcC,EAAUuuC,GAAU,GACtD,MAIZ,IAAIC,GAA8C,IAAvBlsG,EAAMs2C,eAAmD,IAA1Bt2C,EAAMu2C,gBAChE71C,KAAK+2B,SAAS,CACVuwE,qBAAsBtnG,KAAKyrG,4BAC3BlE,iBAAkBiE,EAAuBxrG,KAAK0rG,0BAA4B,SAItF9B,EAAS5zF,UAAUy1F,0BAA4B,WAC3C,IAAIE,EAAW3rG,KAAKgqG,eAAezc,WAC/B+Z,EAAuB,GAE3B,IAAK,IAAIjnG,KAAOsrG,EAAU,CACtB,IAAI39E,EAASrqB,KAAKC,MAAM+nG,EAAStrG,GAAK4jB,wBAAwB+J,QAC1D2U,EAAatiC,EAAI4N,MAAM,KAAK,GAChCq5F,EAAqB3kE,GAAch/B,KAAK0M,IAAIi3F,EAAqB3kE,IAAe,EAAG3U,GAEvF,OAAOs5E,GAEXsC,EAAS5zF,UAAU01F,wBAA0B,WACzC,IAAIE,EAAW5rG,KAAKV,MAAMunF,MAAM,GAAGxmF,IAC/B6+B,EAASl/B,KAAK6pG,WAAWtc,WAAWqe,GACpCC,EAAgB7rG,KAAK+pG,SAASxc,WAAWqe,GAC7C,OAAO1sE,EAAOjb,wBAAwBG,OAASynF,EAAc5nF,wBAAwBK,KAEzFslF,EAAS5zF,UAAU81F,WAAa,WAC5B,IAAIC,EAAQ/rG,KAAK6pG,WAAWtc,WAC5B,OAAOvtF,KAAKV,MAAMunF,MAAM7lF,KAAI,SAAUwpG,GAAQ,OAAOuB,EAAMvB,EAAKnqG,SAE7DupG,EAhLkB,CAiL3B,IAIF,SAASgB,GAAsBoB,EAAYC,GACvC,IAAKD,EAAWzrG,OACZ,MAAO,GAEX,IAAI2rG,EAAmBC,GAAqBF,GAC5C,OAAOD,EAAWhrG,KAAI,SAAU6hD,GAAO,MAAO,CAC1CA,IAAKA,EACL2jD,WAAW,EACXla,YAAY,EACZ+b,YAAa6D,EAAiBrpD,EAAIW,WAAW55B,SAAS+Y,YACtDukE,UAAW,MAGnB,SAASiF,GAAqBF,GAE1B,IADA,IAAIC,EAAmB,GACdxoE,EAAK,EAAG0oE,EAAkBH,EAAevoE,EAAK0oE,EAAgB7rG,OAAQmjC,IAE3E,IADA,IAAI2oE,EAAaD,EAAgB1oE,GACxBrkB,EAAK,EAAGitF,EAAeD,EAAYhtF,EAAKitF,EAAa/rG,OAAQ8e,IAAM,CACxE,IAAIknF,EAAY+F,EAAajtF,GAC7B6sF,EAAiB3F,EAAU1jD,IAAIW,WAAW55B,SAAS+Y,YAAc4jE,EAAU8B,YAGnF,OAAO6D,EAzBX,GAASxpC,iBAAiB,CACtB4kC,qBAAsBxjE,KA2B1B,IAAI,GAAuB,SAAUhK,GAEjC,SAASyyE,IACL,IAAIxrG,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAoBhE,OAnBAe,EAAMyrG,sBAAwBxjE,GAAQq8D,IACtCtkG,EAAM0rG,iBAAmBzjE,GAAQq8D,IACjCtkG,EAAM2rG,iBAAmB1jE,GAAQq8D,IACjCtkG,EAAM4rG,uBAAyB3jE,GAAQq8D,IACvCtkG,EAAMy1D,eAAiBxtB,GAAQy8D,IAC/B1kG,EAAM21D,iBAAmB1tB,GAAQy8D,IACjC1kG,EAAM6rG,QAAU,IAAIvf,GACpBtsF,EAAMkmE,aAAe,SAAUuB,GAC3BznE,EAAMynE,OAASA,EACXA,EACAznE,EAAMuqB,QAAQu2C,6BAA6B9gE,EAAO,CAC9C0U,GAAI+yD,EACJ8V,kBAAmBv9E,EAAMzB,MAAMg/E,oBAInCv9E,EAAMuqB,QAAQw2C,+BAA+B/gE,IAG9CA,EAkFX,OAxGA2xB,EAAU65E,EAAOzyE,GAwBjByyE,EAAMv2F,UAAUma,OAAS,WACrB,IAAIpvB,EAAQf,KACRV,EAAQU,KAAKV,MACb4pD,EAAc5pD,EAAM4pD,YAAarT,EAAkBv2C,EAAMu2C,gBAAiBD,EAAet2C,EAAMs2C,aAAc1C,EAAa5zC,EAAM4zC,WAChI0zC,EAAStnF,EAAMunF,MAAMtmF,OACrBssG,EAAwB7sG,KAAKwsG,sBAAsBltG,EAAMgpF,iBAAkB1B,GAC3EkmB,EAAmB9sG,KAAKysG,iBAAiBntG,EAAMkpF,YAAa5B,GAC5DmmB,EAAmB/sG,KAAK0sG,iBAAiBptG,EAAMipF,YAAa3B,GAC5DomB,EAAyBhtG,KAAK2sG,uBAAuBrtG,EAAM+oF,kBAAmBzB,GAC9EqmB,EAAiBjtG,KAAKw2D,eAAel3D,EAAM83D,UAAWwvB,GACtDsmB,EAAmBltG,KAAK02D,iBAAiBp3D,EAAMg4D,YAAasvB,GAC5DumB,GAAoC,IAAjBv3D,IAA6C,IAApBC,EAG5Cs3D,IAAqBj6D,IACrBi6D,GAAmB,EACnBt3D,EAAkB,KAClBD,EAAe,MAEnB,IAAI0E,EAAa,CACb,kBACA6yD,EAAmB,2BAA6B,6BAChDj6D,EAAa,GAAK,2BAEtB,OAAQ9qC,GAAc,MAAO,CAAEJ,UAAWsyC,EAAWlsC,KAAK,KAAMqiB,IAAKzwB,KAAKinE,aAAc7zD,MAAO,CAGvFO,MAAOrU,EAAM26D,YACb40B,SAAUvvF,EAAMwvF,gBAEpB1mF,GAAc,GAAU,CAAEq+B,KAAM,QAAS,SAAUse,EAASD,GAAc,OAAQ18C,GAAcsxB,GAAU,KACtGtxB,GAAc,QAAS,CAAEJ,UAAW,2BAA4BoL,MAAO,CAC/DO,MAAOrU,EAAM26D,YACb40B,SAAUvvF,EAAMwvF,cAChB9gE,OAAQklB,EAAa5zC,EAAM06D,aAAe,KAE9C16D,EAAM8tG,aACNhlG,GAAc,QAAS,KAAM9I,EAAMunF,MAAM7lF,KAAI,SAAU6lF,EAAOI,GAAO,OAAQ7+E,GAAc,GAAU,CAAEqoB,IAAK1vB,EAAM6rG,QAAQnzE,UAAUwtD,GAAM5mF,IAAKwmF,EAAMtmF,OAC3IsmF,EAAM,GAAG3jF,KAAKmK,cACd45E,EACJ4jB,eAAgBjkB,EAAS,EAAGkkB,gBAAiBxrG,EAAMwrG,gBAAiBhmD,WAAYA,EAAYoE,YAAaA,EAAa29B,MAAOA,EAAOnB,YAAapmF,EAAM+tG,eAAgB/kB,iBAAkBukB,EAAsB5lB,GAAMtvB,eAAgBr4D,EAAMq4D,eAAgB6wB,YAAaskB,EAAiB7lB,GAAKzmE,OAAO8sF,IAAyB/kB,YAAawkB,EAAiB9lB,GAAMoB,kBAAmB2kB,EAAuB/lB,GAAM7vB,UAAW61C,EAAehmB,GAAM3vB,YAAa41C,EAAiBjmB,GAAMrxC,aAAcA,EAAcC,gBAAiBA,EAAiBokB,YAAa36D,EAAM26D,YAAaD,aAAc16D,EAAM06D,aAAc8oB,SAAUxjF,EAAMwjF,sBAI5nBypB,EAAMv2F,UAAU+sD,YAAc,WAC1B/iE,KAAKutG,aAAe,IAAIxwC,GAAc/8D,KAAKwoE,OAAQxoE,KAAK4sG,QAAQ9e,UAAU9sF,KAAI,SAAUwsG,GAAU,OAAOA,EAAO1B,aAAa,OAC7H,GAAO,GACP9rG,KAAKytG,aAAe,IAAI1wC,GAAc/8D,KAAKwoE,OAAQxoE,KAAK4sG,QAAQrf,WAAW,GAAGue,cAC9E,GACA,IAEJS,EAAMv2F,UAAUgtD,SAAW,SAAUC,EAAcC,GAC/C,IAAI7jD,EAAKrf,KAAMytG,EAAepuF,EAAGouF,aAAcF,EAAeluF,EAAGkuF,aAC7DrmB,EAAMumB,EAAa5vC,YAAYoF,GAC/BgkB,EAAMsmB,EAAaxvC,WAAWmF,GAClC,GAAW,MAAP+jB,GAAsB,MAAPC,EAAa,CAC5B,IAAIsjB,EAAOxqG,KAAKV,MAAMunF,MAAMI,GAAKC,GACjC,MAAO,CACHh+B,YAAalpD,KAAKV,MAAM4pD,YACxBlC,SAAUl0B,EAAS,CAAEvM,MAAOvmB,KAAK0tG,aAAazmB,EAAKC,GAAMniD,QAAQ,GAAQylE,EAAKpV,eAC9EC,MAAOr1F,KAAK2tG,UAAU1mB,EAAKC,GAC3BjyB,KAAM,CACFzwC,KAAMipF,EAAajwC,MAAM0pB,GACzBtiE,MAAO6oF,EAAahwC,OAAOypB,GAC3B5iE,IAAKipF,EAAa5vC,KAAKspB,GACvB7iE,OAAQmpF,EAAa3vC,QAAQqpB,IAEjCqO,MAAO,GAGf,OAAO,MAEXiX,EAAMv2F,UAAU23F,UAAY,SAAU1mB,EAAKC,GACvC,OAAOlnF,KAAK4sG,QAAQrf,WAAWtG,GAAK6kB,aAAa5kB,IAErDqlB,EAAMv2F,UAAU03F,aAAe,SAAUzmB,EAAKC,GAC1C,IAAInhD,EAAQ/lC,KAAKV,MAAMunF,MAAMI,GAAKC,GAAKhkF,KACnC8iC,EAAMvG,GAAQsG,EAAO,GACzB,MAAO,CAAEA,MAAOA,EAAOC,IAAKA,IAEzBumE,EAzGe,CA0GxB,IACF,SAASe,GAAYzqD,GACjB,OAAOA,EAAIW,WAAW/d,IAAIV,OAG9B,IAAI,GAAgC,SAAUjL,GAE1C,SAAS8zE,IACL,IAAI7sG,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAEhE,OADAe,EAAMknF,oBAAqB,EACpBlnF,EAKX,OATA2xB,EAAUk7E,EAAgB9zE,GAM1B8zE,EAAe53F,UAAUgwE,WAAa,SAAUtlC,EAAWmtD,GACvD,OAAOA,EAAc7nB,WAAWtlC,IAE7BktD,EAVwB,CAWjC,IAEE,GAA0B,SAAU9zE,GAEpC,SAASg0E,IACL,IAAI/sG,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAGhE,OAFAe,EAAMgtG,OAAS,IAAI,GACnBhtG,EAAMitG,SAAWv0E,KACV14B,EAMX,OAXA2xB,EAAUo7E,EAAUh0E,GAOpBg0E,EAAS93F,UAAUma,OAAS,WACxB,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC9C,OAAQljB,GAAc,GAAO0qB,EAAS,CAAErC,IAAKzwB,KAAKguG,UAAYhuG,KAAK+tG,OAAO7lB,WAAW5oF,EAAOA,EAAM4pD,YAAa5pD,EAAMiwC,iBAAkBjkB,EAAShsB,EAAMuuG,eAAgB,CAAE3kD,YAAa5pD,EAAM4pD,YAAa29B,MAAOvnF,EAAMuuG,cAAchnB,MAAOumB,aAAc9tG,EAAM8tG,aAActe,cAAexvF,EAAMwvF,cAAeue,eAAgB/tG,EAAM+tG,eAAgBz3D,aAAct2C,EAAMs2C,aAAcC,gBAAiBv2C,EAAMu2C,gBAAiBi1D,gBAAiBxrG,EAAMwrG,gBAAiB53D,WAAY5zC,EAAM4zC,WAAY+6D,iBAAkB3uG,EAAM2uG,iBAAkBh0C,YAAa36D,EAAM26D,YAAaD,aAAc16D,EAAM06D,aAAc8oB,SAAUxjF,EAAMwjF,aAE/lBgrB,EAZkB,CAa3B,IAEE,GAA8B,SAAUh0E,GAExC,SAASo0E,IACL,IAAIntG,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAIhE,OAHAe,EAAMotG,mBAAqBnlE,GAAQmlE,IACnCptG,EAAMihF,UAAYvoD,KAClB14B,EAAMitG,SAAWv0E,KACV14B,EAaX,OAnBA2xB,EAAUw7E,EAAcp0E,GAQxBo0E,EAAal4F,UAAUma,OAAS,WAC5B,IAAIpvB,EAAQf,KACRqf,EAAKrf,KAAKsrB,QAAS7rB,EAAU4f,EAAG5f,QAASmiE,EAAuBviD,EAAGuiD,qBACnEtiE,EAAQU,KAAKV,MACbuuG,EAAgB7tG,KAAKmuG,mBAAmB7uG,EAAM4pD,YAAa0Y,GAC3DwsC,EAAgB3uG,EAAQ2wC,YAAehoC,GAAc,GAAW,CAAEqoB,IAAKzwB,KAAKgiF,UAAW94B,YAAa5pD,EAAM4pD,YAAa5mC,MAAOurF,EAAc9mB,YAAa/C,qBAA+C,IAAzB6pB,EAAcjnB,SAC7Loe,EAAc,SAAUqJ,GAAc,OAAQjmG,GAAc,GAAU,CAAEqoB,IAAK1vB,EAAMitG,SAAU9kD,YAAa5pD,EAAM4pD,YAAa2kD,cAAeA,EAAep6D,cAAen0C,EAAMm0C,cAAe6Z,cAAehuD,EAAMguD,cAAeloB,WAAY9lC,EAAM8lC,WAAYqc,aAAcniD,EAAMmiD,aAAckW,eAAgBr4D,EAAMq4D,eAAgBP,UAAW93D,EAAM83D,UAAWE,YAAah4D,EAAMg4D,YAAa/nB,iBAAkB9vC,EAAQ8vC,iBAAkB69D,aAAciB,EAAWtf,kBAAmBD,cAAeuf,EAAWvf,cAAel5C,aAAcn2C,EAAQm2C,aAAcC,gBAAiBp2C,EAAQo2C,gBAAiBi1D,gBAAiBrrG,EAAQkG,YAAautC,YAAa5zC,EAAMujF,aAAcorB,iBAAkBltG,EAAM8jG,YAAa5qC,YAAao0C,EAAWp0C,YAAaD,aAAcq0C,EAAWr0C,aAAc8oB,SAAUxjF,EAAMwjF,YAChyB,OAAOrjF,EAAQq2C,YACT91C,KAAKilG,oBAAoBmJ,EAAepJ,EAAa6I,EAAcvpB,OAAQ7kF,EAAQq2C,aACnF91C,KAAK8kG,mBAAmBsJ,EAAepJ,IAE1CkJ,EApBsB,CAqB/B,IACF,SAASC,GAAmBjlD,EAAa0Y,GACrC,IAAI6kB,EAAY,IAAIZ,GAAe38B,EAAYmiB,YAAazJ,GAC5D,OAAO,IAAI4kB,GAAcC,EAAW,kBAAkBr7E,KAAK89C,EAAY8hB,mBAG3E,IAAI,GAA2C,SAAUlxC,GAErD,SAASw0E,IACL,OAAkB,OAAXx0E,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KA2B/D,OA7BA0yB,EAAU47E,EAA2Bx0E,GAKrCw0E,EAA0Bt4F,UAAU01D,iBAAmB,SAAUtiB,EAAc4hB,EAAkBI,GAC7F,IAIImjC,EAJA1pE,EAAU7kC,KAAKV,MAAMulC,QACrBwmC,EAAcvxC,EAAO9jB,UAAU01D,iBAAiBz1D,KAAKjW,KAAMopD,EAAc4hB,EAAkBI,GAC3FrlC,EAAQslC,EAAYtlC,MACpBC,EAAMqlC,EAAYrlC,IAYtB,GATI,iBAAiB56B,KAAK4/D,KACtBjlC,EAAQlB,EAAQ2tB,YAAYzsB,GAE5BwoE,EAAY1pE,EAAQ2tB,YAAYxsB,GAC5BuoE,EAAUxuE,YAAciG,EAAIjG,YAC5BiG,EAAM1G,GAASivE,EAAW,KAI9BvuG,KAAKV,MAAMm4C,WACXz3C,KAAKV,MAAMo4C,eAAgB,CAC3B,IAAIkvC,EAASjjF,KAAK2iF,KAClB3mD,GAAUoG,EAAOC,IACjBA,EAAM1G,GAAS0G,EAAK,EAAI4gD,GAE5B,MAAO,CAAE7gD,MAAOA,EAAOC,IAAKA,IAEzBsoE,EA9BmC,CA+B5C5jC,IAEE,GAAOnH,GAAa,CACpBzyB,YAAa,eACb6I,MAAO,CACH60D,QAAS,CACLt0D,UAAW,GACXE,0BAA2B,IAE/Bq0D,WAAY,CACRjlG,KAAM,UACN8G,SAAU,CAAEmD,KAAM,IAEtBi7F,YAAa,CACTllG,KAAM,UACN8G,SAAU,CAAE22B,MAAO,IAEvB0nE,aAAc,CACVnlG,KAAM,UACN8G,SAAU,CAAErK,OAAQ,GACpBwxC,WAAW,EACXC,gBAAgB,MAKb,MCp6BX,I,UAAgC,SAAU5d,GAE1C,SAAS80E,IACL,OAAkB,OAAX90E,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAuB/D,OAzBA0yB,EAAUk8E,EAAgB90E,GAI1B80E,EAAe54F,UAAU8gD,WAAa,WAClC,MAAO,CACH/xB,OAAQ,GACR8pE,MAAO,KAGfD,EAAe54F,UAAU6hD,mBAAqB,SAAU7Q,GACpD,OAAIA,EAASjiB,OACF,CAAC,UAEL,CAAC,UAEZ6pE,EAAe54F,UAAU+hD,mBAAqB,SAAU9xB,GACpD,OAAKA,EAASlB,OAGV4d,GAAe1c,GACR,CAAC,QAAS,UAEd,CAAC,UALG,CAAC,UAOT2oE,EA1BwB,CA2BjC74C,KAEE+4C,GAA4B//D,GAAgB,CAC5CnkC,KAAM,UACNi8B,OAAQ,UACR8C,gBAAgB,EAChBC,SAAU,UAEd,SAASmlE,GAAiBzvG,GACtB,IAAIg7C,EAAa,CACb,mBACA,yBACAh7C,EAAM0vG,UAAY,uBAAyB,0BAE/C,OAAQ5mG,GAAco5D,GAAgB5qC,SAAU,MAAM,SAAUtL,GAC5D,IAAKhsB,EAAM0vG,UACP,OAAQ5mG,GAAc,KAAM,CAAEJ,UAAWsyC,EAAWlsC,KAAK,KAAM,YAAa9O,EAAM2vG,aAEtF,IAAIpqE,EAAUvZ,EAAQuZ,QAASplC,EAAU6rB,EAAQ7rB,QAASioD,EAAUp8B,EAAQo8B,QACxEwnD,EACwB,MAA3BzvG,EAAQ01C,gBAA0B25D,GAC/BjnG,MAAM0sB,QAAQ90B,EAAQ01C,iBAAmBpG,GAAgBtvC,EAAQ01C,gBAAgB,IAC7EpG,GAAgBtvC,EAAQ01C,iBAC5BgyB,EAAY,CACZiV,MAAO,EACPltB,KAAM5vD,EAAM4vD,KACZhsD,KAAM2hC,EAAQ8hB,OAAOrnD,EAAM4D,MAC3BukD,KAAMC,EACNhnD,KAAMmkC,EAAQj2B,OAAOtP,EAAM4D,KAAMgsG,IAErC,OAAQ9mG,GAAc,GAAY,CAAE++D,UAAWA,EAAW7sB,WAAY76C,EAAQ+1C,oBAAqBltC,QAAS7I,EAAQg2C,iBAAkB4xB,eAAgB,GAAoB9sB,SAAU96C,EAAQi2C,kBAAmB8E,YAAa/6C,EAAQk2C,uBAAwB,SAAUqxB,EAAW+B,EAAkBxB,EAAYC,GAAgB,OAAQp/D,GAAc,KAAM,CAAEqoB,IAAKu2C,EAAWh/D,UAAWsyC,EAAWh6B,OAAOyoD,GAAkB36D,KAAK,KAAM,YAAa9O,EAAM2vG,YACtb7mG,GAAc,MAAO,CAAEJ,UAAW,2DAC9BI,GAAc,MAAO,CAAEJ,UAAW,8DAA+DyoB,IAAK82C,GAAcC,WAGpI,SAAS,GAAmBloE,GACxB,OAAOA,EAAMoB,KAGjB,IAAI,GAA8B,SAAUo5B,GAExC,SAASq1E,IACL,OAAkB,OAAXr1E,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAM/D,OARA0yB,EAAUy8E,EAAcr1E,GAIxBq1E,EAAan5F,UAAUma,OAAS,WAC5B,OAAOnwB,KAAKV,MAAM8vG,UAAUpuG,KAAI,SAAUquG,GAAY,OAAQjnG,GAAc,KAAM,CAAE/H,IAAKgvG,EAAShvG,KAC9F+H,GAAc2mG,GAAkBj8E,EAAS,GAAIu8E,SAE9CF,EATsB,CAU/B,IAEE,GAA0BpgE,GAAgB,CAAE7H,KAAM,UAClDooE,GAA8B,EAC9B,GAA8B,SAAUx1E,GAExC,SAASy1E,IACL,IAAIxuG,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KA0DhE,OAzDAe,EAAMyuG,eAAiB,IAAI,GAC3BzuG,EAAM8jG,YAAcprE,KACpB14B,EAAMimE,UAAYvtC,KAClB14B,EAAMmxF,cAAgBz4D,KACtB14B,EAAMq0B,MAAQ,CACVq6E,WAAY,MAEhB1uG,EAAM2uG,uBAAyB,SAAUrwC,GACrC,IAAI0yB,EAAahxF,EAAMmxF,cAAc73E,QACjC03E,IACAA,EAAW1yB,UAAYA,IAK/Bt+D,EAAM4uG,eAAiB,SAAUC,EAAQC,QACjB,IAAhBA,IAA0BA,EAAc,IAC5C,IAAIpwG,EAAUsB,EAAMuqB,QAAQ7rB,QACxBypD,EAAcnoD,EAAMzB,MAAM4pD,YAC1B3iC,EAAQ2iC,EAAYmiB,YACpB3rB,EAAS5f,GAASvZ,EAAMwf,MAAOxf,EAAMyf,KACrCq+C,EAAgB5kF,EAAQ62C,UAAuB,IAAXoJ,EAClC,CAAE,eAAgB2Z,GAAiB9yC,EAAMwf,MAAO,QAAS5tB,SAAU,GACnE,GACN,OAAI1Y,EAAQkG,aAA0B,QAAXiqG,EACfxnG,GAAc4rF,GAAgB,CAAE9wF,KAAMqjB,EAAMwf,MAAOkuD,cAAe,KAA2B,SAAUjtB,EAAW1sB,EAAYitB,EAAYC,GAAgB,OAAQp/D,GAAc,KAAM,CAAEqoB,IAAKu2C,EAAWh/D,UAAW,CACnN,mBACA,wBACFsY,OAAOg6B,GAAYlsC,KAAK,MAC1BhG,GAAc,MAAO,CAAEJ,UAAW,kFAAmFoL,MAAO,CAAE4a,OAAQ6hF,IAClIznG,GAAc,IAAK0qB,EAAS,CAAErC,IAAK82C,EAAYv/D,UAAW,kFAAoFq8E,GAAe7c,QAEjKp/D,GAAc,KAAM,CAAEJ,UAAW,oBACrCI,GAAc,MAAO,CAAEJ,UAAW,yBAA0BoL,MAAO,CAAE4a,OAAQ6hF,OAMrF9uG,EAAM+uG,mBAAqB,SAAUC,GACjC,IAAI1wF,EAAKte,EAAMuqB,QAAS7rB,EAAU4f,EAAG5f,QAASioD,EAAUroC,EAAGqoC,QACvDyf,EAAY,CACZzmE,KAAMjB,EAAQu2C,WACdyR,KAAMC,GAEV,OAEAt/C,GAAc,GAAY,CAAE++D,UAAWA,EAAW7sB,WAAY76C,EAAQw2C,iBAAkB3tC,QAAS7I,EAAQy2C,cAAemxB,eAAgB2oC,GAAmBz1D,SAAU96C,EAAQ02C,eAAgBqE,YAAa/6C,EAAQ22C,oBAAqB,SAAU4wB,EAAW1sB,EAAYitB,EAAYC,GAAgB,OAAQp/D,GAAc,KAAM,CAAEqoB,IAAKu2C,EAAWh/D,UAAW,CACrV,mBACA,wBACFsY,OAAOg6B,GAAYlsC,KAAK,MAC1BhG,GAAc,MAAO,CAAEJ,UAAW,qDAAoE,MAAb+nG,EAAoB,iCAAmC,IAAK38F,MAAO,CAAE4a,OAAQ+hF,IAClK3nG,GAAc,OAAQ,CAAEJ,UAAW,iFAAkFyoB,IAAK82C,GAAcC,SAEpJzmE,EAAMkvG,iBAAmB,SAAUR,GAC/B1uG,EAAMg2B,SAAS,CAAE04E,WAAYA,KAE1B1uG,EAwKX,OApOA2xB,EAAU68E,EAAcz1E,GAgExBy1E,EAAav5F,UAAU8uF,mBAAqB,SAAUC,EAAkB7uD,EAAeg6D,GACnF,IAAI7wF,EAAKrf,KAAMsrB,EAAUjM,EAAGiM,QAAShsB,EAAQ+f,EAAG/f,MAC5CwxF,EAAW,GACXn9C,EAAoBs8C,GAAqB3kE,EAAQ7rB,SAqCrD,OApCIslG,GACAjU,EAASl7E,KAAK,CACVpM,KAAM,SACNnJ,IAAK,SACLqkF,SAAU/wC,EACV+9C,MAAO,CACHxqB,MAAOlnE,KAAK6kG,YACZlW,eAAgB,gBAChBK,WAAY+V,KAIpB7uD,IACA46C,EAASl7E,KAAK,CACVpM,KAAM,OACNnJ,IAAK,UACLqxF,MAAO,CAAEppF,QAAS4tC,KAEtB46C,EAASl7E,KAAK,CACVpM,KAAM,OACNnJ,IAAK,kBACLmxF,aACAppF,GAAc,KAAM,CAAEJ,UAAW,yBAC7BI,GAAc,KAAM,CAAEJ,UAAW,uBAAyBsjB,EAAQ6tC,MAAMC,SAAS,yBAG7F03B,EAASl7E,KAAK,CACVpM,KAAM,OACNnJ,IAAK,OACLwgF,QAAQ,EACR3tC,WAAYpyC,QAAQwqB,EAAQ7rB,QAAQyzC,YACpCw+C,MAAO,CACHQ,cAAelyF,KAAKkyF,cACpB5pF,QAAS4nG,KAGT9nG,GAAc,GAAU,CAAEs5D,SAAUp2C,EAAQo2C,SAAUwF,MAAOlnE,KAAKgnE,YAAa,SAAUA,EAAW1sB,GAAc,OAAQlyC,GAAc,MAAO,CAAEJ,UAAW,CAAC,eAAesY,OAAOg6B,GAAYlsC,KAAK,KAAMqiB,IAAKu2C,GACnN5+D,GAAc,GAAkB,CAAEy4E,QAASvhF,EAAMujF,eAAiBvjF,EAAMwjF,SAAUkO,iBAAkB1xF,EAAMwjF,SAAUuM,KAAM,CAAC,CAAE17E,MAAO,WAAam9E,SAAUA,SAEnKye,EAAav5F,UAAUivF,oBAAsB,SAAUF,EAAkB7uD,EAAeg6D,EAAa5rB,EAAQxuC,EAAas5D,EAAWK,GACjI,IAAI1uG,EAAQf,KACRklG,EAAallG,KAAKsrB,QAAQga,YAAYo/B,eAC1C,IAAKwgC,EACD,MAAM,IAAIt1F,MAAM,gCAEpB,IAAIyP,EAAKrf,KAAMsrB,EAAUjM,EAAGiM,QAAShsB,EAAQ+f,EAAG/f,MAC5Cq0C,GAAqBr0C,EAAMwjF,UAAYmN,GAAqB3kE,EAAQ7rB,SACpEm0C,GAAyBt0C,EAAMwjF,UAAYoN,GAAyB5kE,EAAQ7rB,SAC5EqxF,EAAW,GACXiU,GACAjU,EAASl7E,KAAK,CACVpM,KAAM,SACNnJ,IAAK,SACLqkF,SAAU/wC,EACVi7C,gBAAgB,EAChBuW,OAAQ,CACJ,CACI9kG,IAAK,OACL2uF,WAAY,SAAU1d,GAAO,OAAQlpE,GAAc,KAAM,KAAMrH,EAAM4uG,eAAe,MAAOr+B,EAAIugB,eAAe,OAElH,CACIxxF,IAAK,OACL6mE,MAAOlnE,KAAK6kG,YACZlW,eAAgB,gBAChBK,WAAY+V,MAKxB7uD,IACA46C,EAASl7E,KAAK,CACVpM,KAAM,OACNnJ,IAAK,UACLuuF,gBAAgB,EAChBuW,OAAQ,CACJ,CACI9kG,IAAK,OACL2uF,WAAY,SAAUqf,GAAc,OAAQjmG,GAAc,KAAM,KAAMrH,EAAM+uG,mBAAmBzB,EAAWxc,eAAe,OAE7H,CACIxxF,IAAK,OACLiI,QAAS4tC,MAIrB46C,EAASl7E,KAAK,CACVvV,IAAK,kBACLmJ,KAAM,OACNgoF,aACAppF,GAAc,KAAM,CAAEJ,UAAW,yBAC7BI,GAAc,KAAM,CAAEo8E,QAAS,EAAGx8E,UAAW,uBAAyBsjB,EAAQ6tC,MAAMC,SAAS,yBAGzG,IAAI+2C,EAAiB7kF,EAAQ7rB,QAAQkyC,aAmDrC,OAlDAm/C,EAASl7E,KAAK,CACVpM,KAAM,OACNnJ,IAAK,OACLwgF,QAAQ,EACR3tC,WAAYpyC,QAAQwqB,EAAQ7rB,QAAQyzC,YACpCiyD,OAAQ,CACJ,CACI9kG,IAAK,OACLiI,QAAS,SAAUgpE,GAAO,OAE1BlpE,GAAc,MAAO,CAAEJ,UAAW,0BAC9BI,GAAc,QAAS,CAAEgL,MAAO,CAAE4a,OAAQsjD,EAAIp+B,WAAao+B,EAAItX,aAAe,KAC1EsX,EAAIyd,kBACJ3mF,GAAc,QAAS,KACnBA,GAAc,GAAc,CAAEgnG,UAAWA,MACjDhnG,GAAc,MAAO,CAAEJ,UAAW,uCAC9BI,GAAc,GAAU,CAAEq+B,KAAM0pE,EAAiB,SAAW,QAAqB,SAAUprD,GACvF,IAAIqrD,EAAkBD,GAClBV,GACAA,EAAWY,eAAetrD,GAC9B,MAA+B,kBAApBqrD,EACChoG,GAAc8qF,GAAkB,CAAEC,QAAQ,EAAMjwF,KAAM6hD,IAAW,SAAUiiB,EAAW1sB,EAAYitB,EAAYC,GAAgB,OAAQp/D,GAAc,MAAO,CAAEqoB,IAAKu2C,EAAWh/D,UAAW,CAAC,mCAAmCsY,OAAOg6B,GAAYlsC,KAAK,KAAMgF,MAAO,CAAEkR,IAAK8rF,IAAqB5oC,MAElS,YAGvB,CACInnE,IAAK,OACL6xF,cAAelyF,KAAKkyF,cACpB5pF,QAAS4nG,MAIjBt8D,GACAk9C,EAASl7E,KAAK,CACVvV,IAAK,SACLmJ,KAAM,SACNk7E,UAAU,EACVygB,OAAQ,CACJ,CACI9kG,IAAK,OACLiI,QAAS0nF,IAEb,CACI3vF,IAAK,OACLiI,QAAS0nF,OAKjB5nF,GAAc,GAAU,CAAEs5D,SAAUp2C,EAAQo2C,SAAUwF,MAAOlnE,KAAKgnE,YAAa,SAAUA,EAAW1sB,GAAc,OAAQlyC,GAAc,MAAO,CAAEJ,UAAW,CAAC,eAAesY,OAAOg6B,GAAYlsC,KAAK,KAAMqiB,IAAKu2C,GACnN5+D,GAAc88F,EAAY,CAAErkB,QAASvhF,EAAMujF,eAAiBvjF,EAAMwjF,SAAUkO,kBAAkB,EAAOoU,UAAW,CACxG,CAAEzxF,MAAO,SAAU07E,KAAM,CAAC,CAAE17E,MAAO,YACnC,CAAE07E,KAAM,CAAC,CAAErpC,KAAMs+B,EAAQuK,SAAU/4C,MACpCg7C,SAAUA,SAIzBye,EAAav5F,UAAUs6F,uBAAyB,WAC5C,IAAIjxF,EAAKrf,KAAKsrB,QAAQ7rB,QAASm2C,EAAev2B,EAAGu2B,aAAcC,EAAkBx2B,EAAGw2B,gBAKpF,OAJqB,IAAjBD,IAA6C,IAApBC,IACzBD,OAAep1C,EACfq1C,EAAkBy5D,IAEf,CAAE15D,aAAcA,EAAcC,gBAAiBA,IAEnD05D,EArOsB,CAsO/B,IACF,SAASS,GAAkB7oC,GACvB,OAAOA,EAAUzmE,KAGrB,IAAI,GAAqC,WACrC,SAAS6vG,EAAoBC,EAAWtnD,EAAarZ,GACjD7vC,KAAKwwG,UAAYA,EACjBxwG,KAAKkpD,YAAcA,EACnBlpD,KAAK6vC,aAAeA,EA+CxB,OA7CA0gE,EAAoBv6F,UAAUq6F,eAAiB,SAAUntG,GACrD,IAAIgmD,EAAclpD,KAAKkpD,YACvB,GAAI5H,GAAoB4H,EAAYE,aAAclmD,GAAO,CACrD,IAAIutG,EAAiBpwE,GAAWn9B,GAC5BwtG,EAASxtG,EAAK68B,UAAY0wE,EAAe1wE,UAC7C,GAAI2wE,GAAU5oE,GAAUohB,EAAYxZ,cAChCghE,EAAS5oE,GAAUohB,EAAYvZ,aAC/B,OAAO3vC,KAAK2wG,eAAenqE,GAAekqE,IAGlD,OAAO,MAIXH,EAAoBv6F,UAAU46F,eAAiB,SAAUC,EAAMJ,GAI3D,OAHKA,IACDA,EAAiBpwE,GAAWwwE,IAEzB7wG,KAAK2wG,eAAenqE,GAAeqqE,EAAK9wE,UAAY0wE,EAAe1wE,aAK9EwwE,EAAoBv6F,UAAU26F,eAAiB,SAAUrgG,GACrD,IAIIwgG,EACAC,EALA1xF,EAAKrf,KAAMwwG,EAAYnxF,EAAGmxF,UAAWtnD,EAAc7pC,EAAG6pC,YACtDrqB,EAAM2xE,EAAUvzC,IAAI18D,OAEpBywG,GAAgB1gG,EAASkwB,aAAesH,GAAUohB,EAAYxZ,cAAgB5H,GAAU9nC,KAAK6vC,cAejG,OATAmhE,EAAertG,KAAK0M,IAAI,EAAG2gG,GAC3BA,EAAertG,KAAKyM,IAAIyuB,EAAKmyE,GAG7BF,EAAYntG,KAAKm+B,MAAMkvE,GACvBF,EAAYntG,KAAKyM,IAAI0gG,EAAWjyE,EAAM,GAGtCkyE,EAAgBC,EAAeF,EACxBN,EAAU7yC,KAAKmzC,GAClBN,EAAUryC,UAAU2yC,GAAaC,GAElCR,EAnD6B,GAsDpC,GAAmC,SAAUz2E,GAE7C,SAASm3E,IACL,OAAkB,OAAXn3E,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAsB/D,OAxBA0yB,EAAUu+E,EAAmBn3E,GAI7Bm3E,EAAkBj7F,UAAUma,OAAS,WACjC,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1C7rB,EAAU6rB,EAAQ7rB,QAClByxG,EAAa5xG,EAAM4xG,WACvB,OAAQ9oG,GAAc,QAAS,KAAM9I,EAAM8vG,UAAUpuG,KAAI,SAAUquG,EAAU7iG,GACzE,IAAI26D,EAAY,CACZjY,KAAMmgD,EAASngD,KACfhsD,KAAMooB,EAAQuZ,QAAQ8hB,OAAO0oD,EAASnsG,MACtCukD,KAAMn8B,EAAQo8B,SAEdpN,EAAa,CACb,mBACA,wBACA+0D,EAASL,UAAY,GAAK,0BAE9B,OAAQ5mG,GAAc,KAAM,CAAE/H,IAAKgvG,EAAShvG,IAAKowB,IAAKygF,EAAWz3E,UAAU41E,EAAShvG,MAChFf,EAAM6xG,MAAS/oG,GAAc2mG,GAAkBj8E,EAAS,GAAIu8E,IAC5DjnG,GAAc,GAAY,CAAE++D,UAAWA,EAAW7sB,WAAY76C,EAAQ21C,mBAAoB9sC,QAAS7I,EAAQ41C,gBAAiBkF,SAAU96C,EAAQ61C,iBAAkBkF,YAAa/6C,EAAQ81C,sBAAuB,SAAUyxB,EAAW+B,EAAkBxB,EAAYC,GAAgB,OAAQp/D,GAAc,KAAM,CAAEqoB,IAAKu2C,EAAWh/D,UAAWsyC,EAAWh6B,OAAOyoD,GAAkB36D,KAAK,KAAM,YAAaihG,EAASJ,YAAcznC,YAGhaypC,EAzB2B,CA0BpC,IAKE,GAA+B,SAAUn3E,GAEzC,SAASs3E,IACL,IAAIrwG,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAGhE,OAFAe,EAAMimE,UAAYvtC,KAClB14B,EAAMmwG,WAAa,IAAI7jB,GAChBtsF,EAmCX,OAxCA2xB,EAAU0+E,EAAet3E,GAOzBs3E,EAAcp7F,UAAUma,OAAS,WAC7B,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC9C,OAAQljB,GAAc,MAAO,CAAEJ,UAAW,oBAAqByoB,IAAKzwB,KAAKgnE,WACrE5+D,GAAc,QAAS,CAAEJ,UAAWsjB,EAAQ6tC,MAAMC,SAAS,SAAUhmD,MAAO,CACpEy7E,SAAUvvF,EAAMwvF,cAChBn7E,MAAOrU,EAAM26D,YACbjsC,OAAQ1uB,EAAMywB,YAElBzwB,EAAMyvF,kBACN3mF,GAAc,GAAmB,CAAE8oG,WAAYlxG,KAAKkxG,WAAYC,KAAM7xG,EAAM6xG,KAAM/B,UAAW9vG,EAAM8vG,eAE/GgC,EAAcp7F,UAAUwf,kBAAoB,WACxCx1B,KAAKgrG,gBAEToG,EAAcp7F,UAAU4f,mBAAqB,WACzC51B,KAAKgrG,gBAEToG,EAAcp7F,UAAU2gB,qBAAuB,WACvC32B,KAAKV,MAAM+xG,UACXrxG,KAAKV,MAAM+xG,SAAS,OAG5BD,EAAcp7F,UAAUg1F,aAAe,WACnC,IAAI3rF,EAAKrf,KAAMsrB,EAAUjM,EAAGiM,QAAShsB,EAAQ+f,EAAG/f,MAChD,GAAIA,EAAM+xG,UACgB,OAAtB/xG,EAAM26D,YACR,CACE,IAAIuO,EAASxoE,KAAKgnE,UAAU3sD,QACxBmuD,EAAO7kD,cACPrkB,EAAM+xG,SAAS,IAAI,GAAoB,IAAIt0C,GAAc/8D,KAAKgnE,UAAU3sD,QAASi3F,GAAetxG,KAAKkxG,WAAW3jB,WAAYjuF,EAAM8vG,YAAY,GAAO,GAAOpvG,KAAKV,MAAM4pD,YAAa59B,EAAQ7rB,QAAQowC,iBAIzMuhE,EAzCuB,CA0ChC,IACF,SAASE,GAAevF,EAAOqD,GAC3B,OAAOA,EAAUpuG,KAAI,SAAUquG,GAAY,OAAOtD,EAAMsD,EAAShvG,QAGrE,SAASkxG,GAAepuD,EAAMmhC,GAC1B,IACI93E,EADAglG,EAAY,GAEhB,IAAKhlG,EAAI,EAAGA,EAAI83E,EAAQ93E,GAAK,EACzBglG,EAAU57F,KAAK,IAEnB,GAAIutC,EACA,IAAK32C,EAAI,EAAGA,EAAI22C,EAAK5iD,OAAQiM,GAAK,EAC9BglG,EAAUruD,EAAK32C,GAAG06E,KAAKtxE,KAAKutC,EAAK32C,IAGzC,OAAOglG,EAEX,SAASC,GAAsB7yD,EAAI0lC,GAC/B,IAAIghB,EAAQ,GACZ,GAAK1mD,EAKA,CACD,IAASpyC,EAAI,EAAGA,EAAI83E,EAAQ93E,GAAK,EAC7B84F,EAAM94F,GAAK,CACPq8E,kBAAmBjqC,EAAGiqC,kBACtBnwB,QAAS9Z,EAAG8Z,QACZvV,KAAM,IAGd,IAAK,IAAIzf,EAAK,EAAGrkB,EAAKu/B,EAAGuE,KAAMzf,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CACjD,IAAImf,EAAMxjC,EAAGqkB,GACb4hE,EAAMziD,EAAIqkC,KAAK/jC,KAAKvtC,KAAKitC,SAd7B,IAAK,IAAIr2C,EAAI,EAAGA,EAAI83E,EAAQ93E,GAAK,EAC7B84F,EAAM94F,GAAK,KAgBnB,OAAO84F,EAGX,IAAI,GAAiC,SAAUxrE,GAE3C,SAAS43E,IACL,IAAI3wG,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAEhE,OADAe,EAAMimE,UAAYvtC,KACX14B,EAWX,OAfA2xB,EAAUg/E,EAAiB53E,GAM3B43E,EAAgB17F,UAAUma,OAAS,WAC/B,IAAIpvB,EAAQf,KACRV,EAAQU,KAAKV,MACjB,OAAQ8I,GAAc,GAAc,CAAEytF,WAAY,KAAMI,QAAS32F,EAAMy2F,WAAWx1F,OAAQu1F,QAASx2F,EAAMy2F,WAAYA,WAAYz2F,EAAMy2F,WAAYK,eAAgBp2F,KAAKgnE,UAAWK,eAAgB,GAAqB+tB,cAAe91F,EAAM81F,cAAelsC,YAAa5pD,EAAM4pD,YAAapE,WAAYxlD,EAAMwlD,WAAYuxC,eAAgB,WAAc,OAAOsb,GAAkBryG,EAAMy2F,WAAYz2F,MAAa,SAAU0nE,EAAW1sB,EAAYitB,EAAYC,EAAckuB,GAAe,OAAQttF,GAAc,IAAK,CAAEqoB,IAAK,SAAUhb,GAC9fmtD,GAAOoE,EAAWvxD,GAClBmtD,GAAO7hE,EAAMimE,UAAWvxD,IACzBzN,UAAW,CAAC,yBAAyBsY,OAAOg6B,GAAYlsC,KAAK,KAAMgF,MAAO,CAAEkR,IAAKhlB,EAAMglB,IAAKF,OAAQ9kB,EAAM8kB,QAAU27D,QAAS2V,GAChIttF,GAAc,MAAO,CAAEqoB,IAAK82C,EAAYv/D,UAAW,yCAA2Cw/D,QAE/FkqC,EAhByB,CAiBlC,IACF,SAAS,GAAoBpyG,GACzB,OAAOA,EAAM42F,UAIjB,SAAS0b,GAAiBlK,EAAWltB,EAAaG,GAC9C,IAAI6sB,EAAY,IAAI,GACD,MAAfhtB,IACAgtB,EAAUhtB,YAAcA,GAET,MAAfG,IACA6sB,EAAU7sB,YAAcA,GAE5B,IAAIK,EAAgBwsB,EAAUzsB,QAAQ2sB,GAClCmK,EAAep0B,GAAyBzC,GACxC82B,EAAMC,GAASvK,GACnBsK,EAAME,GAAWF,EAAK,GACtB,IAAIjK,EAAWoK,GAAWH,GAC1B,MAAO,CAAEjK,SAAUA,EAAUgK,aAAcA,GAE/C,SAASE,GAASvK,GACd,IAAI3sB,EAAiB2sB,EAAU3sB,eAC3Bq3B,EAAYC,IAAU,SAAU/1B,EAAOF,GAAW,OAAOE,EAAQ,IAAMF,KAAY,SAAUE,EAAOF,GACpG,IAAIk2B,EAAeC,GAAkB7K,EAAWprB,EAAOF,GACnDo2B,EAAeC,GAAWH,EAAcF,GACxCxmF,EAAQmvD,EAAeuB,GAAOF,GAClC,MAAO,CACHppD,EAASA,EAAS,GAAIpH,GAAQ,CAAE8mF,eAAgBF,EAAa,KAC7D5mF,EAAM6vD,UAAY+2B,EAAa,OAGvC,OAAOC,GAAW13B,EAAet6E,OAC3B,CAAE67E,MAAO,EAAGq2B,aAAc,EAAGC,WAAY73B,EAAe,GAAGt6E,QAC3D,KAAM2xG,GAAW,GAE3B,SAASK,GAAWH,EAAcF,GAC9B,IAAKE,EACD,MAAO,CAAC,GAAI,GAEhB,IAAIh2B,EAAQg2B,EAAah2B,MAAOq2B,EAAeL,EAAaK,aAAcC,EAAaN,EAAaM,WAChGx2B,EAAUu2B,EACVE,EAAQ,GACZ,MAAOz2B,EAAUw2B,EACbC,EAAM/8F,KAAKs8F,EAAU91B,EAAOF,IAC5BA,GAAW,EAGf,OADAy2B,EAAMxsF,KAAKysF,IACJ,CACHD,EAAM3xG,IAAI6xG,IACVF,EAAM,GAAG,IAGjB,SAASC,GAAiBxsF,EAAGC,GACzB,OAAOA,EAAE,GAAKD,EAAE,GAEpB,SAASysF,GAAYzsF,GACjB,OAAOA,EAAE,GAEb,SAASisF,GAAkB7K,EAAWsL,EAAcC,GAOhD,IANA,IAAIn4B,EAAc4sB,EAAU5sB,YAAaC,EAAiB2sB,EAAU3sB,eAChEm4B,EAAen4B,EAAei4B,GAAcC,GAC5CE,EAAer4B,EAAYk4B,GAAgBE,EAAaz3B,UACxDgB,EAAW3B,EAAYr6E,OACvB67E,EAAQ02B,EAEL12B,EAAQG,GAAY3B,EAAYwB,GAAS62B,EAAc72B,GAAS,GAEvE,KAAOA,EAAQG,EAAUH,GAAS,EAAG,CACjC,IAAI3wD,EAAUovD,EAAeuB,GACzB1wD,OAAQ,EACRwnF,EAAcl2B,GAAavxD,EAASunF,EAAahtD,KAAKjgB,MAAOk3C,IAC7Dw1B,EAAeS,EAAY,GAAKA,EAAY,GAC5CR,EAAaD,EACjB,OACC/mF,EAAQD,EAAQinF,KACbhnF,EAAMs6B,KAAKjgB,MAAQitE,EAAahtD,KAAKhgB,IACrC0sE,GAAc,EAElB,GAAID,EAAeC,EACf,MAAO,CAAEt2B,MAAOA,EAAOq2B,aAAcA,EAAcC,WAAYA,GAGvE,OAAO,KAEX,SAASV,GAAWmB,EAAeC,GAC/B,IAAIC,EAAclB,IAAU,SAAUxpG,EAAM2qG,EAAYC,GAAiB,OAAOl3B,GAAc1zE,MAAU,SAAUA,EAAM2qG,EAAYC,GAChI,IAGIC,EAHAhB,EAAiB7pG,EAAK6pG,eAAgBj3B,EAAY5yE,EAAK4yE,UACvDk4B,EAAel4B,EAAYg4B,EAC3BG,EAAoBn4B,EAAYk4B,EAEhCE,EAAc,GAClB,GAAKnB,EAAejyG,OAIhB,IAAK,IAAImjC,EAAK,EAAGkwE,EAAmBpB,EAAgB9uE,EAAKkwE,EAAiBrzG,OAAQmjC,IAAM,CACpF,IAAImwE,EAAYD,EAAiBlwE,GACjC,QAAiBljC,IAAbgzG,EAAwB,CACxB,IAAI/uE,EAAM4uE,EAAYQ,EAAWP,EAAYG,GAC7CD,EAAW/uE,EAAI,GACfkvE,EAAY/9F,KAAK6uB,EAAI,QAEpB,CACGA,EAAM4uE,EAAYQ,EAAWL,EAAU,GAC3CG,EAAY/9F,KAAK6uB,EAAI,UAZ7B+uE,EAAWJ,EAgBf,IAAIU,GAAgBN,EAAWF,GAAcI,EAC7C,MAAO,CAACF,EAAWM,EAAchhF,EAASA,EAAS,GAAInqB,GAAO,CAAE4yE,UAAWu4B,EAActB,eAAgBmB,QAE7G,OAAOR,EAAcnyG,KAAI,SAAU2H,GAAQ,OAAO0qG,EAAY1qG,EAAM,EAAG,GAAG,MAG9E,SAASspG,GAAWkB,GAChB,IAAI51B,EAAQ,GACRw2B,EAAc5B,IAAU,SAAUxpG,EAAM2yE,EAAY04B,GAAc,OAAO33B,GAAc1zE,MAAU,SAAUA,EAAM2yE,EAAY04B,GAC7H,IAAI/+C,EAAOniC,EAASA,EAAS,GAAInqB,GAAO,CAAE2yE,WAAYA,EAClD04B,WAAYA,EAAYC,aAAc,IAE1C,OADA12B,EAAM3nE,KAAKq/C,GACHA,EAAKg/C,aAAeC,EAAavrG,EAAK6pG,eAAgBl3B,EAAa3yE,EAAK4yE,UAAWy4B,EAAa,GAAK,KAEjH,SAASE,EAAazrF,EAAO6yD,EAAY04B,GAErC,IADA,IAAIC,EAAe,EACVvwE,EAAK,EAAGywE,EAAU1rF,EAAOib,EAAKywE,EAAQ5zG,OAAQmjC,IAAM,CACzD,IAAI/6B,EAAOwrG,EAAQzwE,GACnBuwE,EAAetwG,KAAK0M,IAAI0jG,EAAYprG,EAAM2yE,EAAY04B,GAAaC,GAEvE,OAAOA,EAGX,OADAC,EAAaf,EAAe,EAAG,GACxB51B,EAGX,SAAS40B,GAAUiC,EAASC,GACxB,IAAIC,EAAQ,GACZ,OAAO,WAEH,IADA,IAAIjrF,EAAO,GACFqa,EAAK,EAAGA,EAAKpjC,UAAUC,OAAQmjC,IACpCra,EAAKqa,GAAMpjC,UAAUojC,GAEzB,IAAIrjC,EAAM+zG,EAAQ1sG,WAAM,EAAQ2hB,GAChC,OAAQhpB,KAAOi0G,EACTA,EAAMj0G,GACLi0G,EAAMj0G,GAAOg0G,EAAS3sG,WAAM,EAAQ2hB,IAInD,SAASkrF,GAAkBpxD,EAAMqxD,EAAS/E,EAAYz4D,QAC/B,IAAfy4D,IAAyBA,EAAa,WACnB,IAAnBz4D,IAA6BA,EAAiB,GAClD,IAAIy9D,EAAU,GACd,GAAIhF,EACA,IAAK,IAAIjjG,EAAI,EAAGA,EAAI22C,EAAK5iD,OAAQiM,GAAK,EAAG,CACrC,IAAIq2C,EAAMM,EAAK32C,GACX48F,EAAYqG,EAAWmB,eAAe/tD,EAAI9c,MAAOyuE,GACjDnL,EAAU1lG,KAAK0M,IAAI+4F,GAAapyD,GAAkB,GACtDy4D,EAAWmB,eAAe/tD,EAAI7c,IAAKwuE,IACnCC,EAAQ7+F,KAAK,CACTmwB,MAAOpiC,KAAKC,MAAMwlG,GAClBpjE,IAAKriC,KAAKC,MAAMylG,KAI5B,OAAOoL,EAEX,SAASC,GAAuBvxD,EAAMwxD,EACtC9hE,EAAkBkE,GAGd,IAFA,IAAI2wD,EAAY,GACZkN,EAAW,GACNpoG,EAAI,EAAGA,EAAI22C,EAAK5iD,OAAQiM,GAAK,EAAG,CACrC,IAAIioG,EAAUE,EAAWnoG,GACrBioG,EACA/M,EAAU9xF,KAAK,CACXomE,MAAOxvE,EACP+uE,UAAW,EACXv1B,KAAMyuD,IAIVG,EAASh/F,KAAKutC,EAAK32C,IAK3B,IAFA,IAAI6S,EAAKuyF,GAAiBlK,EAAW70D,EAAkBkE,GAAgB8wD,EAAWxoF,EAAGwoF,SAAUgK,EAAexyF,EAAGwyF,aAC7G1G,EAAgB,GACXznE,EAAK,EAAGmxE,EAAahN,EAAUnkE,EAAKmxE,EAAWt0G,OAAQmjC,IAAM,CAClE,IAAIoxE,EAAUD,EAAWnxE,GACzBynE,EAAcv1F,KAAK,CACfitC,IAAKM,EAAK2xD,EAAQ94B,OAClB/mB,KAAM6/C,IAGd,IAAK,IAAI54E,EAAK,EAAG64E,EAAaH,EAAU14E,EAAK64E,EAAWx0G,OAAQ27B,IAAM,CAClE,IAAI84E,EAAUD,EAAW74E,GACzBivE,EAAcv1F,KAAK,CAAEitC,IAAKmyD,EAAS//C,KAAM,OAE7C,MAAO,CAAEk2C,cAAeA,EAAe0G,aAAcA,GAGzD,IAAIoD,GAAsBlmE,GAAgB,CACtCnkC,KAAM,UACNi8B,OAAQ,UACR+C,UAAU,IAEV,GAA8B,SAAU9P,GAExC,SAASo7E,IACL,OAAkB,OAAXp7E,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAY/D,OAdA0yB,EAAUwiF,EAAcp7E,GAIxBo7E,EAAal/F,UAAUma,OAAS,WAC5B,IAAImqB,EAAa,CACb,oBACA,cAKJ,OAHIt6C,KAAKV,MAAM61G,SACX76D,EAAW1kC,KAAK,2BAEZxN,GAAc,GAAe0qB,EAAS,GAAI9yB,KAAKV,MAAO,CAAEwzF,kBAAmBmiB,GAAqBpwB,gBAAiBvqC,MAEtH46D,EAfsB,CAgB/B,IAEE,GAA6B,SAAUp7E,GAEvC,SAASs7E,IACL,OAAkB,OAAXt7E,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAO/D,OATA0yB,EAAU0iF,EAAat7E,GAIvBs7E,EAAYp/F,UAAUma,OAAS,WAC3B,IAAI7wB,EAAQU,KAAKV,MACjB,OAAQ8I,GAAc,GAAgB,CAAElF,KAAM5D,EAAM4D,KAAMgmD,YAAa5pD,EAAM4pD,YAAapE,WAAYxlD,EAAMwlD,WAAYy/B,eAAgBjlF,EAAMilF,iBAAkB,SAAUhd,EAAYC,GAAgB,OAAQA,GAC1Mp/D,GAAc,MAAO,CAAEJ,UAAW,uBAAwByoB,IAAK82C,GAAcC,OAE9E4tC,EAVqB,CAW9B,IAEE,GAAyB,SAAUt7E,GAEnC,SAASu7E,IACL,IAAIt0G,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAEhE,OADAe,EAAMmiD,cAAgBla,GAAQka,IACvBniD,EAoHX,OAxHA2xB,EAAU2iF,EAASv7E,GAOnBu7E,EAAQr/F,UAAUma,OAAS,WACvB,IAAIpvB,EAAQf,KACRqf,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1CgqF,EAAiBhqF,EAAQ7rB,QAAQq3C,aACjCk1D,EAAc1sG,EAAM83D,WAAa93D,EAAM83D,UAAUjU,MAChD7jD,EAAMg4D,aAAeh4D,EAAMg4D,YAAYnU,MACvCmyD,GAAkBh2G,EAAM+oF,mBACzB,GACAktB,EACFj2G,EAAM83D,WAAa93D,EAAM83D,UAAUyxB,mBAChCvpF,EAAMg4D,aAAeh4D,EAAMg4D,YAAYuxB,mBACxC,GACA2sB,EAAex1G,KAAKkjD,cAAc5jD,EAAMipF,YAAaj9D,EAAQ7rB,QAAQmzC,YACzE,OAAQxqC,GAAc,GAAa,CAAE8+D,MAAO5nE,EAAM4nE,MAAOhkE,KAAM5D,EAAM4D,KAAMgmD,YAAa5pD,EAAM4pD,YAAapE,WAAYxlD,EAAMwlD,WAAYy/B,eAAgBjlF,EAAMilF,iBAAkB,SAAUvd,EAAW1sB,EAAYs5C,GAAa,OAAQxrF,GAAc,KAAM0qB,EAAS,CAAErC,IAAKu2C,EAAWh/D,UAAW,CAAC,mBAAmBsY,OAAOg6B,EAAYh7C,EAAMulF,iBAAmB,IAAIz2E,KAAK,MAAQwlF,EAAWt0F,EAAMmlF,gBAC/Xr8E,GAAc,MAAO,CAAEJ,UAAW,yBAC9BI,GAAc,MAAO,CAAEJ,UAAW,sBAC9BjH,EAAMgqG,eAAezrG,EAAMgpF,iBAAkB,gBAC7CvnF,EAAMgqG,eAAezrG,EAAMkpF,YAAa,YACxCznF,EAAMgqG,eAAezrG,EAAM+oF,kBAAmB,cAClDjgF,GAAc,MAAO,CAAEJ,UAAW,0BAA4BjH,EAAM2pG,aAAa8K,EAAcD,GAA8B,GAAO,GAAO,IAC3IntG,GAAc,MAAO,CAAEJ,UAAW,0BAA4BjH,EAAM2pG,aAAasB,EAAY,GAAIlrG,QAAQxB,EAAM83D,WAAYt2D,QAAQxB,EAAMg4D,aAAcx2D,QAAQw0G,KAC/JltG,GAAc,MAAO,CAAEJ,UAAW,uCAAyCjH,EAAM00G,mBAAmBn2G,EAAMo2G,mBAC1GttG,GAAc,GAAa,CAAElF,KAAM5D,EAAM4D,KAAMgmD,YAAa5pD,EAAM4pD,YAAapE,WAAYxlD,EAAMwlD,WAAYy/B,eAAgBjlF,EAAMilF,uBAE/I8wB,EAAQr/F,UAAU00F,aAAe,SAAU8K,EAAcG,EAAgBlwD,EAAYC,EAAYitC,GAC7F,IAAIrzF,EAAQU,KAAKV,MACjB,OAAIA,EAAMwjF,SACC6uB,GAAkB6D,EAAcl2G,GAEpCU,KAAK41G,uBAAuBJ,EAAcG,EAAgBlwD,EAAYC,EAAYitC,IAE7F0iB,EAAQr/F,UAAU4/F,uBAAyB,SAAUzyD,EACrDwyD,EAAgBlwD,EAAYC,EAAYitC,GACpC,IAAI5xF,EAAQf,KACRqf,EAAKrf,KAAKsrB,QAAQ7rB,QAASs3C,EAAgB13B,EAAG03B,cAAeG,EAAmB73B,EAAG63B,iBAAkBrE,EAAmBxzB,EAAGwzB,iBAAkBmE,EAAiB33B,EAAG23B,eACjK9a,EAAKl8B,KAAKV,MAAO4D,EAAOg5B,EAAGh5B,KAAMusG,EAAavzE,EAAGuzE,WAAY93C,EAAiBz7B,EAAGy7B,eAAgB7S,EAAa5oB,EAAG4oB,WAAYC,EAAU7oB,EAAG6oB,QAC1IM,EAAWI,GAAcC,GAAcitC,EACvCgiB,EAAaJ,GAAkBpxD,EAAMjgD,EAAMusG,EAAYz4D,GACvD1lB,EAAKojF,GAAuBvxD,EAAMwxD,EAAY9hE,EAAkBkE,GAAgBo0D,EAAgB75E,EAAG65E,cAAe0G,EAAevgF,EAAGugF,aACxI,OAAQzpG,GAAcsxB,GAAU,KAC5B15B,KAAK61G,mBAAmBhE,EAAc1uD,GACtCgoD,EAAcnqG,KAAI,SAAU80G,GACxB,IAAIjzD,EAAMizD,EAAajzD,IAAKoS,EAAO6gD,EAAa7gD,KAC5CtyB,EAAakgB,EAAIW,WAAW55B,SAAS+Y,WACrC6jE,EAAYnhD,GAAYvkD,SAAS60G,EAAehzE,IAAesyB,GAC/D8gD,EAASC,GAAiB/gD,GAAQA,EAAKjP,MACvCiwD,GAAW5wD,GAAY4P,EAAQl0D,EAAMm1G,iBAAiBjhD,GAAQ,CAAEzwC,KAAM,EAAGI,MAAO,GAChFuxF,EAAUr1G,QAAQm0D,IAASA,EAAKg/C,aAAe,EAC/CkB,EAAUr0G,QAAQm0D,IAAUA,EAAKjP,KAAKhgB,IAAMivB,EAAKjP,KAAKjgB,MAASmR,EACnE,OAAQ9uC,GAAc,MAAO,CAAEJ,UAAW,6BACjCmuG,EAAU,mCAAqC,IAAK91G,IAAKsiC,EAAYvvB,MAAO0f,EAASA,EAAS,CAAEzf,WAAYmzF,EAAY,GAAK,UAAYuP,GAASE,IACvJ7tG,GAAc,GAAc0qB,EAAS,CAAE+vB,IAAKA,EAAK4C,WAAYA,EAAYC,WAAYA,EAAYitC,gBAAiBA,EAAiBhtC,WAAYhjB,IAAeg1B,EAAgBw9C,QAASA,GAAWtwD,GAAWhC,EAAKiC,EAAYC,WAI9OswD,EAAQr/F,UAAU6/F,mBAAqB,SAAUhE,EAAc1uD,GAC3D,IAAI9jC,EAAKrf,KAAKV,MAAO81F,EAAgB/1E,EAAG+1E,cAAelsC,EAAc7pC,EAAG6pC,YAAapE,EAAazlC,EAAGylC,WAAYC,EAAU1lC,EAAG0lC,QAAS4S,EAAiBt4C,EAAGs4C,eAAgBP,EAAY/3C,EAAG+3C,UAAWE,EAAcj4C,EAAGi4C,YACtN,OAAQlvD,GAAcsxB,GAAU,KAAMm4E,EAAa7wG,KAAI,SAAUo1G,GAC7D,IAAIC,EAAcL,GAAiBI,EAAYpwD,MAC3C+vC,EAAaugB,GAAuBF,EAAY3qF,QAAS03B,GAC7D,OAAQ/6C,GAAc,GAAiB,CAAE/H,IAAK+nC,GAAemuD,GAAwBR,IAAcA,WAAYA,EAAYzxE,IAAK+xF,EAAY/xF,IAAKF,OAAQiyF,EAAYjyF,OAAQgxE,cAAeA,EAAelsC,YAAaA,EAAapE,WAAYA,EAAYC,QAASA,EAAS4S,eAAgBA,EAAgBP,UAAWA,EAAWE,YAAaA,SAG1V+9C,EAAQr/F,UAAU+0F,eAAiB,SAAU5nD,EAAM2wC,GAC/C,IAAIz0E,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1CqpF,EAAaJ,GAAkBpxD,EAAM7jD,EAAM4D,KAAM5D,EAAMmwG,WAAYnkF,EAAQ7rB,QAAQu3C,gBACnF/8B,EAAW06F,EAAW3zG,KAAI,SAAUyzG,EAASjoG,GAC7C,IAAIq2C,EAAMM,EAAK32C,GACf,OAAQpE,GAAc,MAAO,CAAE/H,IAAKulD,GAAmB/C,EAAIW,YAAax7C,UAAW,yBAA0BoL,MAAO4iG,GAAiBvB,IAAyB,aAAb3gB,EAC7I1rF,GAAc2rF,GAASjhE,EAAS,CAAE+vB,IAAKA,GAAOgC,GAAWhC,EAAKvjD,EAAMwlD,WAAYxlD,EAAMylD,WACtF8uC,GAAWC,OAEnB,OAAO1rF,GAAcsxB,GAAU,KAAMzf,IAEzCo7F,EAAQr/F,UAAUy/F,mBAAqB,SAAUtyD,GAC7C,IAAI9jC,EAAKrf,KAAKV,MAAOmwG,EAAapwF,EAAGowF,WAAYvsG,EAAOmc,EAAGnc,KAC3D,OAAKusG,EAGEtsD,EAAKniD,KAAI,SAAU6hD,EAAKr2C,GAAK,OAAQpE,GAAc8qF,GAAkB,CAAEC,QAAQ,EAAOjwF,KAAMA,EAE/F7C,IAAKmM,IAAK,SAAUw6D,EAAW1sB,EAAYitB,EAAYC,GAAgB,OAAQp/D,GAAc,MAAO,CAAEqoB,IAAKu2C,EAAWh/D,UAAW,CAAC,kCAAkCsY,OAAOg6B,GAAYlsC,KAAK,KAAMgF,MAAO,CAAEkR,IAAKmrF,EAAWmB,eAAe/tD,EAAI9c,MAAO7iC,KAAWskE,SAJzP,MAMf6tC,EAAQr/F,UAAUkgG,iBAAmB,SAAUK,GAC3C,IAII/xF,EACAI,EALAvF,EAAKrf,KAAKsrB,QAASk1C,EAAQnhD,EAAGmhD,MAAO/gE,EAAU4f,EAAG5f,QAClD+2G,EAAgB/2G,EAAQ03C,iBACxBs/D,EAAYF,EAAWj7B,WACvBo7B,EAAWH,EAAWj7B,WAAai7B,EAAWh7B,UAG9Ci7B,IAEAE,EAAW/yG,KAAKyM,IAAI,EAAGqmG,EAAqC,GAAxBC,EAAWD,KAE/Cj2C,GACAh8C,EAAO,EAAIkyF,EACX9xF,EAAQ6xF,IAGRjyF,EAAOiyF,EACP7xF,EAAQ,EAAI8xF,GAEhB,IAAIp3G,EAAQ,CACRigG,OAAQgX,EAAWvC,WAAa,EAChCxvF,KAAa,IAAPA,EAAa,IACnBI,MAAe,IAARA,EAAc,KAMzB,OAJI4xF,IAAkBD,EAAWtC,eAE7B30G,EAAMkhE,EAAQ,aAAe,eAAiB,IAE3ClhE,GAEJ+1G,EAzHiB,CA0H1B,IACF,SAAS1D,GAAkB6D,EAAcn2F,GACrC,IAAIylC,EAAazlC,EAAGylC,WAAYC,EAAU1lC,EAAG0lC,QAAS4S,EAAiBt4C,EAAGs4C,eAAgBP,EAAY/3C,EAAG+3C,UAAWE,EAAcj4C,EAAGi4C,YACjIq/C,GAAmBv/C,EAAYA,EAAUyxB,kBAAoB,QAC5DvxB,EAAcA,EAAYuxB,kBAAoB,OAC/C,GACJ,OAAQzgF,GAAcsxB,GAAU,KAAM87E,EAAax0G,KAAI,SAAU6hD,GAC7D,IAAIlgB,EAAakgB,EAAIW,WAAW55B,SAAS+Y,WACzC,OAAQv6B,GAAc,MAAO,CAAE/H,IAAKsiC,EAAYvvB,MAAO,CAAEC,WAAYsjG,EAAgBh0E,GAAc,SAAW,KAC1Gv6B,GAAc,GAAc0qB,EAAS,CAAE+vB,IAAKA,EAAK4C,YAAY,EAAOC,YAAY,EAAOitC,iBAAiB,EAAOhtC,WAAYhjB,IAAeg1B,EAAgBw9C,SAAS,GAAStwD,GAAWhC,EAAKiC,EAAYC,UAGpN,SAASixD,GAAiBrB,GACtB,OAAKA,EAGE,CACHrwF,IAAKqwF,EAAW5uE,MAChB3hB,QAASuwF,EAAW3uE,KAJb,CAAE1hB,IAAK,GAAIF,OAAQ,IAOlC,SAASkyF,GAAuBM,EAAY9gB,GACxC,OAAO8gB,EAAW51G,KAAI,SAAU61G,GAAY,OAAO/gB,EAAQ+gB,EAAS76B,UAGxE,IAAI,GAAiC,SAAUliD,GAE3C,SAASg9E,IACL,IAAI/1G,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAUhE,OATAe,EAAM2rG,iBAAmB1jE,GAAQuoE,IACjCxwG,EAAM0rG,iBAAmBzjE,GAAQuoE,IACjCxwG,EAAMyrG,sBAAwBxjE,GAAQuoE,IACtCxwG,EAAMg2G,sBAAwB/tE,GAAQuoE,IACtCxwG,EAAM4rG,uBAAyB3jE,GAAQuoE,IACvCxwG,EAAMy1D,eAAiBxtB,GAAQyoE,IAC/B1wG,EAAM21D,iBAAmB1tB,GAAQyoE,IACjC1wG,EAAMimE,UAAYvtC,KAClB14B,EAAM8oG,WAAa,IAAIxc,GAChBtsF,EA4CX,OAxDA2xB,EAAUokF,EAAiBh9E,GAc3Bg9E,EAAgB9gG,UAAUma,OAAS,WAC/B,IAAIpvB,EAAQf,KACRqf,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1C8kF,EAAkB9kF,EAAQ7rB,QAAQkyC,cAClCryC,EAAMmwG,YACNnwG,EAAMmwG,WAAWY,eAAe/wG,EAAMylD,SACtCu/B,EAAShlF,EAAMunF,MAAMtmF,OACrBwsG,EAAmB/sG,KAAK0sG,iBAAiBptG,EAAMipF,YAAajE,GAC5DwoB,EAAmB9sG,KAAKysG,iBAAiBntG,EAAMkpF,YAAalE,GAC5DuoB,EAAwB7sG,KAAKwsG,sBAAsBltG,EAAMgpF,iBAAkBhE,GAC3E0yB,EAAwBh3G,KAAK+2G,sBAAsBz3G,EAAMo2G,iBAAkBpxB,GAC3E0oB,EAAyBhtG,KAAK2sG,uBAAuBrtG,EAAM+oF,kBAAmB/D,GAC9E2oB,EAAiBjtG,KAAKw2D,eAAel3D,EAAM83D,UAAWktB,GACtD4oB,EAAmBltG,KAAK02D,iBAAiBp3D,EAAMg4D,YAAagtB,GAChE,OAAQl8E,GAAc,MAAO,CAAEJ,UAAW,mBAAoByoB,IAAKzwB,KAAKgnE,WACpE5+D,GAAc,QAAS,CAAEgL,MAAO,CACxBy7E,SAAUvvF,EAAMwvF,cAChBn7E,MAAOrU,EAAM26D,cAEjB36D,EAAMyvF,kBACN3mF,GAAc,QAAS,KACnBA,GAAc,KAAM,KAChB9I,EAAM6xG,MAAS/oG,GAAc,KAAM,CAAEJ,UAAW,oCAC5CI,GAAc,MAAO,CAAEJ,UAAW,yBAC9BI,GAAc,MAAO,CAAEJ,UAAW,uCAAoE,kBAApBooG,GAAiChoG,GAAc8qF,GAAkB,CAAEC,QAAQ,EAAMjwF,KAAM5D,EAAMylD,UAAW,SAAUiiB,EAAW1sB,EAAYitB,EAAYC,GAAgB,OAAQp/D,GAAc,MAAO,CAAEqoB,IAAKu2C,EAAWh/D,UAAW,CAAC,mCAAmCsY,OAAOg6B,GAAYlsC,KAAK,KAAMgF,MAAO,CAAEkR,IAAK8rF,IAAqB5oC,SAC9ZloE,EAAMunF,MAAM7lF,KAAI,SAAUwpG,EAAMh+F,GAAK,OAAQpE,GAAc,GAAS,CAAE/H,IAAKmqG,EAAKnqG,IAAK6mE,MAAOnmE,EAAM8oG,WAAWpwE,UAAU+wE,EAAKnqG,KAAM6oD,YAAa5pD,EAAM4pD,YAAahmD,KAAMsnG,EAAKtnG,KAAM6hD,QAASzlD,EAAMylD,QAASD,WAAYxlD,EAAMwlD,WAAYy/B,eAAgBimB,EAAKjmB,eAAgBE,eAAgB+lB,EAAK/lB,eAAgBI,gBAAiB2lB,EAAK3lB,gBAAiBuQ,cAAeoV,EAAKpV,cAAe7M,YAAawkB,EAAiBvgG,GAAIg8E,YAAaskB,EAAiBtgG,GAAI87E,iBAAkBukB,EAAsBrgG,GAAIkpG,iBAAkBsB,EAAsBxqG,GAAI67E,kBAAmB2kB,EAAuBxgG,GAAI4qD,UAAW61C,EAAezgG,GAAI8qD,YAAa41C,EAAiB1gG,GAAIijG,WAAYnwG,EAAMmwG,WAAY93C,eAAgBr4D,EAAMq4D,eAAgBmrB,SAAUxjF,EAAMwjF,mBAE/uBg0B,EAAgB9gG,UAAUwf,kBAAoB,WAC1Cx1B,KAAKi3G,gBAETH,EAAgB9gG,UAAU4f,mBAAqB,WAC3C51B,KAAKi3G,gBAETH,EAAgB9gG,UAAUihG,aAAe,WACrC,IAAI33G,EAAQU,KAAKV,MACbA,EAAM43G,aACgB,OAAtB53G,EAAM26D,aAEN36D,EAAM43G,YAAY,IAAIn6C,GAAc/8D,KAAKgnE,UAAU3sD,QAAS88F,GAAen3G,KAAK6pG,WAAWtc,WAAYjuF,EAAMunF,QAAQ,GACrH,KAGDiwB,EAzDyB,CA0DlC,IACF,SAASK,GAAepL,EAAOllB,GAC3B,OAAOA,EAAM7lF,KAAI,SAAUwpG,GAAQ,OAAOuB,EAAMvB,EAAKnqG,QAKzD,IAAI,GAA0B,SAAUy5B,GAEpC,SAASs9E,IACL,IAAIr2G,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAyChE,OAxCAe,EAAMs2G,mBAAqBruE,GAAQquE,IACnCt2G,EAAMq0B,MAAQ,CACVq6E,WAAY,MAEhB1uG,EAAMkmE,aAAe,SAAUxxD,GACvBA,EACA1U,EAAMuqB,QAAQu2C,6BAA6B9gE,EAAO,CAC9C0U,GAAIA,EACJ6oE,kBAAmBv9E,EAAMzB,MAAMg/E,oBAInCv9E,EAAMuqB,QAAQw2C,+BAA+B/gE,IAGrDA,EAAMigE,oBAAsB,SAAUC,GAClC,IAAIq2C,EAAqBv2G,EAAMzB,MAAMg4G,mBACjC7H,EAAa1uG,EAAMq0B,MAAMq6E,WAC7B,GAAI6H,GAAsB7H,EAAY,CAClC,GAAIxuC,EAAQ/R,KAAM,CACd,IAAIqoD,EAAQ9H,EAAWkB,eAAe1vC,EAAQ/R,MAC9CqoD,EAAQ5zG,KAAK2iF,KAAKixB,GACdA,IACAA,GAAS,GAEbD,EAAmBC,GAEvB,OAAO,EAEX,OAAO,GAEXx2G,EAAMy2G,gBAAkB,SAAUC,GAC9B12G,EAAM02G,UAAYA,GAEtB12G,EAAMkvG,iBAAmB,SAAUR,GAC/B1uG,EAAMg2B,SAAS,CAAE04E,WAAYA,IACzB1uG,EAAMzB,MAAMo4G,cACZ32G,EAAMzB,MAAMo4G,aAAajI,IAG1B1uG,EAwDX,OAnGA2xB,EAAU0kF,EAAUt9E,GA6CpBs9E,EAASphG,UAAUma,OAAS,WACxB,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAO81B,EAAQ/V,EAAG+V,MAC5C,OAAQhtB,GAAc,MAAO,CAAEJ,UAAW,mBAAoByoB,IAAKzwB,KAAKinE,aAAc7zD,MAAO,CAGrFO,MAAOrU,EAAM26D,YACb40B,SAAUvvF,EAAMwvF,gBAEpB1mF,GAAc,GAAe,CAAE+oG,KAAM7xG,EAAM6xG,KAAMjoD,YAAa5pD,EAAM4pD,YAAakmD,UAAW9vG,EAAM8vG,UAAWn1C,YAAa36D,EAAM26D,YAAalqC,UAAWzwB,EAAM4zC,WAAa5zC,EAAM06D,aAAe,GAAI80B,cAAexvF,EAAMwvF,cAAeC,kBAAmBzvF,EAAM6xG,KAAO7xG,EAAMyvF,kBAAoB,KAAqDsiB,SAAUrxG,KAAKiwG,mBACtW7nG,GAAc,GAAiB,CAAEy+E,MAAOvnF,EAAMunF,MAAOsqB,KAAM7xG,EAAM6xG,KAAMjoD,YAAa5pD,EAAM4pD,YAAao/B,iBAAkBhpF,EAAMgpF,iBAAkBE,YAAalpF,EAAMkpF,YAAaD,YAAajpF,EAAMipF,YAAaF,kBAAmB/oF,EAAM+oF,kBAAmB1wB,eAAgBr4D,EAAMq4D,eAAgBP,UAAW93D,EAAM83D,UAAWE,YAAah4D,EAAMg4D,YAAaxS,WAAYxlD,EAAMwlD,WAAYC,QAASzlD,EAAMylD,QAAS2wD,iBAAkBp2G,EAAMo2G,iBAAkBz7C,YAAa36D,EAAM26D,YAAa60B,cAAexvF,EAAMwvF,cAAeC,kBAAmBzvF,EAAMyvF,kBAAmB0gB,WAAYr6E,EAAMq6E,WAAYyH,YAAal3G,KAAKw3G,gBAAiB10B,SAAUxjF,EAAMwjF,aAExoBs0B,EAASphG,UAAUwf,kBAAoB,WACnCx1B,KAAK23G,gBAAkB33G,KAAKsrB,QAAQ22C,sBAAsBjiE,KAAKghE,sBAEnEo2C,EAASphG,UAAU4f,mBAAqB,SAAUwkD,GAC9Cp6E,KAAK23G,gBAAgBr2C,OAAO8Y,EAAUlxB,cAAgBlpD,KAAKV,MAAM4pD,cAErEkuD,EAASphG,UAAU2gB,qBAAuB,WACtC32B,KAAK23G,gBAAgBt2C,UAEzB+1C,EAASphG,UAAUgtD,SAAW,SAAUC,EAAcC,GAClD,IAAI7jD,EAAKrf,KAAKsrB,QAASuZ,EAAUxlB,EAAGwlB,QAASplC,EAAU4f,EAAG5f,QACtDg4G,EAAYz3G,KAAKy3G,UACjBvuD,EAAclpD,KAAKV,MAAM4pD,YACzBumD,EAAazvG,KAAKo1B,MAAMq6E,WACxBvzE,EAAKl8B,KAAKq3G,mBAAmBr3G,KAAKV,MAAMuwC,aAAcpwC,EAAQqwC,cAAeA,EAAe5T,EAAG4T,aAAc8nE,EAAe17E,EAAG07E,aAC/HC,EAAWJ,EAAU55C,YAAYoF,GACjC6tC,EAAYrB,EAAWe,UAAUzyC,WAAWmF,GAChD,GAAgB,MAAZ20C,GAAiC,MAAb/G,EAAmB,CACvC,IAAItG,EAAOxqG,KAAKV,MAAMunF,MAAMgxB,GACxBC,EAAUrI,EAAWe,UAAU7yC,KAAKmzC,GACpCiH,EAAatI,EAAWe,UAAUryC,UAAU2yC,GAC5CkH,GAAW90C,EAAc40C,GAAWC,EACpCE,EAAiBt0G,KAAKm+B,MAAMk2E,EAAUJ,GACtCM,EAAYpH,EAAY8G,EAAeK,EACvCE,EAAUn4G,KAAKV,MAAMunF,MAAMgxB,GAAU30G,KACrCgsD,EAAO3nB,GAAa2hB,EAAYxZ,YAAajI,GAAiBqI,EAAcooE,IAC5EnyE,EAAQlB,EAAQ38B,IAAIiwG,EAASjpD,GAC7BlpB,EAAMnB,EAAQ38B,IAAI69B,EAAO+J,GAC7B,MAAO,CACHoZ,YAAaA,EACblC,SAAUl0B,EAAS,CAAEvM,MAAO,CAAEwf,MAAOA,EAAOC,IAAKA,GAAOjB,QAAQ,GAASylE,EAAKpV,eAC9EC,MAAOoiB,EAAUx6C,IAAI46C,GACrB5iD,KAAM,CACFzwC,KAAMizF,EAAUj6C,MAAMq6C,GACtBjzF,MAAO6yF,EAAUh6C,OAAOo6C,GACxBvzF,IAAKwzF,EACL1zF,OAAQ0zF,EAAUC,GAEtBziB,MAAO,GAGf,OAAO,MAEJ8hB,EApGkB,CAqG3B,IACF,SAASC,GAAmBxnE,EAAcuoE,GACtC,IAAItoE,EAAesoE,GAAwBvoE,EACvC+nE,EAAe7vE,GAAqB8H,EAAcC,GAMtD,OALqB,OAAjB8nE,IACA9nE,EAAeD,EACf+nE,EAAe,GAGZ,CAAE9nE,aAAcA,EAAc8nE,aAAcA,GAGvD,IAAI,GAAmC,SAAU99E,GAE7C,SAASu+E,IACL,OAAkB,OAAXv+E,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAkB/D,OApBA0yB,EAAU2lF,EAAmBv+E,GAI7Bu+E,EAAkBriG,UAAUgwE,WAAa,SAAUz/D,EAAO+xF,GAEtD,IADA,IAAIn1D,EAAO,GACF+jC,EAAM,EAAGA,EAAMoxB,EAAU/3G,OAAQ2mF,GAAO,EAAG,CAChD,IAAIliC,EAAWjE,GAAgBx6B,EAAO+xF,EAAUpxB,IAC5CliC,GACA7B,EAAKvtC,KAAK,CACNmwB,MAAOif,EAASjf,MAChBC,IAAKgf,EAAShf,IACdoc,QAAS4C,EAASjf,MAAMhG,YAAcxZ,EAAMwf,MAAMhG,UAClDsiB,MAAO2C,EAAShf,IAAIjG,YAAcxZ,EAAMyf,IAAIjG,UAC5CmnD,IAAKA,IAIjB,OAAO/jC,GAEJk1D,EArB2B,CAsBpC,IAEE,GAA6B,SAAUv+E,GAEvC,SAASy+E,IACL,IAAIx3G,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAIhE,OAHAe,EAAMy3G,eAAiBxvE,GAAQwvE,IAC/Bz3G,EAAMgtG,OAAS,IAAI,GACnBhtG,EAAM03G,YAAch/E,KACb14B,EAYX,OAlBA2xB,EAAU6lF,EAAaz+E,GAQvBy+E,EAAYviG,UAAUma,OAAS,WAC3B,IAAIpvB,EAAQf,KACRqf,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1C49B,EAAc5pD,EAAM4pD,YAAa2kD,EAAgBvuG,EAAMuuG,cACvDsC,EAAiB7kF,EAAQ7rB,QAAQkyC,aACjC2mE,EAAYt4G,KAAKw4G,eAAe3K,EAAe3kD,EAAa59B,EAAQuZ,SAGxE,OAAQz8B,GAAc,GAAU,CAAEq+B,KAAM0pE,EAAiB,SAAW,QAAS,SAAUprD,EAASD,GAAc,OAAQ18C,GAAc,GAAU0qB,EAAS,CAAErC,IAAK1vB,EAAM03G,aAAe13G,EAAMgtG,OAAO7lB,WAAW5oF,EAAO4pD,EAAa,KAAM59B,EAASgtF,GAAY,CAAEx1B,SAAUxjF,EAAMwjF,SAAUquB,KAAM7xG,EAAM6xG,KAAMjoD,YAAaA,EAAakmD,UAAW9vG,EAAM8vG,UAAWv/D,aAAcvwC,EAAMuwC,aAAcg3C,MAAOgnB,EAAchnB,MAAM,GAAIkI,kBAAmBzvF,EAAMyvF,kBAAmBD,cAAexvF,EAAMwvF,cAAe70B,YAAa36D,EAAM26D,YAAaD,aAAc16D,EAAM06D,aAAc9mB,WAAY5zC,EAAM4zC,WAAY6R,QAASA,EAAS2wD,iBAAkBvF,GAAkBpvG,EAAMgtG,OAAOtlB,aAAa1jC,EAASz5B,EAASgtF,GAAYxzD,WAAYA,EAAYwyD,mBAAoBh4G,EAAMg4G,mBAAoBI,aAAcp4G,EAAMo4G,oBAEpxBa,EAnBqB,CAoB9B,IACF,SAASC,GAAe3K,EAAe3kD,EAAarkB,GAEhD,IADA,IAAI2b,EAAS,GACJ9c,EAAK,EAAGrkB,EAAKwuF,EAAc9mB,YAAarjD,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CACnE,IAAIxgC,EAAOmc,EAAGqkB,GACd8c,EAAO5qC,KAAK,CACRmwB,MAAOlB,EAAQ38B,IAAIhF,EAAMgmD,EAAYxZ,aACrC1J,IAAKnB,EAAQ38B,IAAIhF,EAAMgmD,EAAYvZ,eAG3C,OAAO6Q,EAKX,IAAIk4D,GAAsB,CACtB,CAAEjoG,MAAO,GACT,CAAEhE,QAAS,IACX,CAAEA,QAAS,IACX,CAAEjB,QAAS,IACX,CAAEA,QAAS,KAEf,SAASmtG,GAAejpE,EAAaC,EAAaipE,EAAuB/oE,EAAchL,GACnF,IAAIhD,EAAW,IAAI1+B,KAAK,GACpB01G,EAAWnpE,EACXopE,EAAetyE,GAAe,GAC9BuyE,EAAgBH,GAAyBI,GAAqBnpE,GAC9DopE,EAAQ,GACZ,MAAOnxE,GAAU+wE,GAAY/wE,GAAU6H,GAAc,CACjD,IAAIzsC,EAAO2hC,EAAQ38B,IAAI25B,EAAUg3E,GAC7B7J,EAAkE,OAAtDjnE,GAAqB+wE,EAAcC,GACnDE,EAAMrjG,KAAK,CACP1S,KAAMA,EACNgsD,KAAM2pD,EACNx4G,IAAK6C,EAAKmK,cACV4hG,WAAYxmE,GAAoBvlC,GAChC8rG,UAAWA,IAEf6J,EAAWtxE,GAAasxE,EAAUhpE,GAClCipE,EAAevxE,GAAauxE,EAAcjpE,GAE9C,OAAOopE,EAGX,SAASD,GAAqBnpE,GAC1B,IAAIrjC,EACAusG,EACAG,EAEJ,IAAK1sG,EAAIksG,GAAoBn4G,OAAS,EAAGiM,GAAK,EAAGA,GAAK,EAGlD,GAFAusG,EAAgBvyE,GAAekyE,GAAoBlsG,IACnD0sG,EAAgBnxE,GAAqBgxE,EAAelpE,GAC9B,OAAlBqpE,GAA0BA,EAAgB,EAC1C,OAAOH,EAGf,OAAOlpE,EAGX,IAAI,GAAiC,SAAU/V,GAE3C,SAASq/E,IACL,IAAIp4G,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAGhE,OAFAe,EAAMq4G,mBAAqBpwE,GAAQowE,IACnCr4G,EAAM43G,eAAiB3vE,GAAQ2vE,IACxB53G,EAoBX,OAzBA2xB,EAAUymF,EAAiBr/E,GAO3Bq/E,EAAgBnjG,UAAUma,OAAS,WAC/B,IAAIpvB,EAAQf,KACRqf,EAAKrf,KAAKsrB,QAAS7rB,EAAU4f,EAAG5f,QAASolC,EAAUxlB,EAAGwlB,QAAS+8B,EAAuBviD,EAAGuiD,qBACzFtiE,EAAQU,KAAKV,MACb4pD,EAAc5pD,EAAM4pD,YACpB2kD,EAAgB7tG,KAAKo5G,mBAAmBlwD,EAAa0Y,GACrDhL,EAAa52D,KAAKwvG,eAAe54C,WAAWt3D,GAC5C8vG,EAAYpvG,KAAK24G,eAAezvD,EAAYxZ,YAAawZ,EAAYvZ,YAAalwC,EAAQs2C,kBAAmBt2C,EAAQowC,aAAchL,GACnIiR,EAAcr2C,EAAQq2C,YACtBujE,GAAmBvjE,EACnBwjE,EAAkBxjE,EAClBs4D,EAAgB3uG,EAAQ2wC,YAAehoC,GAAc,GAAW,CAAEka,MAAOurF,EAAc9mB,YAAa79B,YAAaA,EAAa86B,sBAAsB,EAAM0B,YAAa2zB,EAAkBr5G,KAAK2vG,eAAiB,OAC/Mz5D,GAAwC,IAAvBz2C,EAAQ85G,YAAyB,SAAWlL,GAAc,OAAQjmG,GAAc,GAAU0qB,EAAS,GAAI8jC,EAAW7xB,OAAQ,CAAEmkB,YAAaA,EAAa2kD,cAAeA,EAAet+D,iBAAkB9vC,EAAQ8vC,iBAAkBu/C,cAAeuf,EAAWvf,cAAese,aAAciB,EAAWtf,kBAAmBse,eAAgBgM,EAAkBt4G,EAAM+uG,mBAAqB,KAAMhF,iBAAiB,EAAO53D,YAAY,EAAO+6D,iBAAkBltG,EAAM8jG,YAAa5qC,YAAao0C,EAAWp0C,YAAaD,aAAcq0C,EAAWr0C,aAAc8oB,SAAUxjF,EAAMwjF,UAAY/hF,EAAMuvG,4BACvkBkJ,EAAkB,SAAUnL,GAAc,OAAQjmG,GAAc,GAAa0qB,EAAS,GAAI8jC,EAAWi4C,MAAO,CAAEhB,cAAeA,EAAe3kD,YAAaA,EAAaioD,KAAMkI,EAAiBxpE,aAAcpwC,EAAQowC,aAAcu/D,UAAWA,EAAWtsB,SAAUxjF,EAAMwjF,SAAUiM,kBAAmBsf,EAAWtf,kBAAmBD,cAAeuf,EAAWvf,cAAe70B,YAAao0C,EAAWp0C,YAAaD,aAAcq0C,EAAWr0C,aAAc09C,aAAc32G,EAAMkvG,iBAAkB/8D,WAAYm7D,EAAWn7D,WAAYokE,mBAAoBv2G,EAAM2uG,2BAC9hB,OAAO4J,EACDt5G,KAAKilG,oBAAoBmJ,EAAel4D,EAAesjE,EAAiB3L,EAAcvpB,OAAQxuC,EAAas5D,EAAWpvG,KAAKo1B,MAAMq6E,YACjIzvG,KAAK8kG,mBAAmBsJ,EAAel4D,EAAesjE,IAEzDL,EA1ByB,CA2BlC,IACF,SAASC,GAAmBlwD,EAAa0Y,GACrC,IAAI6kB,EAAY,IAAIZ,GAAe38B,EAAYmiB,YAAazJ,GAC5D,OAAO,IAAI4kB,GAAcC,GAAW,GAGxC,IAAIgzB,GAAkB,CAClBF,WAAYz4G,SAGZ,GAAOyiE,GAAa,CACpBzyB,YAAa,eACb+zB,eAAgB40C,GAChB9/D,MAAO,CACH+/D,SAAU,CACNx/D,UAAW,GACXG,gBAAgB,EAChBk/D,YAAY,EACZ1pE,aAAc,WACdsH,kBAAkB,GAEtBwiE,YAAa,CACTnwG,KAAM,WACN8G,SAAU,CAAEmD,KAAM,IAEtBmmG,aAAc,CACVpwG,KAAM,WACN8G,SAAU,CAAE22B,MAAO,OAKhB,MCxsCX,I,UAAmC,SAAUnN,GAE7C,SAAS+/E,IACL,OAAkB,OAAX//E,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAsB/D,OAxBA0yB,EAAUmnF,EAAmB//E,GAI7B+/E,EAAkB7jG,UAAUma,OAAS,WACjC,IAAI9Q,EAAKrf,KAAKV,MAAO64G,EAAU94F,EAAG84F,QAASrzD,EAAazlC,EAAGylC,WACvD5oB,EAAKl8B,KAAKsrB,QAAS6tC,EAAQj9B,EAAGi9B,MAAOt0B,EAAU3I,EAAG2I,QAASplC,EAAUy8B,EAAGz8B,QAASioD,EAAUxrB,EAAGwrB,QAC9F08B,EAAUrrB,GAAYo/C,EAASrzD,GAE/BpkD,EAAOjB,EAAQq6G,cAAgBj1E,EAAQj2B,OAAOupG,EAAS14G,EAAQq6G,eAAiB,GAEhFC,EAAWt6G,EAAQu6G,kBAAoBn1E,EAAQj2B,OAAOupG,EAAS14G,EAAQu6G,mBAAqB,GAC5FC,EAAcx6G,EAAQ62C,SACpB+iB,GAAiB8+C,GACjB,KACFhxC,EAAYr0C,EAAS,CAAE5vB,KAAM2hC,EAAQ8hB,OAAOwxD,GAAU1wD,KAAMC,EAAShnD,KAAMA,EAC3Eq5G,SAAUA,EACVE,YAAaA,GAAe71B,GAC5B9pC,EAAa,CAAC,eAAeh6B,OAAO44C,GAAiBkrB,EAASjrB,IAElE,OAAQ/wD,GAAc,GAAY,CAAE++D,UAAWA,EAAW7sB,WAAY76C,EAAQ6wC,oBAAqBhoC,QAAS7I,EAAQ8wC,iBAAkB82B,eAAgB,GAAoB9sB,SAAU96C,EAAQ+wC,kBAAmBgK,YAAa/6C,EAAQgxC,uBAAwB,SAAUu2B,EAAW+B,EAAkBxB,EAAYC,GAAgB,OAAQp/D,GAAc,KAAM,CAAEqoB,IAAKu2C,EAAWh/D,UAAWsyC,EAAWh6B,OAAOyoD,GAAkB36D,KAAK,KAAM,YAAao6B,GAAgB2vE,IAChc/vG,GAAc,KAAM,CAAEo8E,QAAS,GAC3Bp8E,GAAc,MAAO,CAAEJ,UAAW,uBAAyBmxD,EAAMC,SAAS,mBAAoB3oC,IAAK82C,GAAcC,SAEtHqyC,EAzB2B,CA0BpC,KACF,SAAS,GAAmBv6G,GACxB,IAAI+kF,EAAe/kF,EAAM26G,YACnB,CAAE,eAAgB36G,EAAM26G,YAAa9hG,SAAU,GAC/C,GACN,OAAQ/P,GAAcsxB,GAAU,KAC5Bp6B,EAAMoB,MAAS0H,GAAc,IAAK0qB,EAAS,CAAE9qB,UAAW,oBAAsBq8E,GAAe/kF,EAAMoB,MACnGpB,EAAMy6G,UAAa3xG,GAAc,IAAK0qB,EAAS,CAAE9qB,UAAW,yBAA2Bq8E,GAAe/kF,EAAMy6G,WAGpH,IAAI,GAAsBhrE,GAAgB,CACtCnkC,KAAM,UACNi8B,OAAQ,UACR+C,SAAU,UAEV,GAAkC,SAAU9P,GAE5C,SAASogF,IACL,OAAkB,OAAXpgF,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAa/D,OAfA0yB,EAAUwnF,EAAkBpgF,GAI5BogF,EAAiBlkG,UAAUma,OAAS,WAChC,IAAI9Q,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1Cu3B,EAAMvjD,EAAMujD,IACZoB,EAAa34B,EAAQ7rB,QAAQ82C,iBAAmB,GACpD,OAAQnuC,GAAc,GAAW,CAAEy6C,IAAKA,EAAK2vC,SAAU,GACjDC,iBAAiB,EAAMC,iBAAiB,EAAMrrB,eAAgB8yC,GAAyBl1D,OAAQ3lD,EAAM2lD,OAAQC,SAAU5lD,EAAM4lD,SAAUC,QAAS7lD,EAAM6lD,QAASQ,WAAYrmD,EAAMqmD,WAAYF,WAAYnmD,EAAMmmD,WAAYC,WAAYpmD,EAAMomD,WAAYitC,gBAAiBrzF,EAAMqzF,kBAAmB,SAAU3rB,EAAW1sB,EAAYitB,EAAYC,EAAcL,GAAa,OAAQ/+D,GAAc,KAAM,CAAEJ,UAAW,CAAC,gBAAiBm/D,EAAUt9D,MAAMkxB,IAAM,sBAAwB,IAAIza,OAAOg6B,GAAYlsC,KAAK,KAAMqiB,IAAKu2C,GAC7fozC,GAAiBv3D,EAAKoB,EAAY34B,GAClCljB,GAAc,KAAM,CAAEJ,UAAW,yBAC7BI,GAAc,OAAQ,CAAEJ,UAAW,oBAAqBoL,MAAO,CAAEkqC,YAAa6pB,EAAU7pB,aAAe6pB,EAAU9pB,oBACrHj1C,GAAc,KAAM,CAAEJ,UAAW,sBAAuByoB,IAAK82C,GAAcC,QAE5E0yC,EAhB0B,CAiBnC,IACF,SAASC,GAAwB76G,GAC7B,IAAIuK,EAAQvK,EAAMuK,MACdkxB,EAAMlxB,EAAMkxB,IACZs/E,EAAct/E,EAAM,CAAEmmD,KAAMnmD,GAAQ,GACxC,OAAQ3yB,GAAc,IAAK0qB,EAAS,GAAIunF,GAAcxwG,EAAM4T,OAEhE,SAAS28F,GAAiBv3D,EAAKoB,EAAY34B,GACvC,IAAI7rB,EAAU6rB,EAAQ7rB,QACtB,IAAiC,IAA7BA,EAAQ6zC,iBAA4B,CACpC,IAAIrN,EAAW4c,EAAIW,WAAW/d,IAC1B6e,EAAgBzB,EAAIW,WAAW55B,SAC/B0wF,GAAW,EACX9nB,OAAW,EAkBf,GAjBIvsD,EAASlB,OACTu1E,GAAW,EAENv6D,GAAgB8C,EAAIW,WAAWj9B,OAChCs8B,EAAIT,QACJowC,EAAWxuC,GAAiBnB,EAAKoB,EAAY34B,EAAS,KAAM,KAAMg5B,EAAc/9B,MAAMwf,MAAO8c,EAAI7c,KAE5F6c,EAAIR,MACTmwC,EAAWxuC,GAAiBnB,EAAKoB,EAAY34B,EAAS,KAAM,KAAMu3B,EAAI9c,MAAOue,EAAc/9B,MAAMyf,KAGjGs0E,GAAW,EAIf9nB,EAAWxuC,GAAiBnB,EAAKoB,EAAY34B,GAE7CgvF,EAAU,CACV,IAAInzC,EAAY,CACZzmE,KAAM4qB,EAAQ7rB,QAAQu2C,WACtByR,KAAMn8B,EAAQo8B,SAElB,OAAQt/C,GAAc,GAAY,CAAE++D,UAAWA,EAAW7sB,WAAY76C,EAAQw2C,iBAAkB3tC,QAAS7I,EAAQy2C,cAAemxB,eAAgB,GAAmB9sB,SAAU96C,EAAQ02C,eAAgBqE,YAAa/6C,EAAQ22C,oBAAqB,SAAU4wB,EAAW1sB,EAAYitB,EAAYC,GAAgB,OAAQp/D,GAAc,KAAM,CAAEJ,UAAW,CAAC,sBAAsBsY,OAAOg6B,GAAYlsC,KAAK,KAAMqiB,IAAKu2C,GAAaQ,MAEha,OAAQp/D,GAAc,KAAM,CAAEJ,UAAW,sBAAwBwqF,GAErE,OAAO,KAEX,SAAS,GAAkBrrB,GACvB,OAAOA,EAAUzmE,KAMrB,IAAI,GAA0B,SAAUo5B,GAEpC,SAASygF,IACL,IAAIx5G,EAAmB,OAAX+4B,GAAmBA,EAAOpyB,MAAM1H,KAAMM,YAAcN,KAahE,OAZAe,EAAMy5G,gBAAkBxxE,GAAQwxE,IAChCz5G,EAAM05G,iBAAmBzxE,GAAQjoC,EAAM25G,mBACvC35G,EAAM45G,UAAY,SAAUnyC,GACpBA,EACAznE,EAAMuqB,QAAQu2C,6BAA6B9gE,EAAO,CAC9C0U,GAAI+yD,IAIRznE,EAAMuqB,QAAQw2C,+BAA+B/gE,IAG9CA,EA+FX,OA9GA2xB,EAAU6nF,EAAUzgF,GAiBpBygF,EAASvkG,UAAUma,OAAS,WACxB,IAAIpvB,EAAQf,KACRqf,EAAKrf,KAAMV,EAAQ+f,EAAG/f,MAAOgsB,EAAUjM,EAAGiM,QAC1Cu5D,EAAkB,CAClB,UACAv5D,EAAQ6tC,MAAMC,SAAS,UACe,IAAtC9tC,EAAQ7rB,QAAQk0C,kBAA8B,iBAAmB,IAEjEzX,EAAKl8B,KAAKw6G,gBAAgBl7G,EAAM4pD,aAAc0xD,EAAW1+E,EAAG0+E,SAAUtC,EAAYp8E,EAAGo8E,UACrFlwB,EAAYpoF,KAAKy6G,iBAAiBn7G,EAAM8lC,WAAY9lC,EAAMmiD,aAAc62D,GAC5E,OAAQlwG,GAAc,GAAU,CAAEs5D,SAAUp2C,EAAQo2C,SAAUwF,MAAOlnE,KAAK26G,YAAa,SAAU3zC,EAAW1sB,GAAc,OAAQlyC,GAAc,MAAO,CAAEqoB,IAAKu2C,EAAWh/D,UAAW68E,EAAgBvkE,OAAOg6B,GAAYlsC,KAAK,MACxNhG,GAAc,GAAU,CAAEy4E,QAASvhF,EAAMujF,aAAc9mB,UAAWz8D,EAAMujF,aAAe,UAAY,SAAU50D,UAAW3uB,EAAMujF,aAAe,UAAY,QAAUuF,EAAU7nF,OAAS,EAClLQ,EAAM85G,cAAczyB,EAAWwyB,GAC/B75G,EAAM+5G,2BAElBP,EAASvkG,UAAU8kG,mBAAqB,WACpC,IAAIz7F,EAAKrf,KAAKsrB,QAAS7rB,EAAU4f,EAAG5f,QAASioD,EAAUroC,EAAGqoC,QACtDyf,EAAY,CACZzmE,KAAMjB,EAAQq4C,aACd2P,KAAMC,GAEV,OAAQt/C,GAAc,GAAY,CAAE++D,UAAWA,EAAW7sB,WAAY76C,EAAQs7G,mBAAoBzyG,QAAS7I,EAAQu7G,gBAAiB3zC,eAAgB4zC,GAAqB1gE,SAAU96C,EAAQy7G,iBAAkB1gE,YAAa/6C,EAAQ07G,sBAAuB,SAAUn0C,EAAW1sB,EAAYitB,EAAYC,GAAgB,OAAQp/D,GAAc,MAAO,CAAEJ,UAAW,CAAC,iBAAiBsY,OAAOg6B,GAAYlsC,KAAK,KAAMqiB,IAAKu2C,GACjZ5+D,GAAc,MAAO,CAAEJ,UAAW,wBAAyByoB,IAAK82C,GAAcC,QAEtF+yC,EAASvkG,UAAU6kG,cAAgB,SAAU/kB,EAAS8kB,GAClD,IAAIv7F,EAAKrf,KAAKsrB,QAAS6tC,EAAQ95C,EAAG85C,MAAO15D,EAAU4f,EAAG5f,QAClD27G,EAAYC,GAAevlB,GAC/B,OAAQ1tF,GAAc,GAAU,CAAEq+B,KAAM,QAAS,SAAUse,EAASD,GAEhE,IADA,IAAIw2D,EAAa,GACR9/F,EAAW,EAAGA,EAAW4/F,EAAU76G,OAAQib,GAAY,EAAG,CAC/D,IAAI+/F,EAAUH,EAAU5/F,GACxB,GAAI+/F,EAAS,CACT,IAAIC,EAASZ,EAASp/F,GAAUnO,cAEhCiuG,EAAW1lG,KAAKxN,GAAc,GAAmB,CAAE/H,IAAKm7G,EAAQrD,QAASyC,EAASp/F,GAAWspC,WAAYA,KACzGy2D,EAAUr4D,GAAcq4D,EAAS97G,EAAQmzC,YACzC,IAAK,IAAIlP,EAAK,EAAG+3E,EAAYF,EAAS73E,EAAK+3E,EAAUl7G,OAAQmjC,IAAM,CAC/D,IAAImf,EAAM44D,EAAU/3E,GACpB43E,EAAW1lG,KAAKxN,GAAc,GAAkB0qB,EAAS,CAAEzyB,IAAKm7G,EAAS,IAAM34D,EAAIW,WAAW55B,SAAS+Y,WAAsDkgB,IAAKA,EAAK4C,YAAY,EAAOC,YAAY,EAAOitC,iBAAiB,EAAOhtC,YAAY,GAASd,GAAWhC,EAAKiC,EAAYC,QAIlS,OAAQ38C,GAAc,QAAS,CAAEJ,UAAW,iBAAmBmxD,EAAMC,SAAS,UAC1EhxD,GAAc,QAAS,KAAMkzG,QAGzCf,EAASvkG,UAAU0kG,kBAAoB,SAAUt1E,EAAYqc,EAAc62D,GACvE,OAAOt4G,KAAK07G,kBAAkBl6D,GAAgBpc,EAAYqc,EAAczhD,KAAKV,MAAM4pD,YAAYC,YAAanpD,KAAKsrB,QAAQ7rB,QAAQ8vC,kBAAkBmT,GAAI41D,IAE3JiC,EAASvkG,UAAU0lG,kBAAoB,SAAU3yB,EAAauvB,GAE1D,IADA,IAAIn1D,EAAO,GACFzf,EAAK,EAAGslD,EAAgBD,EAAarlD,EAAKslD,EAAczoF,OAAQmjC,IAAM,CAC3E,IAAI8f,EAAawlC,EAActlD,GAC/Byf,EAAKvtC,KAAKlO,MAAMy7C,EAAMnjD,KAAK27G,iBAAiBn4D,EAAY80D,IAE5D,OAAOn1D,GAEXo3D,EAASvkG,UAAU2lG,iBAAmB,SAAUn4D,EAAY80D,GACxD,IAII98F,EACAwpC,EACAnC,EANAhe,EAAU7kC,KAAKsrB,QAAQuZ,QACvB0K,EAAmBvvC,KAAKsrB,QAAQ7rB,QAAQ8vC,iBACxChpB,EAAQi9B,EAAWj9B,MACnBwe,EAASye,EAAW/d,IAAIV,OAIxBoe,EAAO,GACX,IAAK3nC,EAAW,EAAGA,EAAW88F,EAAU/3G,OAAQib,GAAY,EAExD,GADAwpC,EAAWjE,GAAgBx6B,EAAO+xF,EAAU98F,IACxCwpC,IACAnC,EAAM,CACF3I,UAAWl6C,KACXwjD,WAAYA,EACZzd,MAAOif,EAASjf,MAChBC,IAAKgf,EAAShf,IACdoc,QAASoB,EAAWpB,SAAW4C,EAASjf,MAAMhG,YAAcxZ,EAAMwf,MAAMhG,UACxEsiB,MAAOmB,EAAWnB,OAAS2C,EAAShf,IAAIjG,YAAcxZ,EAAMyf,IAAIjG,UAChEvkB,SAAUA,GAEd2nC,EAAKvtC,KAAKitC,IAGLA,EAAIR,QAAUtd,GACfvpB,EAAW,EAAI88F,EAAU/3G,QACzBgmB,EAAMyf,IACFnB,EAAQ38B,IAAIowG,EAAU98F,EAAW,GAAGuqB,MAAOwJ,IAAmB,CAClEsT,EAAI7c,IAAMzf,EAAMyf,IAChB6c,EAAIR,OAAQ,EACZ,MAIZ,OAAOc,GAEJo3D,EA/GkB,CAgH3B,IACF,SAASU,GAAoB9zC,GACzB,OAAOA,EAAUzmE,KAErB,SAAS85G,GAAgBtxD,GACrB,IAAIrnB,EAAWxB,GAAW6oB,EAAYmiB,YAAYtlC,OAC9C61E,EAAU1yD,EAAYmiB,YAAYrlC,IAClC40E,EAAW,GACXtC,EAAY,GAChB,MAAOz2E,EAAW+5E,EACdhB,EAAShlG,KAAKisB,GACdy2E,EAAU1iG,KAAK,CACXmwB,MAAOlE,EACPmE,IAAKvG,GAAQoC,EAAU,KAE3BA,EAAWpC,GAAQoC,EAAU,GAEjC,MAAO,CAAE+4E,SAAUA,EAAUtC,UAAWA,GAG5C,SAAS+C,GAAel4D,GACpB,IACI32C,EACAq2C,EAFAu4D,EAAY,GAGhB,IAAK5uG,EAAI,EAAGA,EAAI22C,EAAK5iD,OAAQiM,GAAK,EAC9Bq2C,EAAMM,EAAK32C,IACV4uG,EAAUv4D,EAAIrnC,YAAc4/F,EAAUv4D,EAAIrnC,UAAY,KAClD5F,KAAKitC,GAEd,OAAOu4D,EAGX,IAAI,GAAkB,CAClBtB,cAAe+B,GACf7B,kBAAmB6B,GACnBd,mBAAoB7rE,GACpB8rE,gBAAiB9rE,GACjBgsE,iBAAkBhsE,GAClBisE,oBAAqBjsE,IAGzB,SAAS2sE,GAAwB7pG,GAC7B,OAAiB,IAAVA,EAAkB,KAAO+8B,GAAgB/8B,GAGpD,IAAI,GAAOuxD,GAAa,CACpBsB,eAAgB,GAChBlrB,MAAO,CACHyZ,KAAM,CACFlZ,UAAW,GACXC,cAAe,OACf2/D,cAAe,CAAEhtG,MAAO,OAAQ9B,IAAK,UAAWkB,KAAM,YAE1D4vG,QAAS,CACLtyG,KAAM,OACN8G,SAAU,CAAEmD,KAAM,GAClBqmG,cAAe,CAAE7vE,QAAS,SAE9B8xE,SAAU,CACNvyG,KAAM,OACN8G,SAAU,CAAE22B,MAAO,GACnB6yE,cAAe,CAAE7vE,QAAS,QAC1B+vE,kBAAmB,CAAEltG,MAAO,OAAQ9B,IAAK,UAAWkB,KAAM,YAE9D8vG,UAAW,CACPxyG,KAAM,OACN8G,SAAU,CAAExD,MAAO,GACnBktG,kBAAmB,CAAE/vE,QAAS,SAElCgyE,SAAU,CACNzyG,KAAM,OACN8G,SAAU,CAAEpE,KAAM,GAClB8tG,kBAAmB,CAAE/vE,QAAS,YAK3B;;;;;;AC1Sft8B,GAAOuuG,qBAAuB,IAC9B,IAAIC,GAAmB,EACnBC,GAAc,EACdC,IAA6B,EAc7B,GAAiC,WACjC,SAASC,EAAgBC,GACrB,IAAIx7G,EAAQf,KACZA,KAAKw8G,UAAY,KAEjBx8G,KAAK8oB,SAAW,GAChB9oB,KAAKy8G,eAAiB,GACtBz8G,KAAK08G,kBAAmB,EACxB18G,KAAK28G,mBAAoB,EAEzB38G,KAAKylD,YAAa,EAClBzlD,KAAK48G,iBAAkB,EACvB58G,KAAK68G,gBAAiB,EAGtB78G,KAAK88G,gBAAkB,SAAUtnG,GAC7B,IAAKzU,EAAMg8G,qBACPC,GAAqBxnG,IACrBzU,EAAMk8G,SAASznG,GAAK,CACpB,IAAI2xC,EAAMpmD,EAAMm8G,qBAAqB1nG,GAAI,GACzCzU,EAAMqmD,QAAQC,QAAQ,cAAeF,GACrCpmD,EAAMo8G,gBAAgBh2D,GACjBpmD,EAAM27G,kBACPl0G,SAASkN,iBAAiB,YAAa3U,EAAMq8G,iBAEjD50G,SAASkN,iBAAiB,UAAW3U,EAAMs8G,iBAGnDr9G,KAAKo9G,gBAAkB,SAAU5nG,GAC7B,IAAI2xC,EAAMpmD,EAAMm8G,qBAAqB1nG,GACrCzU,EAAMu8G,aAAan2D,GACnBpmD,EAAMqmD,QAAQC,QAAQ,cAAeF,IAEzCnnD,KAAKq9G,cAAgB,SAAU7nG,GAC3BhN,SAASqN,oBAAoB,YAAa9U,EAAMq8G,iBAChD50G,SAASqN,oBAAoB,UAAW9U,EAAMs8G,eAC9Ct8G,EAAMqmD,QAAQC,QAAQ,YAAatmD,EAAMm8G,qBAAqB1nG,IAC9DzU,EAAMw8G,WAIVv9G,KAAKw9G,iBAAmB,SAAUhoG,GAC9B,GAAIzU,EAAMk8G,SAASznG,GAAK,CACpBzU,EAAM67G,iBAAkB,EACxB,IAAIz1D,EAAMpmD,EAAM08G,qBAAqBjoG,GAAI,GACzCzU,EAAMqmD,QAAQC,QAAQ,cAAeF,GACrCpmD,EAAMo8G,gBAAgBh2D,GAGtB,IAAIu2D,EAAWloG,EAAGxL,OACbjJ,EAAM27G,kBACPgB,EAAShoG,iBAAiB,YAAa3U,EAAM48G,iBAEjDD,EAAShoG,iBAAiB,WAAY3U,EAAM68G,gBAC5CF,EAAShoG,iBAAiB,cAAe3U,EAAM68G,gBAI/Cj8G,OAAO+T,iBAAiB,SAAU3U,EAAM88G,mBAAmB,KAGnE79G,KAAK29G,gBAAkB,SAAUnoG,GAC7B,IAAI2xC,EAAMpmD,EAAM08G,qBAAqBjoG,GACrCzU,EAAMu8G,aAAan2D,GACnBpmD,EAAMqmD,QAAQC,QAAQ,cAAeF,IAEzCnnD,KAAK49G,eAAiB,SAAUpoG,GAC5B,GAAIzU,EAAM0kD,WAAY,CAClB,IAAIi4D,EAAWloG,EAAGxL,OAClB0zG,EAAS7nG,oBAAoB,YAAa9U,EAAM48G,iBAChDD,EAAS7nG,oBAAoB,WAAY9U,EAAM68G,gBAC/CF,EAAS7nG,oBAAoB,cAAe9U,EAAM68G,gBAClDj8G,OAAOkU,oBAAoB,SAAU9U,EAAM88G,mBAAmB,GAC9D98G,EAAMqmD,QAAQC,QAAQ,YAAatmD,EAAM08G,qBAAqBjoG,IAC9DzU,EAAMw8G,UACNx8G,EAAM67G,iBAAkB,EACxBkB,OAGR99G,KAAK69G,kBAAoB,WACrB98G,EAAM87G,gBAAiB,GAE3B78G,KAAK+9G,aAAe,SAAUvoG,GAC1B,IAAKzU,EAAM27G,iBAAkB,CACzB,IAAIsB,EAASr8G,OAAO8iB,YAAc1jB,EAAMk9G,YAAel9G,EAAMm9G,UACzDC,EAASx8G,OAAO4iB,YAAcxjB,EAAMq9G,YAAer9G,EAAMs9G,UAC7Dt9G,EAAMqmD,QAAQC,QAAQ,cAAe,CACjCG,UAAWhyC,EACX8oG,QAASv9G,EAAM67G,gBACfJ,UAAWz7G,EAAMy7G,UACjBwB,MAAOA,EACPG,MAAOA,EACPI,OAAQP,EAAQj9G,EAAMy9G,UACtBC,OAAQN,EAAQp9G,EAAM29G,cAIlC1+G,KAAKu8G,YAAcA,EACnBv8G,KAAKonD,QAAU,IAAIgV,GACnBmgD,EAAY7mG,iBAAiB,YAAa1V,KAAK88G,iBAC/CP,EAAY7mG,iBAAiB,aAAc1V,KAAKw9G,iBAAkB,CAAEmB,SAAS,IAC7EC,KAyHJ,OAvHAtC,EAAgBtmG,UAAUsI,QAAU,WAChCte,KAAKu8G,YAAY1mG,oBAAoB,YAAa7V,KAAK88G,iBACvD98G,KAAKu8G,YAAY1mG,oBAAoB,aAAc7V,KAAKw9G,iBAAkB,CAAEmB,SAAS,IACrFE,MAEJvC,EAAgBtmG,UAAUinG,SAAW,SAAUznG,GAC3C,IAAIgnG,EAAYx8G,KAAK8+G,eAAetpG,GAChCupG,EAASvpG,EAAGxL,OAChB,SAAIwyG,GACEx8G,KAAKy8G,iBAAkBxhF,GAAe8jF,EAAQ/+G,KAAKy8G,mBACrDz8G,KAAKw8G,UAAYA,EACjBx8G,KAAKylD,YAAa,EAClBzlD,KAAK68G,gBAAiB,GACf,IAIfP,EAAgBtmG,UAAUunG,QAAU,WAChClB,IAA6B,EAC7Br8G,KAAKylD,YAAa,EAClBzlD,KAAKw8G,UAAY,KAEjBx8G,KAAKg/G,sBAET1C,EAAgBtmG,UAAU8oG,eAAiB,SAAUtpG,GACjD,OAAIxV,KAAK8oB,SACEmS,GAAezlB,EAAGxL,OAAQhK,KAAK8oB,UAEnC9oB,KAAKu8G,aAEhBD,EAAgBtmG,UAAU+mG,kBAAoB,WAC1C,OAAOZ,IAAoBn8G,KAAK48G,iBAGpCN,EAAgBtmG,UAAUipG,kBAAoB,WACtCj/G,KAAKylD,aACL42D,IAA6B,IAKrCC,EAAgBtmG,UAAUmnG,gBAAkB,SAAU3nG,GAC9CxV,KAAK28G,oBACL38G,KAAKs9G,aAAa9nG,GAClB7T,OAAO+T,iBAAiB,SAAU1V,KAAK+9G,cAAc,KAG7DzB,EAAgBtmG,UAAUsnG,aAAe,SAAU9nG,GAC3CxV,KAAK28G,oBACL38G,KAAKk+G,UAAY1oG,EAAGwoG,MACpBh+G,KAAKq+G,UAAY7oG,EAAG2oG,MACpBn+G,KAAKi+G,YAAct8G,OAAO8iB,YAC1BzkB,KAAKo+G,YAAcz8G,OAAO4iB,cAGlC+3F,EAAgBtmG,UAAUgpG,mBAAqB,WACvCh/G,KAAK28G,mBACLh7G,OAAOkU,oBAAoB,SAAU7V,KAAK+9G,cAAc,IAKhEzB,EAAgBtmG,UAAUknG,qBAAuB,SAAU1nG,EAAI0pG,GAC3D,IAAIX,EAAS,EACTE,EAAS,EAUb,OARIS,GACAl/G,KAAKw+G,UAAYhpG,EAAGwoG,MACpBh+G,KAAK0+G,UAAYlpG,EAAG2oG,QAGpBI,EAAS/oG,EAAGwoG,MAAQh+G,KAAKw+G,UACzBC,EAASjpG,EAAG2oG,MAAQn+G,KAAK0+G,WAEtB,CACHl3D,UAAWhyC,EACX8oG,SAAS,EACT9B,UAAWx8G,KAAKw8G,UAChBwB,MAAOxoG,EAAGwoG,MACVG,MAAO3oG,EAAG2oG,MACVI,OAAQA,EACRE,OAAQA,IAGhBnC,EAAgBtmG,UAAUynG,qBAAuB,SAAUjoG,EAAI0pG,GAC3D,IACIlB,EACAG,EAFAgB,EAAU3pG,EAAG2pG,QAGbZ,EAAS,EACTE,EAAS,EAoBb,OAjBIU,GAAWA,EAAQ5+G,QACnBy9G,EAAQmB,EAAQ,GAAGnB,MACnBG,EAAQgB,EAAQ,GAAGhB,QAGnBH,EAAQxoG,EAAGwoG,MACXG,EAAQ3oG,EAAG2oG,OAGXe,GACAl/G,KAAKw+G,UAAYR,EACjBh+G,KAAK0+G,UAAYP,IAGjBI,EAASP,EAAQh+G,KAAKw+G,UACtBC,EAASN,EAAQn+G,KAAK0+G,WAEnB,CACHl3D,UAAWhyC,EACX8oG,SAAS,EACT9B,UAAWx8G,KAAKw8G,UAChBwB,MAAOA,EACPG,MAAOA,EACPI,OAAQA,EACRE,OAAQA,IAGTnC,EA9NyB,GAiOpC,SAASU,GAAqBxnG,GAC1B,OAAqB,IAAdA,EAAGqxD,SAAiBrxD,EAAG2K,QAIlC,SAAS29F,KACL3B,IAAoB,EACpB10G,YAAW,WACP00G,IAAoB,IACrBxuG,GAAOuuG,sBAId,SAAS0C,KACLxC,IAAe,EACK,IAAhBA,IACAz6G,OAAO+T,iBAAiB,YAAa0pG,GAAmB,CAAET,SAAS,IAG3E,SAASE,KACLzC,IAAe,EACVA,IACDz6G,OAAOkU,oBAAoB,YAAaupG,GAAmB,CAAET,SAAS,IAG9E,SAASS,GAAkB5pG,GACnB6mG,IACA7mG,EAAGyK,iBASX,IAAI,GAA+B,WAC/B,SAASo/F,IACLr/G,KAAKwmG,WAAY,EACjBxmG,KAAKs/G,SAAW,KAChBt/G,KAAKu/G,SAAW,KAChBv/G,KAAKw/G,aAAe,KAEpBx/G,KAAKgJ,WAAaR,SAAS+N,KAC3BvW,KAAKu/F,OAAS,KACdv/F,KAAKy/G,eAAiB,EA2G1B,OAzGAJ,EAAcrpG,UAAU+vB,MAAQ,SAAUu5E,EAAUtB,EAAOG,GACvDn+G,KAAKs/G,SAAWA,EAChBt/G,KAAKw/G,aAAex/G,KAAKs/G,SAASr7F,wBAClCjkB,KAAK0/G,YAAc1B,EAAQr8G,OAAO8iB,YAClCzkB,KAAK2/G,YAAcxB,EAAQx8G,OAAO4iB,YAClCvkB,KAAKu+G,OAAS,EACdv+G,KAAKy+G,OAAS,EACdz+G,KAAK4/G,oBAETP,EAAcrpG,UAAU6pG,WAAa,SAAU7B,EAAOG,GAClDn+G,KAAKu+G,OAAUP,EAAQr8G,OAAO8iB,YAAezkB,KAAK0/G,YAClD1/G,KAAKy+G,OAAUN,EAAQx8G,OAAO4iB,YAAevkB,KAAK2/G,YAClD3/G,KAAK4/G,oBAGTP,EAAcrpG,UAAU8pG,aAAe,SAAU34G,GACzCA,EACKnH,KAAKwmG,YACFxmG,KAAKu/G,WACLv/G,KAAKu/G,SAASnsG,MAAME,QAAU,IAElCtT,KAAKwmG,UAAYr/F,EACjBnH,KAAK4/G,oBAGJ5/G,KAAKwmG,YACNxmG,KAAKu/G,WACLv/G,KAAKu/G,SAASnsG,MAAME,QAAU,QAElCtT,KAAKwmG,UAAYr/F,IAIzBk4G,EAAcrpG,UAAUgV,KAAO,SAAU+0F,EAAsBt1F,GAC3D,IAAI1pB,EAAQf,KACRggH,EAAO,WACPj/G,EAAMw8G,UACN9yF,KAEAs1F,GACA//G,KAAKu/G,UACLv/G,KAAKwmG,WACLxmG,KAAKy/G,iBACJz/G,KAAKu+G,QAAUv+G,KAAKy+G,QAErBz+G,KAAKigH,kBAAkBD,EAAMhgH,KAAKy/G,gBAGlCh4G,WAAWu4G,EAAM,IAGzBX,EAAcrpG,UAAUiqG,kBAAoB,SAAUx1F,EAAUg1F,GAC5D,IAAIF,EAAWv/G,KAAKu/G,SAChBW,EAAoBlgH,KAAKs/G,SAASr7F,wBACtCs7F,EAASnsG,MAAM+sG,WACX,OAASV,EAAT,WACcA,EAAiB,KACnC3jF,GAAWyjF,EAAU,CACjB/6F,KAAM07F,EAAkB17F,KACxBF,IAAK47F,EAAkB57F,MAE3B4Y,GAAmBqiF,GAAU,WACzBA,EAASnsG,MAAM+sG,WAAa,GAC5B11F,QAGR40F,EAAcrpG,UAAUunG,QAAU,WAC1Bv9G,KAAKu/G,WACLvkF,GAAch7B,KAAKu/G,UACnBv/G,KAAKu/G,SAAW,MAEpBv/G,KAAKs/G,SAAW,MAEpBD,EAAcrpG,UAAU4pG,iBAAmB,WACnC5/G,KAAKs/G,UAAYt/G,KAAKwmG,WACtB1qE,GAAW97B,KAAKogH,cAAe,CAC3B57F,KAAMxkB,KAAKw/G,aAAah7F,KAAOxkB,KAAKu+G,OACpCj6F,IAAKtkB,KAAKw/G,aAAal7F,IAAMtkB,KAAKy+G,UAI9CY,EAAcrpG,UAAUoqG,YAAc,WAClC,IAAIZ,EAAex/G,KAAKw/G,aACpBD,EAAWv/G,KAAKu/G,SAoBpB,OAnBKA,IACDA,EAAWv/G,KAAKu/G,SAAWv/G,KAAKs/G,SAASe,WAAU,GAGnDd,EAASt3G,UAAUC,IAAI,mBACvBq3G,EAASt3G,UAAUC,IAAI,qBACvB4zB,GAAWyjF,EAAU,CACjBn6G,SAAU,QACVm6F,OAAQv/F,KAAKu/F,OACblsF,WAAY,GACZitG,UAAW,aACX3sG,MAAO6rG,EAAa56F,MAAQ46F,EAAah7F,KACzCwJ,OAAQwxF,EAAap7F,OAASo7F,EAAal7F,IAC3CM,MAAO,OACPR,OAAQ,OACRsG,OAAQ,IAEZ1qB,KAAKgJ,WAAWW,YAAY41G,IAEzBA,GAEJF,EApHuB,GA+H9B,GAAiC,SAAUvlF,GAE3C,SAASymF,EAAgBC,EAAkBC,GACvC,IAAI1/G,EAAQ+4B,EAAO7jB,KAAKjW,OAASA,KAkBjC,OAjBAe,EAAMg9G,aAAe,WACjBh9G,EAAMs+D,UAAYt+D,EAAMy/G,iBAAiBzhD,eACzCh+D,EAAMu+D,WAAav+D,EAAMy/G,iBAAiBthD,gBAC1Cn+D,EAAM2/G,sBAEV3/G,EAAMy/G,iBAAmBA,EACzBz/G,EAAM0/G,cAAgBA,EACtB1/G,EAAMs+D,UAAYt+D,EAAM4/G,cAAgBH,EAAiBzhD,eACzDh+D,EAAMu+D,WAAav+D,EAAM6/G,eAAiBJ,EAAiBthD,gBAC3Dn+D,EAAM0+D,YAAc+gD,EAAiB9hD,iBACrC39D,EAAMkvB,aAAeuwF,EAAiBjiD,kBACtCx9D,EAAMk5D,YAAcumD,EAAiB7hD,iBACrC59D,EAAMi5D,aAAewmD,EAAiBhiD,kBACtCz9D,EAAM8/G,WAAa9/G,EAAM+/G,oBACrB//G,EAAM0/G,eACN1/G,EAAM6I,iBAAiB8L,iBAAiB,SAAU3U,EAAMg9G,cAErDh9G,EA6CX,OAjEA2xB,EAAU6tF,EAAiBzmF,GAsB3BymF,EAAgBvqG,UAAUsI,QAAU,WAC5Bte,KAAKygH,eACLzgH,KAAK4J,iBAAiBiM,oBAAoB,SAAU7V,KAAK+9G,eAGjEwC,EAAgBvqG,UAAU+oD,aAAe,WACrC,OAAO/+D,KAAKq/D,WAEhBkhD,EAAgBvqG,UAAUkpD,cAAgB,WACtC,OAAOl/D,KAAKs/D,YAEhBihD,EAAgBvqG,UAAUupD,aAAe,SAAUj7C,GAC/CtkB,KAAKwgH,iBAAiBjhD,aAAaj7C,GAC9BtkB,KAAKygH,gBAGNzgH,KAAKq/D,UAAY17D,KAAK0M,IAAI1M,KAAKyM,IAAIkU,EAAKtkB,KAAKs+D,mBAAoB,GACjEt+D,KAAK0gH,uBAGbH,EAAgBvqG,UAAUwpD,cAAgB,SAAUl7C,GAChDtkB,KAAKwgH,iBAAiBhhD,cAAcl7C,GAC/BtkB,KAAKygH,gBAGNzgH,KAAKs/D,WAAa37D,KAAK0M,IAAI1M,KAAKyM,IAAIkU,EAAKtkB,KAAKy+D,oBAAqB,GACnEz+D,KAAK0gH,uBAGbH,EAAgBvqG,UAAU2oD,eAAiB,WACvC,OAAO3+D,KAAKi6D,aAEhBsmD,EAAgBvqG,UAAUwoD,gBAAkB,WACxC,OAAOx+D,KAAKg6D,cAEhBumD,EAAgBvqG,UAAU0oD,eAAiB,WACvC,OAAO1+D,KAAKy/D,aAEhB8gD,EAAgBvqG,UAAUuoD,gBAAkB,WACxC,OAAOv+D,KAAKiwB,cAEhBswF,EAAgBvqG,UAAU0qG,mBAAqB,aAExCH,EAlEyB,CAmElCliD,IAEE,GAAwC,SAAUvkC,GAElD,SAASinF,EAAuBtrG,EAAIgrG,GAChC,OAAO3mF,EAAO7jB,KAAKjW,KAAM,IAAI,GAAwByV,GAAKgrG,IAAkBzgH,KAQhF,OAVA0yB,EAAUquF,EAAwBjnF,GAIlCinF,EAAuB/qG,UAAUpM,eAAiB,WAC9C,OAAO5J,KAAKwgH,iBAAiB/qG,IAEjCsrG,EAAuB/qG,UAAU8qG,kBAAoB,WACjD,OAAO5lD,GAAiBl7D,KAAKwgH,iBAAiB/qG,KAE3CsrG,EAXgC,CAYzC,IAEE,GAAuC,SAAUjnF,GAEjD,SAASknF,EAAsBP,GAC3B,OAAO3mF,EAAO7jB,KAAKjW,KAAM,IAAI,GAA0BygH,IAAkBzgH,KAkB7E,OApBA0yB,EAAUsuF,EAAuBlnF,GAIjCknF,EAAsBhrG,UAAUpM,eAAiB,WAC7C,OAAOjI,QAEXq/G,EAAsBhrG,UAAU8qG,kBAAoB,WAChD,MAAO,CACHt8F,KAAMxkB,KAAKs/D,WACX16C,MAAO5kB,KAAKs/D,WAAat/D,KAAKi6D,YAC9B31C,IAAKtkB,KAAKq/D,UACVj7C,OAAQpkB,KAAKq/D,UAAYr/D,KAAKg6D,eAKtCgnD,EAAsBhrG,UAAU0qG,mBAAqB,WACjD1gH,KAAK6gH,WAAa7gH,KAAK8gH,qBAEpBE,EArB+B,CAsBxC,IAKE59G,GAAiC,oBAAhB69G,YAA6BA,YAAY38G,IAAMnB,KAAKmB,IAOrE,GAA8B,WAC9B,SAAS48G,IACL,IAAIngH,EAAQf,KAEZA,KAAKmZ,WAAY,EACjBnZ,KAAKmhH,YAAc,CAACx/G,OAAQ,gBAC5B3B,KAAKohH,cAAgB,GACrBphH,KAAKqhH,YAAc,IAEnBrhH,KAAKshH,eAAiB,KACtBthH,KAAKuhH,eAAiB,KACtBvhH,KAAKwhH,aAAc,EACnBxhH,KAAKyhH,aAAe,KAEpBzhH,KAAK0hH,aAAc,EACnB1hH,KAAK2hH,eAAgB,EACrB3hH,KAAK4hH,eAAgB,EACrB5hH,KAAK6hH,gBAAiB,EACtB7hH,KAAK0B,QAAU,WACX,GAAIX,EAAMygH,YAAa,CACnB,IAAIM,EAAO/gH,EAAMghH,gBAAgBhhH,EAAMugH,eAAiB3/G,OAAO8iB,YAAa1jB,EAAMwgH,eAAiB5/G,OAAO4iB,aAC1G,GAAIu9F,EAAM,CACN,IAAIx9G,EAAMlB,KACVrC,EAAMihH,WAAWF,GAAOx9G,EAAMvD,EAAMkhH,gBAAkB,KACtDlhH,EAAMmhH,iBAAiB59G,QAGvBvD,EAAMygH,aAAc,IAsIpC,OAjIAN,EAAalrG,UAAU+vB,MAAQ,SAAUi4E,EAAOG,EAAOgE,GAC/CniH,KAAKmZ,YACLnZ,KAAKyhH,aAAezhH,KAAKoiH,YAAYD,GACrCniH,KAAKshH,eAAiB,KACtBthH,KAAKuhH,eAAiB,KACtBvhH,KAAK0hH,aAAc,EACnB1hH,KAAK2hH,eAAgB,EACrB3hH,KAAK4hH,eAAgB,EACrB5hH,KAAK6hH,gBAAiB,EACtB7hH,KAAK6/G,WAAW7B,EAAOG,KAG/B+C,EAAalrG,UAAU6pG,WAAa,SAAU7B,EAAOG,GACjD,GAAIn+G,KAAKmZ,UAAW,CAChB,IAAImoG,EAAiBtD,EAAQr8G,OAAO8iB,YAChC88F,EAAiBpD,EAAQx8G,OAAO4iB,YAChC89F,EAAiC,OAAxBriH,KAAKuhH,eAA0B,EAAIA,EAAiBvhH,KAAKuhH,eAClEe,EAAiC,OAAxBtiH,KAAKshH,eAA0B,EAAIA,EAAiBthH,KAAKshH,eAClEe,EAAS,EACTriH,KAAK0hH,aAAc,EAEdW,EAAS,IACdriH,KAAK2hH,eAAgB,GAErBW,EAAS,EACTtiH,KAAK4hH,eAAgB,EAEhBU,EAAS,IACdtiH,KAAK6hH,gBAAiB,GAE1B7hH,KAAKshH,eAAiBA,EACtBthH,KAAKuhH,eAAiBA,EACjBvhH,KAAKwhH,cACNxhH,KAAKwhH,aAAc,EACnBxhH,KAAKkiH,iBAAiB9+G,SAIlC89G,EAAalrG,UAAUgV,KAAO,WAC1B,GAAIhrB,KAAKmZ,UAAW,CAChBnZ,KAAKwhH,aAAc,EACnB,IAAK,IAAI99E,EAAK,EAAGrkB,EAAKrf,KAAKyhH,aAAc/9E,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAC3D,IAAI6+E,EAAcljG,EAAGqkB,GACrB6+E,EAAYjkG,UAEhBte,KAAKyhH,aAAe,OAG5BP,EAAalrG,UAAUksG,iBAAmB,SAAU59G,GAChDtE,KAAKiiH,eAAiB39G,EACtB4O,sBAAsBlT,KAAK0B,UAE/Bw/G,EAAalrG,UAAUgsG,WAAa,SAAUF,EAAMt2G,GAChD,IAAI+2G,EAAcT,EAAKS,YACnBnB,EAAgBphH,KAAKohH,cACrBoB,EAAcpB,EAAgBU,EAAKW,SACnCC,EACDF,EAAcA,GAAgBpB,EAAgBA,GAC7CphH,KAAKqhH,YAAc71G,EACnBo7B,EAAO,EACX,OAAQk7E,EAAK5gH,MACT,IAAK,OACD0lC,GAAQ,EAEZ,IAAK,QACD27E,EAAY/iD,cAAc+iD,EAAYrjD,gBAAkBwjD,EAAW97E,GACnE,MACJ,IAAK,MACDA,GAAQ,EAEZ,IAAK,SACD27E,EAAYhjD,aAAagjD,EAAYxjD,eAAiB2jD,EAAW97E,GACjE,QAIZs6E,EAAalrG,UAAU+rG,gBAAkB,SAAUv9F,EAAMF,GAGrD,IAFA,IAAI88F,EAAgBphH,KAAKohH,cACrBuB,EAAW,KACNj/E,EAAK,EAAGrkB,EAAKrf,KAAKyhH,aAAc/9E,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAC3D,IAAI6+E,EAAcljG,EAAGqkB,GACjBuxB,EAAOstD,EAAY1B,WACnB+B,EAAWp+F,EAAOywC,EAAKzwC,KACvBq+F,EAAY5tD,EAAKrwC,MAAQJ,EACzBs+F,EAAUx+F,EAAM2wC,EAAK3wC,IACrBy+F,EAAa9tD,EAAK7wC,OAASE,EAE3Bs+F,GAAY,GAAKC,GAAa,GAAKC,GAAW,GAAKC,GAAc,IAC7DD,GAAW1B,GAAiBphH,KAAK0hH,aAAea,EAAYzjD,iBAC1D6jD,GAAYA,EAASF,SAAWK,KAClCH,EAAW,CAAEJ,YAAaA,EAAarhH,KAAM,MAAOuhH,SAAUK,IAE9DC,GAAc3B,GAAiBphH,KAAK2hH,eAAiBY,EAAYvjD,mBAC/D2jD,GAAYA,EAASF,SAAWM,KAClCJ,EAAW,CAAEJ,YAAaA,EAAarhH,KAAM,SAAUuhH,SAAUM,IAEjEH,GAAYxB,GAAiBphH,KAAK4hH,eAAiBW,EAAYtjD,mBAC7D0jD,GAAYA,EAASF,SAAWG,KAClCD,EAAW,CAAEJ,YAAaA,EAAarhH,KAAM,OAAQuhH,SAAUG,IAE/DC,GAAazB,GAAiBphH,KAAK6hH,gBAAkBU,EAAYpjD,oBAC/DwjD,GAAYA,EAASF,SAAWI,KAClCF,EAAW,CAAEJ,YAAaA,EAAarhH,KAAM,QAASuhH,SAAUI,KAI5E,OAAOF,GAEXzB,EAAalrG,UAAUosG,YAAc,SAAUD,GAC3C,OAAOniH,KAAKgjH,eAAeb,GAAenhH,KAAI,SAAUyU,GACpD,OAAIA,IAAO9T,OACA,IAAI,IAAsB,GAE9B,IAAI,GAAuB8T,GAAI,OAG9CyrG,EAAalrG,UAAUgtG,eAAiB,SAAUb,GAE9C,IADA,IAAIllD,EAAM,GACDv5B,EAAK,EAAGrkB,EAAKrf,KAAKmhH,YAAaz9E,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAC1D,IAAIu/E,EAAQ5jG,EAAGqkB,GACM,kBAAVu/E,EACPhmD,EAAIrnD,KAAKqtG,GAGThmD,EAAIrnD,KAAKlO,MAAMu1D,EAAKp1D,MAAMmO,UAAU9O,MAAM+O,KAAKkmB,GAAUgmF,GAAejsG,iBAAiB+sG,KAGjG,OAAOhmD,GAEJikD,EAjKsB,GA0K7B,GAA2C,SAAUpnF,GAErD,SAASopF,EAA0B3G,EAAazzF,GAC5C,IAAI/nB,EAAQ+4B,EAAO7jB,KAAKjW,KAAMu8G,IAAgBv8G,KAC9Ce,EAAMw7G,YAAcA,EAGpBx7G,EAAMw0E,MAAQ,KACdx0E,EAAMoiH,YAAc,EACpBpiH,EAAMqiH,oBAAqB,EAC3BriH,EAAMsiH,mBAAoB,EAC1BtiH,EAAMuiH,eAAgB,EACtBviH,EAAM0kD,YAAa,EACnB1kD,EAAMwiH,cAAe,EACrBxiH,EAAMyiH,qBAAsB,EAC5BziH,EAAM0iH,eAAiB,KACvB1iH,EAAM2iH,cAAgB,SAAUluG,GACvBzU,EAAM0kD,aACP1kD,EAAMuiH,eAAgB,EACtBviH,EAAMwiH,cAAe,EACrBxiH,EAAMyiH,qBAAsB,EAC5B/lF,GAAiBj1B,SAAS+N,MAC1BonB,GAAmBn1B,SAAS+N,MAIvBf,EAAG8oG,SACJ9oG,EAAGgyC,UAAUvnC,iBAEjBlf,EAAMqmD,QAAQC,QAAQ,cAAe7xC,GACjCzU,EAAMuiH,gBACLviH,EAAM4iH,QAAQjH,mBAEf37G,EAAM6iH,OAAO9D,cAAa,GAC1B/+G,EAAM6iH,OAAO79E,MAAMvwB,EAAGgnG,UAAWhnG,EAAGwoG,MAAOxoG,EAAG2oG,OAC9Cp9G,EAAM8iH,WAAWruG,GACZzU,EAAMoiH,aACPpiH,EAAM+iH,wBAAwBtuG,MAK9CzU,EAAMgjH,cAAgB,SAAUvuG,GAC5B,GAAIzU,EAAMuiH,cAAe,CAErB,GADAviH,EAAMqmD,QAAQC,QAAQ,cAAe7xC,IAChCzU,EAAMyiH,oBAAqB,CAC5B,IAAIL,EAAcpiH,EAAMoiH,YACpBa,OAAa,EACbzF,EAAS/oG,EAAG+oG,OAAQE,EAASjpG,EAAGipG,OACpCuF,EAAazF,EAASA,EAASE,EAASA,EACpCuF,GAAcb,EAAcA,GAC5BpiH,EAAM+iH,wBAAwBtuG,GAGlCzU,EAAM0kD,aAEoB,WAAtBjwC,EAAGgyC,UAAUh+C,OACbzI,EAAM6iH,OAAO/D,WAAWrqG,EAAGwoG,MAAOxoG,EAAG2oG,OACrCp9G,EAAMkjH,aAAapE,WAAWrqG,EAAGwoG,MAAOxoG,EAAG2oG,QAE/Cp9G,EAAMqmD,QAAQC,QAAQ,WAAY7xC,MAI9CzU,EAAMmjH,YAAc,SAAU1uG,GACtBzU,EAAMuiH,gBACNviH,EAAMuiH,eAAgB,EACtB5lF,GAAel1B,SAAS+N,MACxBqnB,GAAiBp1B,SAAS+N,MAC1BxV,EAAMqmD,QAAQC,QAAQ,YAAa7xC,GAC/BzU,EAAM0kD,aACN1kD,EAAMkjH,aAAaj5F,OACnBjqB,EAAMojH,YAAY3uG,IAElBzU,EAAM0iH,iBACNj8G,aAAazG,EAAM0iH,gBACnB1iH,EAAM0iH,eAAiB,QAInC,IAAIE,EAAU5iH,EAAM4iH,QAAU,IAAI,GAAgBpH,GASlD,OARAoH,EAAQv8D,QAAQ52B,GAAG,cAAezvB,EAAM2iH,eACxCC,EAAQv8D,QAAQ52B,GAAG,cAAezvB,EAAMgjH,eACxCJ,EAAQv8D,QAAQ52B,GAAG,YAAazvB,EAAMmjH,aAClCp7F,IACA66F,EAAQ76F,SAAWA,GAEvB/nB,EAAM6iH,OAAS,IAAI,GACnB7iH,EAAMkjH,aAAe,IAAI,GAClBljH,EA+DX,OAvJA2xB,EAAUwwF,EAA2BppF,GA0FrCopF,EAA0BltG,UAAUsI,QAAU,WAC1Cte,KAAK2jH,QAAQrlG,UAGbte,KAAKkkH,YAAY,KAErBhB,EAA0BltG,UAAU6tG,WAAa,SAAUruG,GACvD,IAAIzU,EAAQf,KACc,kBAAfA,KAAKu1E,MACZv1E,KAAKyjH,eAAiBh8G,YAAW,WAC7B1G,EAAM0iH,eAAiB,KACvB1iH,EAAMqjH,eAAe5uG,KACtBxV,KAAKu1E,OAGRv1E,KAAKokH,eAAe5uG,IAG5B0tG,EAA0BltG,UAAUouG,eAAiB,SAAU5uG,GAC3DxV,KAAKujH,cAAe,EACpBvjH,KAAKqkH,aAAa7uG,IAEtB0tG,EAA0BltG,UAAU8tG,wBAA0B,SAAUtuG,GACpExV,KAAKwjH,qBAAsB,EAC3BxjH,KAAKqkH,aAAa7uG,IAEtB0tG,EAA0BltG,UAAUquG,aAAe,SAAU7uG,GACrDxV,KAAKujH,cAAgBvjH,KAAKwjH,sBACrBxjH,KAAK2jH,QAAQ9G,iBAAkB78G,KAAKojH,qBACrCpjH,KAAKylD,YAAa,EAClBzlD,KAAKqjH,mBAAoB,EACzBrjH,KAAKikH,aAAal+E,MAAMvwB,EAAGwoG,MAAOxoG,EAAG2oG,MAAOn+G,KAAKu8G,aACjDv8G,KAAKonD,QAAQC,QAAQ,YAAa7xC,IACF,IAA5BxV,KAAKojH,oBACLpjH,KAAK2jH,QAAQ1E,uBAK7BiE,EAA0BltG,UAAUmuG,YAAc,SAAU3uG,GAGxDxV,KAAK4jH,OAAO54F,KAAKhrB,KAAKqjH,kBAAmBrjH,KAAKskH,SAASrxG,KAAKjT,KAAMwV,KAEtE0tG,EAA0BltG,UAAUsuG,SAAW,SAAU9uG,GACrDxV,KAAKylD,YAAa,EAClBzlD,KAAKonD,QAAQC,QAAQ,UAAW7xC,IAGpC0tG,EAA0BltG,UAAUuuG,cAAgB,SAAUp9G,GAC1DnH,KAAK2jH,QAAQjH,iBAAmBv1G,GAEpC+7G,EAA0BltG,UAAU4oE,mBAAqB,SAAUz3E,GAC/DnH,KAAK4jH,OAAO9D,aAAa34G,IAE7B+7G,EAA0BltG,UAAU6oE,qBAAuB,SAAU13E,GACjEnH,KAAKqjH,kBAAoBl8G,GAE7B+7G,EAA0BltG,UAAU8oE,qBAAuB,SAAU33E,GACjEnH,KAAKikH,aAAa9qG,UAAYhS,GAE3B+7G,EAxJmC,CAyJ5CvkC,IAUE,GAA+B,WAC/B,SAAS6lC,EAAc/uG,GACnBzV,KAAKykH,SAAWnpD,GAAY7lD,GAE5BzV,KAAKyhH,aAAe/lD,GAAmBjmD,GAAIzU,KAAI,SAAU0jH,GAAY,OAAO,IAAI,GAAuBA,GAAU,MAmCrH,OAjCAF,EAAcxuG,UAAUsI,QAAU,WAC9B,IAAK,IAAIolB,EAAK,EAAGrkB,EAAKrf,KAAKyhH,aAAc/9E,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAC3D,IAAI6+E,EAAcljG,EAAGqkB,GACrB6+E,EAAYjkG,YAGpBkmG,EAAcxuG,UAAU2uG,YAAc,WAElC,IADA,IAAIngG,EAAOxkB,KAAKykH,SAASjgG,KAChBkf,EAAK,EAAGrkB,EAAKrf,KAAKyhH,aAAc/9E,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAC3D,IAAI6+E,EAAcljG,EAAGqkB,GACrBlf,GAAQ+9F,EAAY3B,eAAiB2B,EAAYrjD,gBAErD,OAAO16C,GAEXggG,EAAcxuG,UAAU4uG,WAAa,WAEjC,IADA,IAAItgG,EAAMtkB,KAAKykH,SAASngG,IACfof,EAAK,EAAGrkB,EAAKrf,KAAKyhH,aAAc/9E,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAC3D,IAAI6+E,EAAcljG,EAAGqkB,GACrBpf,GAAOi+F,EAAY5B,cAAgB4B,EAAYxjD,eAEnD,OAAOz6C,GAEXkgG,EAAcxuG,UAAU6uG,iBAAmB,SAAU7G,EAAOG,GAExD,IADA,IAAInpD,EAAQ,CAAExwC,KAAMw5F,EAAO15F,IAAK65F,GACvBz6E,EAAK,EAAGrkB,EAAKrf,KAAKyhH,aAAc/9E,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CAC3D,IAAI6+E,EAAcljG,EAAGqkB,GACrB,IAAKohF,GAAkBvC,EAAY34G,oBAC9BmrD,GAAgBC,EAAOutD,EAAY1B,YACpC,OAAO,EAGf,OAAO,GAEJ2D,EAvCuB,GA2ClC,SAASM,GAAkBn8G,GACvB,IAAIo8G,EAAUp8G,EAAKo8G,QACnB,MAAmB,SAAZA,GAAkC,SAAZA,EAgBjC,IAAI,GAA6B,WAC7B,SAASC,EAAYC,EAAUC,GAC3B,IAAInkH,EAAQf,KAEZA,KAAKmlH,kBAAmB,EACxBnlH,KAAKolH,gBAAiB,EACtBplH,KAAKqlH,WAAa,KAClBrlH,KAAKslH,UAAY,KACjBtlH,KAAKulH,SAAW,KAChBvlH,KAAKwlH,kBAAoB,SAAUhwG,GAC/B,IAAIyvG,EAAWlkH,EAAMkkH,SACrBlkH,EAAMskH,WAAa,KACnBtkH,EAAMukH,UAAY,KAClBvkH,EAAMwkH,SAAW,KACjBxkH,EAAMgiE,cACNhiE,EAAM0kH,kBAAkBjwG,GACpBzU,EAAMskH,aAAetkH,EAAMqkH,gBAC3BH,EAASV,eAAc,GAEvBxjH,EAAMqmD,QAAQC,QAAQ,cAAe7xC,IAGrCyvG,EAASV,eAAc,IAG/BvkH,KAAK0lH,gBAAkB,SAAUlwG,GAC7BzU,EAAMqmD,QAAQC,QAAQ,YAAa7xC,GACnCzU,EAAM8+G,WAAWrqG,GAAI,IAEzBxV,KAAK2lH,eAAiB,SAAUnwG,GAC5BzU,EAAMqmD,QAAQC,QAAQ,WAAY7xC,GAClCzU,EAAM8+G,WAAWrqG,IAErBxV,KAAK4lH,gBAAkB,SAAUpwG,GAC7BzU,EAAM8kH,cACN9kH,EAAMqmD,QAAQC,QAAQ,YAAa7xC,IAEvCxV,KAAK8lH,cAAgB,SAAUtwG,GACvBzU,EAAMukH,WACNvkH,EAAMqmD,QAAQC,QAAQ,YAAa,MAAM,EAAM7xC,GAEnDzU,EAAMwkH,SAAWxkH,EAAMukH,UACvBvkH,EAAMukH,UAAY,KAClBvkH,EAAMqmD,QAAQC,QAAQ,UAAW7xC,IAErCxV,KAAKklH,eAAiBA,EACtBD,EAAS79D,QAAQ52B,GAAG,cAAexwB,KAAKwlH,mBACxCP,EAAS79D,QAAQ52B,GAAG,YAAaxwB,KAAK0lH,iBACtCT,EAAS79D,QAAQ52B,GAAG,WAAYxwB,KAAK2lH,gBACrCV,EAAS79D,QAAQ52B,GAAG,YAAaxwB,KAAK4lH,iBACtCX,EAAS79D,QAAQ52B,GAAG,UAAWxwB,KAAK8lH,eACpC9lH,KAAKilH,SAAWA,EAChBjlH,KAAKonD,QAAU,IAAIgV,GAqFvB,OAjFA4oD,EAAYhvG,UAAUyvG,kBAAoB,SAAUjwG,GAChD,IAGIuwG,EAHAC,EAAY,CAAExhG,KAAMhP,EAAGwoG,MAAO15F,IAAK9O,EAAG2oG,OACtC8H,EAAgBD,EAChBxJ,EAAYhnG,EAAGgnG,UAEfA,aAAqB9zF,cACrBq9F,EAAczqD,GAAYkhD,GAC1ByJ,EAAgB5wD,GAAe4wD,EAAeF,IAElD,IAAIV,EAAarlH,KAAKqlH,WAAarlH,KAAKkmH,kBAAkBD,EAAczhG,KAAMyhG,EAAc3hG,KAC5F,GAAI+gG,EAAY,CACZ,GAAIrlH,KAAKmlH,kBAAoBY,EAAa,CACtC,IAAII,EAAoBjxD,GAAe6wD,EAAaV,EAAWpwD,MAC3DkxD,IACAF,EAAgB3wD,GAAc6wD,IAGtCnmH,KAAKomH,YAAc7wD,GAAW0wD,EAAeD,QAG7ChmH,KAAKomH,YAAc,CAAE5hG,KAAM,EAAGF,IAAK,IAG3C0gG,EAAYhvG,UAAU6pG,WAAa,SAAUrqG,EAAI6wG,GAC7C,IAAIC,EAAMtmH,KAAKkmH,kBAAkB1wG,EAAGwoG,MAAQh+G,KAAKomH,YAAY5hG,KAAMhP,EAAG2oG,MAAQn+G,KAAKomH,YAAY9hG,MAC3F+hG,GAAgBE,GAAYvmH,KAAKslH,UAAWgB,KAC5CtmH,KAAKslH,UAAYgB,EACjBtmH,KAAKonD,QAAQC,QAAQ,YAAai/D,GAAK,EAAO9wG,KAGtDwvG,EAAYhvG,UAAU+sD,YAAc,WAChC/iE,KAAKwmH,eAAiBjjF,GAAQvjC,KAAKklH,gBAAgB,SAAUuB,GAEzD,OADAA,EAAoBvsE,UAAU6oB,cACvB,IAAI,GAAc0jD,EAAoBhxG,QAGrDuvG,EAAYhvG,UAAU6vG,YAAc,WAChC,IAAIW,EAAiBxmH,KAAKwmH,eAC1B,IAAK,IAAIt5F,KAAMs5F,EACXA,EAAet5F,GAAI5O,UAEvBte,KAAKwmH,eAAiB,IAE1BxB,EAAYhvG,UAAUkwG,kBAAoB,SAAUQ,EAAYC,GAC5D,IAAItnG,EAAKrf,KAAMklH,EAAiB7lG,EAAG6lG,eAAgBsB,EAAiBnnG,EAAGmnG,eACnEI,EAAU,KACd,IAAK,IAAI15F,KAAMg4F,EAAgB,CAC3B,IAAIhrE,EAAYgrE,EAAeh4F,GAAIgtB,UAC/B2sE,EAAgBL,EAAet5F,GACnC,GAAI25F,GACAA,EAAchC,iBAAiB6B,EAAYC,GAAY,CACvD,IAAIG,EAAaD,EAAclC,cAC3BoC,EAAYF,EAAcjC,aAC1B3hD,EAAeyjD,EAAaI,EAC5B5jD,EAAcyjD,EAAYI,EAC1BtC,EAAWoC,EAAcpC,SACzB9wG,EAAQ8wG,EAAS7/F,MAAQ6/F,EAASjgG,KAClCwJ,EAASy2F,EAASrgG,OAASqgG,EAASngG,IACxC,GAEA2+C,GAAgB,GAAKA,EAAetvD,GAChCuvD,GAAe,GAAKA,EAAcl1C,EAAQ,CAC1C,IAAIs4F,EAAMpsE,EAAU8oB,SAASC,EAAcC,EAAavvD,EAAOqa,GAC3Ds4F,GAEJnlE,GAAmBmlE,EAAIp9D,YAAYC,YAAam9D,EAAIt/D,SAASzgC,UACvDqgG,GAAWN,EAAIhxB,MAAQsxB,EAAQtxB,SACjCgxB,EAAIU,YAAc95F,EAClBo5F,EAAIh7F,QAAU4uB,EAAU5uB,QAExBg7F,EAAIrxD,KAAKzwC,MAAQsiG,EACjBR,EAAIrxD,KAAKrwC,OAASkiG,EAClBR,EAAIrxD,KAAK3wC,KAAOyiG,EAChBT,EAAIrxD,KAAK7wC,QAAU2iG,EACnBH,EAAUN,KAK1B,OAAOM,GAEJ5B,EAzIqB,GA2IhC,SAASuB,GAAYU,EAAMC,GACvB,OAAKD,IAASC,GAGVpmH,QAAQmmH,KAAUnmH,QAAQomH,IAGvB/gE,GAAiB8gE,EAAKjgE,SAAUkgE,EAAKlgE,UAGhD,SAASmgE,GAA6BngE,EAAU17B,GAE5C,IADA,IAAIhsB,EAAQ,GACHokC,EAAK,EAAGrkB,EAAKiM,EAAQga,YAAYw+B,oBAAqBpgC,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CACjF,IAAIokB,EAAYzoC,EAAGqkB,GACnB5Q,EAASxzB,EAAOwoD,EAAUd,EAAU17B,IAGxC,OADAwH,EAASxzB,EAAO8nH,GAAkBpgE,EAAU17B,EAAQuZ,UAC7CvlC,EAEX,SAAS8nH,GAAkBphE,EAAMnhB,GAC7B,MAAO,CACH3hC,KAAM2hC,EAAQ8hB,OAAOX,EAAKz/B,MAAMwf,OAChCshF,QAASxiF,EAAQgiB,UAAUb,EAAKz/B,MAAMwf,MAAO,CAAE2gB,SAAUV,EAAKjhB,SAC9DA,OAAQihB,EAAKjhB,QAQrB,IAAI,GAA8B,SAAUjL,GAExC,SAASwtF,EAAap6D,GAClB,IAAInsD,EAAQ+4B,EAAO7jB,KAAKjW,KAAMktD,IAAaltD,KAC3Ce,EAAMykH,kBAAoB,SAAUr+D,GAChC,IAAI89D,EAAWlkH,EAAMkkH,SACjBlG,EAAS53D,EAAIK,UAAUx9C,OAE3Bi7G,EAASV,eAAexjH,EAAMm5C,UAAUopB,kBAAkBy7C,KAG9Dh+G,EAAM+kH,cAAgB,SAAUtwG,GAC5B,IAAI0kC,EAAYn5C,EAAMm5C,UAClBypE,EAAU5iH,EAAMkkH,SAAStB,QAC7B,IAAKA,EAAQ9G,eAAgB,CACzB,IAAIx9F,EAAKte,EAAMwmH,YAAalC,EAAahmG,EAAGgmG,WAAYE,EAAWlmG,EAAGkmG,SACtE,GAAIF,GAAcE,GAAYgB,GAAYlB,EAAYE,GAAW,CAC7D,IAAIj6F,EAAU4uB,EAAU5uB,QACpBgmD,EAAMx+C,EAASA,EAAS,GAAIq0F,GAA6B9B,EAAWr+D,SAAU17B,IAAW,CAAE+pE,MAAOgwB,EAAWhwB,MAAO9tC,QAAS/xC,EAAGgyC,UAAWC,KAAMn8B,EAAQo8B,SAAWp8B,EAAQq8B,YAAYF,OAC5Ln8B,EAAQ87B,QAAQC,QAAQ,YAAaiqB,MAKjDvwE,EAAMkkH,SAAW,IAAI,GAA0B/3D,EAASz3C,IACxD1U,EAAMkkH,SAAShB,aAAa9qG,WAAY,EACxC,IAAIouG,EAAcxmH,EAAMwmH,YAAc,IAAI,GAAYxmH,EAAMkkH,SAAUxmC,GAA2BvxB,IAGjG,OAFAq6D,EAAYngE,QAAQ52B,GAAG,cAAezvB,EAAMykH,mBAC5C+B,EAAYngE,QAAQ52B,GAAG,UAAWzvB,EAAM+kH,eACjC/kH,EAKX,OAjCA2xB,EAAU40F,EAAcxtF,GA8BxBwtF,EAAatxG,UAAUsI,QAAU,WAC7Bte,KAAKilH,SAAS3mG,WAEXgpG,EAlCsB,CAmC/BjpC,IAME,GAA+B,SAAUvkD,GAEzC,SAAS0tF,EAAct6D,GACnB,IAAInsD,EAAQ+4B,EAAO7jB,KAAKjW,KAAMktD,IAAaltD,KAC3Ce,EAAM0mH,cAAgB,KACtB1mH,EAAMykH,kBAAoB,SAAUhwG,GAChC,IAAI6J,EAAKte,EAAOm5C,EAAY76B,EAAG66B,UAAW+qE,EAAW5lG,EAAG4lG,SACpDxlH,EAAUy6C,EAAU5uB,QAAQ7rB,QAC5BioH,EAAYjoH,EAAQk3C,YACpBuD,EAAUopB,kBAAkB9tD,EAAGgyC,UAAUx9C,QAE7Ci7G,EAASV,eAAemD,GAExBzC,EAAS1vC,MAAQ//D,EAAG8oG,QAAUqJ,GAAyBztE,GAAa,MAExEn5C,EAAM2kH,gBAAkB,SAAUlwG,GAC9BzU,EAAMm5C,UAAU5uB,QAAQq8B,YAAY3O,SAASxjC,IAEjDzU,EAAM6mH,gBAAkB,SAAUtB,EAAKuB,GACnC,IAAIv8F,EAAUvqB,EAAMm5C,UAAU5uB,QAC1Bm8F,EAAgB,KAChBK,GAAY,EAChB,GAAIxB,EAAK,CACL,IAAIjB,EAAatkH,EAAMwmH,YAAYlC,WAC/B0C,EAAazB,EAAIU,cAAgB3B,EAAW2B,aACzCjmH,EAAMu9E,oBACLv9E,EAAMu9E,kBAAkB+mC,EAAYiB,GACvCyB,IACDN,EAAgBO,GAAsB3C,EAAYiB,EAAKh7F,EAAQga,YAAYu+B,4BAE1E4jD,GAAkBn+B,GAAqBm+B,EAAenB,EAAIp9D,YAAa59B,KACxEw8F,GAAY,EACZL,EAAgB,MAGpBA,EACAn8F,EAAQkP,SAAS,CAAEhxB,KAAM,eAAgB09C,UAAWugE,IAE9CI,GACNv8F,EAAQkP,SAAS,CAAEhxB,KAAM,mBAExBs+G,EAIDvqF,KAHAC,KAKCqqF,IACD9mH,EAAM0mH,cAAgBA,IAG9B1mH,EAAM6kH,gBAAkB,SAAUz+D,GAC1BpmD,EAAM0mH,gBAENxgE,GAAkBlmD,EAAM0mH,cAAetgE,EAAKpmD,EAAMm5C,UAAU5uB,SAC5DvqB,EAAM0mH,cAAgB,OAG9B,IAAIvtE,EAAYgT,EAAShT,UACrBz6C,EAAUy6C,EAAU5uB,QAAQ7rB,QAC5BwlH,EAAWlkH,EAAMkkH,SAAW,IAAI,GAA0B/3D,EAASz3C,IACvEwvG,EAAS7B,oBAAqB,EAC9B6B,EAAS9B,YAAc1jH,EAAQi3C,mBAAqB,EACpDuuE,EAAShB,aAAa9qG,UAAY1Z,EAAQ+yC,WAC1C,IAAI+0E,EAAcxmH,EAAMwmH,YAAc,IAAI,GAAYxmH,EAAMkkH,SAAUxmC,GAA2BvxB,IAKjG,OAJAq6D,EAAYngE,QAAQ52B,GAAG,cAAezvB,EAAMykH,mBAC5C+B,EAAYngE,QAAQ52B,GAAG,YAAazvB,EAAM2kH,iBAC1C6B,EAAYngE,QAAQ52B,GAAG,YAAazvB,EAAM6mH,iBAC1CL,EAAYngE,QAAQ52B,GAAG,YAAazvB,EAAM6kH,iBACnC7kH,EAKX,OAzEA2xB,EAAU80F,EAAe1tF,GAsEzB0tF,EAAcxxG,UAAUsI,QAAU,WAC9Bte,KAAKilH,SAAS3mG,WAEXkpG,EA1EuB,CA2EhCnpC,IACF,SAASspC,GAAyBztE,GAC9B,IAAIz6C,EAAUy6C,EAAU5uB,QAAQ7rB,QAC5B81E,EAAQ91E,EAAQm3C,qBAIpB,OAHa,MAAT2+B,IACAA,EAAQ91E,EAAQuzC,gBAEbuiC,EAEX,SAASyyC,GAAsBf,EAAMC,EAAMrjD,GACvC,IAAIokD,EAAYhB,EAAKjgE,SACjBkhE,EAAYhB,EAAKlgE,SACjBhgB,EAAK,CACLihF,EAAU1hG,MAAMwf,MAChBkiF,EAAU1hG,MAAMyf,IAChBkiF,EAAU3hG,MAAMwf,MAChBmiF,EAAU3hG,MAAMyf,KAEpBgB,EAAG7gB,KAAK4Y,IAER,IADA,IAAIz/B,EAAQ,GACHokC,EAAK,EAAGykF,EAA8BtkD,EAA2BngC,EAAKykF,EAA4B5nH,OAAQmjC,IAAM,CACrH,IAAImgB,EAAcskE,EAA4BzkF,GAC1Ce,EAAMof,EAAYojE,EAAMC,GAC5B,IAAY,IAARziF,EACA,OAAO,KAEPA,GACA3R,EAASxzB,EAAOmlC,GAKxB,OAFAnlC,EAAMinB,MAAQ,CAAEwf,MAAOiB,EAAG,GAAIhB,IAAKgB,EAAG,IACtC1nC,EAAMylC,OAASkjF,EAAUljF,OAClBzlC,EAGX,IAAI,GAA+B,SAAUw6B,GAEzC,SAASsuF,EAAcl7D,GACnB,IAAInsD,EAAQ+4B,EAAO7jB,KAAKjW,KAAMktD,IAAaltD,KAE3Ce,EAAMy7G,UAAY,KAClBz7G,EAAMsnH,WAAa,KACnBtnH,EAAM0kD,YAAa,EACnB1kD,EAAMyiD,WAAa,KACnBziD,EAAMuvD,eAAiB,KACvBvvD,EAAMunH,iBAAmB,KACzBvnH,EAAMwnH,cAAgB,KACtBxnH,EAAMynH,sBAAwB,KAC9BznH,EAAMykH,kBAAoB,SAAUhwG,GAChC,IAAIizG,EAAajzG,EAAGgyC,UAAUx9C,OAC1BqV,EAAKte,EAAOm5C,EAAY76B,EAAG66B,UAAW+qE,EAAW5lG,EAAG4lG,SACpDrB,EAASqB,EAASrB,OAClBnkH,EAAUy6C,EAAU5uB,QAAQ7rB,QAC5BipH,EAAiBxuE,EAAU5uB,QAC/BvqB,EAAMy7G,UAAYhnG,EAAGgnG,UACrB,IAAI6L,EAAatnH,EAAMsnH,WAAatlE,GAASvtC,EAAGgnG,WAC5Ch5D,EAAaziD,EAAMyiD,WAAa6kE,EAAW7kE,WAC3CysB,EAAkBzsB,EAAW55B,SAAS+Y,WAC1C5hC,EAAMuvD,eAAiB3U,GAAkB+sE,EAAe1/D,iBAAiB5jB,WAAY6qC,GACrFg1C,EAAS9B,YAAc3tG,EAAG8oG,QAAU,EAAI7+G,EAAQwzC,qBAChDgyE,EAAS1vC,MAEJ//D,EAAG8oG,SAAWruC,IAAoB/1B,EAAU56C,MAAMq4D,eAC/CgxD,GAAuBzuE,GACvB,KACJz6C,EAAQmpH,kBACRhF,EAAO56G,WAAavJ,EAAQmpH,kBAG5BhF,EAAO56G,WAAaiyB,GAAewtF,EAAY,OAEnD7E,EAAOnE,eAAiBhgH,EAAQ8yC,mBAChC,IAAI+4B,EAAUpxB,EAAUmpB,iBAAiBolD,KACpCxtF,GAAewtF,EAAY,qBAChCxD,EAASV,eAAej5C,GAGxBvqE,EAAM0kD,WAAa6lB,GACf91D,EAAGgnG,UAAUv0G,UAAU4P,SAAS,uBAExC9W,EAAM2kH,gBAAkB,SAAUlwG,GAC9B,IAAIkzG,EAAiB3nH,EAAMm5C,UAAU5uB,QACjCk4B,EAAaziD,EAAMyiD,WACnBysB,EAAkBzsB,EAAW55B,SAAS+Y,WACtCntB,EAAG8oG,QAECruC,IAAoBlvE,EAAMm5C,UAAU56C,MAAMq4D,gBAC1C+wD,EAAeluF,SAAS,CAAEhxB,KAAM,eAAgBymE,gBAAiBA,IAKrEy4C,EAAeluF,SAAS,CAAEhxB,KAAM,mBAEhCzI,EAAM0kD,aACNijE,EAAe/gE,YAAY3O,SAASxjC,GACpCkzG,EAAethE,QAAQC,QAAQ,iBAAkB,CAC7C5xC,GAAI1U,EAAMy7G,UACV3yG,MAAO,IAAI,GAAS6+G,EAAgBllE,EAAW/d,IAAK+d,EAAW55B,UAC/D29B,QAAS/xC,EAAGgyC,UACZC,KAAMihE,EAAehhE,YAIjC3mD,EAAM6mH,gBAAkB,SAAUtB,EAAKuB,GACnC,GAAK9mH,EAAM0kD,WAAX,CAGA,IAAI6K,EAAiBvvD,EAAMuvD,eACvB+0D,EAAatkH,EAAMwmH,YAAYlC,WAC/BqD,EAAiB3nH,EAAMm5C,UAAU5uB,QAEjCg9F,EAAmB,KACnBpgE,EAAW,KACXsgE,EAAwB,KACxBV,GAAY,EACZ5vD,EAAc,CACdG,eAAgB/H,EAChBiI,cAAepd,KACfud,SAAS,GAEb,GAAI4tD,EAAK,CACLgC,EAAmBhC,EAAIh7F,QACvB,IAAIu9F,EAAmBP,EAAiB7oH,QACpCipH,IAAmBJ,GAClBO,EAAiBt3E,UAAYs3E,EAAiB5zE,WAC/CiT,EAAW4gE,GAAqBzD,EAAYiB,EAAKgC,EAAiBt/D,iBAAiB1jB,YAAYs+B,4BAC3F1b,IACAsgE,EAAwBxgE,GAA0BsI,EAAgBg4D,EAAiBt/D,iBAAiBvH,aAAcyG,EAAUogE,GAC5HpwD,EAAYK,cAAgBiwD,EACvBp/B,GAAmBlxB,EAAaouD,EAAIp9D,YAAao/D,KAClDR,GAAY,EACZ5/D,EAAW,KACXsgE,EAAwB,KACxBtwD,EAAYK,cAAgBpd,QAKpCmtE,EAAmB,KAG3BvnH,EAAMgoH,YAAYT,EAAkBpwD,GAC/B4vD,EAIDvqF,KAHAC,KAKCqqF,IACGa,IAAmBJ,GACnB/B,GAAYlB,EAAYiB,KACxBp+D,EAAW,MAEfnnD,EAAMkkH,SAASpmC,sBAAsB32B,GAGrCnnD,EAAMkkH,SAASrmC,oBAAoB0nC,IAAQnqF,GAAUp7B,EAAMy7G,WAAWr5F,cAAc,qBAEpFpiB,EAAMunH,iBAAmBA,EACzBvnH,EAAMwnH,cAAgBrgE,EACtBnnD,EAAMynH,sBAAwBA,KAGtCznH,EAAM6kH,gBAAkB,WACf7kH,EAAM0kD,YACP1kD,EAAMw8G,WAGdx8G,EAAM+kH,cAAgB,SAAUtwG,GAC5B,GAAIzU,EAAM0kD,WAAY,CAClB,IAAIujE,EAAmBjoH,EAAMm5C,UAAU5uB,QACnCwlB,EAAck4E,EAAiBthE,QAC/BroC,EAAKte,EAAOkoH,EAAqB5pG,EAAGipG,iBAAkBC,EAAgBlpG,EAAGkpG,cACzEtiF,EAAWllC,EAAMyiD,WAAW/d,IAC5B6e,EAAgBvjD,EAAMyiD,WAAW55B,SACjCokC,EAAW,IAAI,GAASg7D,EAAkB/iF,EAAUqe,GACpD4kE,EAAmBnoH,EAAMuvD,eACzB64D,EAA0BpoH,EAAMynH,sBAChCjD,EAAWxkH,EAAMwmH,YAAYhC,SAQjC,GAPAxkH,EAAMqoH,YACNJ,EAAiB5hE,QAAQC,QAAQ,gBAAiB,CAC9C5xC,GAAI1U,EAAMy7G,UACV3yG,MAAOmkD,EACPzG,QAAS/xC,EAAGgyC,UACZC,KAAM3W,IAENy3E,GAEA,GAAIU,IAAuBD,EAAkB,CACzC,IAAIK,EAAkB,IAAI,GAASL,EAAkBG,EAAwB5jF,KAAKU,EAASzD,OAAQ8hB,EAAgB6kE,EAAwBxgG,UAAU27B,EAAc3hB,YAAc,MACjLqmF,EAAiBxuF,SAAS,CACtBhxB,KAAM,eACN47B,WAAY+jF,IAchB,IAZA,IAAIG,EAAiB,CACjB/4D,SAAUvC,EACVnkD,MAAOw/G,EACPp7D,cAAeK,GAAe66D,EAAyBH,EAAkB1kE,GACzE4J,OAAQ,WACJ86D,EAAiBxuF,SAAS,CACtBhxB,KAAM,eACN47B,WAAY8jF,MAIpBK,EAAc,GACT7lF,EAAK,EAAGxH,EAAK8sF,EAAiBhgE,iBAAiB1jB,YAAY6+B,sBAAuBzgC,EAAKxH,EAAG37B,OAAQmjC,IAAM,CAC7G,IAAImgB,EAAc3nB,EAAGwH,GACrB5Q,EAASy2F,EAAa1lE,EAAY0kE,EAAeS,IAErDA,EAAiB5hE,QAAQC,QAAQ,YAAav0B,EAASA,EAASA,EAAS,GAAIw2F,GAAiBC,GAAc,CAAE9zG,GAAID,EAAGgnG,UAAWpnG,MAAOmzG,EAAcz/D,WAAYvB,QAAS/xC,EAAGgyC,UAAWC,KAAM3W,KAC9Lk4E,EAAiB5hE,QAAQC,QAAQ,cAAeiiE,QAG/C,GAAIL,EAAoB,CACzB,IAAIO,EAAiB,CACjB3/G,MAAOmkD,EACPC,cAAeK,GAAe46D,EAAkBF,EAAkB1kE,GAClE4J,OAAQ,WACJ86D,EAAiBxuF,SAAS,CACtBhxB,KAAM,eACN47B,WAAY8jF,MAIxBF,EAAiB5hE,QAAQC,QAAQ,aAAcv0B,EAASA,EAAS,GAAI02F,GAAiB,CAAEC,UAAWj0G,EAAGgnG,UAAW/0D,KAAM3W,KACvHk4E,EAAiBxuF,SAAS,CACtBhxB,KAAM,gBACN47B,WAAY8jF,IAEhBF,EAAiB5hE,QAAQC,QAAQ,cAAemiE,GAChD,IAAIE,EAAgBP,EAAwB5jF,KAAKU,EAASzD,OACtDmnF,EAAqBR,EAAwBxgG,UAAU27B,EAAc3hB,YACrEinF,EAAgB,IAAI,GAASX,EAAoBS,EAAeC,GACpEV,EAAmBzuF,SAAS,CACxBhxB,KAAM,eACN47B,WAAY+jF,IAEhB,IAAIU,EAAc,CACdhgH,MAAO+/G,EACP37D,cAAeK,GAAe66D,EAAyBF,EAAoBU,GAC3Ez7D,OAAQ,WACJ+6D,EAAmBzuF,SAAS,CACxBhxB,KAAM,gBACN47B,WAAY+jF,MAIxBF,EAAmB7hE,QAAQC,QAAQ,WAAYwiE,GAC3Cr0G,EAAG8oG,SACH2K,EAAmBzuF,SAAS,CACxBhxB,KAAM,eACNymE,gBAAiB3rB,EAAc3hB,aAGvCsmF,EAAmB7hE,QAAQC,QAAQ,OAAQv0B,EAASA,EAAS,GAAIq0F,GAA6B5B,EAASv+D,SAAUiiE,IAAsB,CAAEQ,UAAWj0G,EAAGgnG,UAAWj1D,QAAS/xC,EAAGgyC,UAAWC,KAAM89D,EAASj6F,QAAQo8B,WAChNuhE,EAAmB7hE,QAAQC,QAAQ,eAAgBv0B,EAASA,EAAS,GAAI+2F,GAAc,CAAEJ,UAAWj0G,EAAGgnG,UAAW/0D,KAAM89D,EAASj6F,QAAQo8B,iBAI7IshE,EAAiB5hE,QAAQC,QAAQ,gBAGzCtmD,EAAMw8G,WAEV,IAAIrjE,EAAYn5C,EAAMm5C,UAClBz6C,EAAUy6C,EAAU5uB,QAAQ7rB,QAC5BwlH,EAAWlkH,EAAMkkH,SAAW,IAAI,GAA0B/3D,EAASz3C,IACvEwvG,EAAStB,QAAQ76F,SAAWs/F,EAAc0B,SAC1C7E,EAAS7B,oBAAqB,EAC9B6B,EAAShB,aAAa9qG,UAAY1Z,EAAQ+yC,WAC1C,IAAI+0E,EAAcxmH,EAAMwmH,YAAc,IAAI,GAAYxmH,EAAMkkH,SAAUvmC,IAOtE,OANA6oC,EAAYpC,iBAAmBj4D,EAASsxB,eACxC+oC,EAAYngE,QAAQ52B,GAAG,cAAezvB,EAAMykH,mBAC5C+B,EAAYngE,QAAQ52B,GAAG,YAAazvB,EAAM2kH,iBAC1C6B,EAAYngE,QAAQ52B,GAAG,YAAazvB,EAAM6mH,iBAC1CL,EAAYngE,QAAQ52B,GAAG,YAAazvB,EAAM6kH,iBAC1C2B,EAAYngE,QAAQ52B,GAAG,UAAWzvB,EAAM+kH,eACjC/kH,EAuDX,OA1SA2xB,EAAU01F,EAAetuF,GAqPzBsuF,EAAcpyG,UAAUsI,QAAU,WAC9Bte,KAAKilH,SAAS3mG,WAGlB8pG,EAAcpyG,UAAU+yG,YAAc,SAAUgB,EAAa30F,GACzD,IAAIszF,EAAiB1oH,KAAKk6C,UAAU5uB,QAChC0+F,EAAchqH,KAAKsoH,iBAEnB0B,GAAeA,IAAgBD,IAG3BC,IAAgBtB,EAChBsB,EAAYxvF,SAAS,CACjBhxB,KAAM,iBACN4rB,MAAO,CACHijC,eAAgBjjC,EAAMijC,eACtBE,cAAepd,KACfud,SAAS,KAMjBsxD,EAAYxvF,SAAS,CAAEhxB,KAAM,sBAGjCugH,GACAA,EAAYvvF,SAAS,CAAEhxB,KAAM,iBAAkB4rB,MAAOA,KAG9DgzF,EAAcpyG,UAAUozG,UAAY,WAChC,IAAIa,EAAkBjqH,KAAKk6C,UAAU5uB,QACjCg9F,EAAmBtoH,KAAKsoH,iBACxBA,GACAA,EAAiB9tF,SAAS,CAAEhxB,KAAM,qBAGlCygH,IAAoB3B,GACpB2B,EAAgBzvF,SAAS,CAAEhxB,KAAM,sBAGzC4+G,EAAcpyG,UAAUunG,QAAU,WAC9Bv9G,KAAKqoH,WAAa,KAClBroH,KAAKylD,YAAa,EAClBzlD,KAAKwjD,WAAa,KAClBxjD,KAAKswD,eAAiB,KACtBtwD,KAAKsoH,iBAAmB,KACxBtoH,KAAKuoH,cAAgB,KACrBvoH,KAAKwoH,sBAAwB,MAIjCJ,EAAc0B,SAAW,2CAClB1B,EA3SuB,CA4ShC/pC,IACF,SAASyqC,GAAqB7B,EAAMC,EAAMgD,GACtC,IAAIjC,EAAYhB,EAAKjgE,SACjBkhE,EAAYhB,EAAKlgE,SACjB/G,EAAQgoE,EAAU1hG,MAAMwf,MACxBj2B,EAAQo4G,EAAU3hG,MAAMwf,MACxBmgB,EAAgB,GAChB+hE,EAAUljF,SAAWmjF,EAAUnjF,SAC/BmhB,EAAcnhB,OAASmjF,EAAUnjF,OACjCmhB,EAAcvH,OAASuoE,EAAK57F,QAAQ7rB,QAAQgzC,uBACxCy1E,EAAUnjF,SAGVkb,EAAQ5f,GAAW4f,KAG3B,IAAI7qC,EAAQ4qC,GAAUC,EAAOnwC,EAAOm3G,EAAK37F,QAAQuZ,QAASoiF,EAAKD,cAAgBE,EAAKF,YAChFC,EAAK/mE,UACL,MACA9qC,EAAMorB,eACN0lB,EAAcnhB,QAAS,GAM3B,IAJA,IAAImjB,EAAW,CACXY,WAAY1zC,EACZ8wC,cAAeA,GAEVxiB,EAAK,EAAGymF,EAAcD,EAAWxmF,EAAKymF,EAAY5pH,OAAQmjC,IAAM,CACrE,IAAI0mF,EAAWD,EAAYzmF,GAC3B0mF,EAASliE,EAAU++D,EAAMC,GAE7B,OAAOh/D,EAEX,SAASygE,GAAuBzuE,GAC5B,IAAIz6C,EAAUy6C,EAAU5uB,QAAQ7rB,QAC5B81E,EAAQ91E,EAAQo3C,oBAIpB,OAHa,MAAT0+B,IACAA,EAAQ91E,EAAQuzC,gBAEbuiC,EAGX,IAAI,GAA+B,SAAUz7C,GAEzC,SAASuwF,EAAcn9D,GACnB,IAAInsD,EAAQ+4B,EAAO7jB,KAAKjW,KAAMktD,IAAaltD,KAE3Ce,EAAMupH,cAAgB,KACtBvpH,EAAMwpH,YAAc,KACpBxpH,EAAMyiD,WAAa,KACnBziD,EAAMuvD,eAAiB,KACvBvvD,EAAMwnH,cAAgB,KACtBxnH,EAAMynH,sBAAwB,KAC9BznH,EAAMykH,kBAAoB,SAAUhwG,GAChC,IAAI0kC,EAAYn5C,EAAMm5C,UAClB8mC,EAAQjgF,EAAMypH,WAAWh1G,GACzBqtC,EAAME,GAASi+B,GACfx9B,EAAaziD,EAAMyiD,WAAaX,EAAIW,WACxCziD,EAAMkkH,SAAS9B,YAAcjpE,EAAU5uB,QAAQ7rB,QAAQwzC,qBAEvDlyC,EAAMkkH,SAASV,eAAexjH,EAAMm5C,UAAUmpB,iBAAiB7tD,EAAGgyC,UAAUx9C,SACvEwL,EAAG8oG,SAAWv9G,EAAMm5C,UAAU56C,MAAMq4D,iBAAmBnU,EAAW55B,SAAS+Y,aAEpF5hC,EAAM2kH,gBAAkB,SAAUlwG,GAC9B,IAAI8V,EAAUvqB,EAAMm5C,UAAU5uB,QAC1Bk4B,EAAaziD,EAAMyiD,WACvBziD,EAAMuvD,eAAiB3U,GAAkBrwB,EAAQ09B,iBAAiB5jB,WAAYrkC,EAAMyiD,WAAW55B,SAAS+Y,YACxG,IAAIq+C,EAAQjgF,EAAMypH,WAAWh1G,GAC7BzU,EAAMupH,cAAgBtpC,EACtBjgF,EAAMwpH,YAAcxnE,GAASi+B,GAC7B11D,EAAQq8B,YAAY3O,WACpB1tB,EAAQ87B,QAAQC,QAAQ,mBAAoB,CACxC5xC,GAAIurE,EACJn3E,MAAO,IAAI,GAASyhB,EAASk4B,EAAW/d,IAAK+d,EAAW55B,UACxD29B,QAAS/xC,EAAGgyC,UACZC,KAAMn8B,EAAQo8B,WAGtB3mD,EAAM6mH,gBAAkB,SAAUtB,EAAKuB,EAASryG,GAC5C,IAAI8V,EAAUvqB,EAAMm5C,UAAU5uB,QAC1BglC,EAAiBvvD,EAAMuvD,eACvB+0D,EAAatkH,EAAMwmH,YAAYlC,WAC/B/gE,EAAgBvjD,EAAMyiD,WAAW55B,SACjCs+B,EAAW,KACXsgE,EAAwB,KACxBV,GAAY,EACZ5vD,EAAc,CACdG,eAAgB/H,EAChBiI,cAAepd,KACfud,SAAS,GAEb,GAAI4tD,EAAK,CACL,IAAIyB,EAAazB,EAAIU,cAAgB3B,EAAW2B,aACzCjmH,EAAMu9E,oBACLv9E,EAAMu9E,kBAAkB+mC,EAAYiB,GACvCyB,IACD7/D,EAAWuiE,GAAgBpF,EAAYiB,EAAK9wG,EAAGgnG,UAAUv0G,UAAU4P,SAAS,0BAA2BysC,EAAc/9B,QAGzH2hC,IACAsgE,EAAwBxgE,GAA0BsI,EAAgBhlC,EAAQ09B,iBAAiBvH,aAAcyG,EAAU58B,GACnH4sC,EAAYK,cAAgBiwD,EACvBp/B,GAAmBlxB,EAAaouD,EAAIp9D,YAAa59B,KAClDw8F,GAAY,EACZ5/D,EAAW,KACXsgE,EAAwB,KACxBtwD,EAAYK,cAAgB,OAGhCiwD,EACAl9F,EAAQkP,SAAS,CACbhxB,KAAM,mBACN4rB,MAAO8iC,IAIX5sC,EAAQkP,SAAS,CAAEhxB,KAAM,uBAExBs+G,EAIDvqF,KAHAC,KAKCqqF,IACG3/D,GAAYq+D,GAAYlB,EAAYiB,KACpCp+D,EAAW,MAEfnnD,EAAMwnH,cAAgBrgE,EACtBnnD,EAAMynH,sBAAwBA,IAGtCznH,EAAM+kH,cAAgB,SAAUtwG,GAC5B,IAAI8V,EAAUvqB,EAAMm5C,UAAU5uB,QAC1B2a,EAAWllC,EAAMyiD,WAAW/d,IAC5B6e,EAAgBvjD,EAAMyiD,WAAW55B,SACjCokC,EAAW,IAAI,GAAS1iC,EAAS2a,EAAUqe,GAC3CgM,EAAiBvvD,EAAMuvD,eACvBk4D,EAAwBznH,EAAMynH,sBAOlC,GANAl9F,EAAQ87B,QAAQC,QAAQ,kBAAmB,CACvC5xC,GAAI1U,EAAMupH,cACVzgH,MAAOmkD,EACPzG,QAAS/xC,EAAGgyC,UACZC,KAAMn8B,EAAQo8B,UAEd3mD,EAAMwnH,cAAe,CACrB,IAAIc,EAAkB,IAAI,GAAS/9F,EAASk9F,EAAsBjjF,KAAKU,EAASzD,OAAQ8hB,EAAgBkkE,EAAsB7/F,UAAU27B,EAAc3hB,YAAc,MACpKrX,EAAQkP,SAAS,CACbhxB,KAAM,eACN47B,WAAYojF,IAEhB,IAAIc,EAAiB,CACjB/4D,SAAUvC,EACVnkD,MAAOw/G,EACPp7D,cAAeK,GAAek6D,EAAuBl9F,EAASg5B,GAC9D4J,OAAQ,WACJ5iC,EAAQkP,SAAS,CACbhxB,KAAM,eACN47B,WAAYkrB,MAIxBhlC,EAAQ87B,QAAQC,QAAQ,cAAev0B,EAASA,EAAS,GAAIw2F,GAAiB,CAAE7zG,GAAI1U,EAAMupH,cAAe/hE,WAAYxnD,EAAMwnH,cAAchgE,YAAc/hB,GAAe,GAAIgiB,SAAUznD,EAAMwnH,cAAc//D,UAAYhiB,GAAe,GAAI+gB,QAAS/xC,EAAGgyC,UAAWC,KAAMn8B,EAAQo8B,WAC5Qp8B,EAAQ87B,QAAQC,QAAQ,cAAeiiE,QAGvCh+F,EAAQ87B,QAAQC,QAAQ,kBAG5BtmD,EAAMwpH,YAAc,KACpBxpH,EAAMuvD,eAAiB,KACvBvvD,EAAMwnH,cAAgB,MAG1B,IAAIruE,EAAYgT,EAAShT,UACrB+qE,EAAWlkH,EAAMkkH,SAAW,IAAI,GAA0B/3D,EAASz3C,IACvEwvG,EAAStB,QAAQ76F,SAAW,oBAC5Bm8F,EAAS7B,oBAAqB,EAC9B6B,EAAShB,aAAa9qG,UAAY+gC,EAAU5uB,QAAQ7rB,QAAQ+yC,WAC5D,IAAI+0E,EAAcxmH,EAAMwmH,YAAc,IAAI,GAAYxmH,EAAMkkH,SAAUxmC,GAA2BvxB,IAKjG,OAJAq6D,EAAYngE,QAAQ52B,GAAG,cAAezvB,EAAMykH,mBAC5C+B,EAAYngE,QAAQ52B,GAAG,YAAazvB,EAAM2kH,iBAC1C6B,EAAYngE,QAAQ52B,GAAG,YAAazvB,EAAM6mH,iBAC1CL,EAAYngE,QAAQ52B,GAAG,UAAWzvB,EAAM+kH,eACjC/kH,EAQX,OArJA2xB,EAAU23F,EAAevwF,GA+IzBuwF,EAAcr0G,UAAUsI,QAAU,WAC9Bte,KAAKilH,SAAS3mG,WAElB+rG,EAAcr0G,UAAUw0G,WAAa,SAAUh1G,GAC3C,OAAOylB,GAAezlB,EAAGgnG,UAAW,cAEjC6N,EAtJuB,CAuJhChsC,IACF,SAASosC,GAAgBxD,EAAMC,EAAMwD,EAAaj7D,GAC9C,IAAI5qB,EAAUoiF,EAAK37F,QAAQuZ,QACvBob,EAAQgnE,EAAKjgE,SAASzgC,MAAMwf,MAC5Bj2B,EAAQo3G,EAAKlgE,SAASzgC,MAAMwf,MAC5B3wB,EAAQ4qC,GAAUC,EAAOnwC,EAAO+0B,EAASoiF,EAAK/mE,WAClD,GAAIwqE,GACA,GAAI7lF,EAAQ38B,IAAIunD,EAAc1pB,MAAO3wB,GAASq6C,EAAczpB,IACxD,MAAO,CAAEuiB,WAAYnzC,QAGxB,GAAIyvB,EAAQ38B,IAAIunD,EAAczpB,IAAK5wB,GAASq6C,EAAc1pB,MAC3D,MAAO,CAAEyiB,SAAUpzC,GAEvB,OAAO,KAGX,IAAI,GAA8B,WAC9B,SAASu1G,EAAar/F,GAClB,IAAIvqB,EAAQf,KACZA,KAAKsrB,QAAUA,EACftrB,KAAK4qH,2BAA4B,EACjC5qH,KAAK6qH,eAAgB,EACrB7qH,KAAK8qH,cAAe,EACpB9qH,KAAK+qH,SAAW,SAAUC,GAClBA,EAAWzjE,UACXxmD,EAAM6pH,2BAA4B,IAG1C5qH,KAAKirH,sBAAwB,SAAU9jE,GACnC,IAAIjS,EAAiBn0C,EAAMuqB,QAAQ7rB,QAAQy1C,eACvC6pE,EAAS9iF,GAAsBkrB,EAAIK,WACvCzmD,EAAM8pH,gBAAkB5vF,GAAe8jF,EAAQ7pE,GAC/Cn0C,EAAM+pH,eAAiB7vF,GAAe8jF,EAAQ,GAAc+K,WAEhE9pH,KAAKkrH,oBAAsB,SAAU/jE,GACjC,IAAI77B,EAAUvqB,EAAMuqB,QAChB6/F,EAAkBpqH,EAAMoqH,gBACxB5hC,EAAgBj+D,EAAQ09B,iBAE5B,IAAKmiE,EAAgBtO,eAAgB,CACjC,GAAItzB,EAAcj8B,gBACbvsD,EAAM6pH,0BACT,CACE,IAAIl4E,EAAepnB,EAAQ7rB,QAAQizC,cAC/BA,GAAkBA,GAAiB3xC,EAAM8pH,eACzCv/F,EAAQq8B,YAAY3O,SAASmO,GAGjCoiC,EAAc5xB,iBACb52D,EAAM+pH,cAEPx/F,EAAQkP,SAAS,CAAEhxB,KAAM,mBAGjCzI,EAAM6pH,2BAA4B,GAEtC,IAAIO,EAAkBnrH,KAAKmrH,gBAAkB,IAAI,GAAgB3iH,UACjE2iH,EAAgBzO,kBAAmB,EACnCyO,EAAgBxO,mBAAoB,EACpCwO,EAAgB/jE,QAAQ52B,GAAG,cAAexwB,KAAKirH,uBAC/CE,EAAgB/jE,QAAQ52B,GAAG,YAAaxwB,KAAKkrH,qBAI7C5/F,EAAQ87B,QAAQ52B,GAAG,SAAUxwB,KAAK+qH,UAMtC,OAJAJ,EAAa30G,UAAUsI,QAAU,WAC7Bte,KAAKsrB,QAAQ87B,QAAQuE,IAAI,SAAU3rD,KAAK+qH,UACxC/qH,KAAKmrH,gBAAgB7sG,WAElBqsG,EAtDsB,GAyD7B,GAAkB,CAClB/B,kBAAmB15E,IAEnBk8E,GAAoB,CACpBC,UAAWn8E,GACXo8E,eAAgBp8E,GAChBq8E,cAAer8E,GACfs8E,UAAWt8E,GACXu8E,iBAAkBv8E,GAClBw8E,gBAAiBx8E,GACjBooB,YAAapoB,GACby8E,KAAMz8E,GACN08E,aAAc18E,GACd28E,WAAY38E,IAQZ,GAAyC,WACzC,SAAS48E,EAAwB7G,EAAU8G,GACvC,IAAIhrH,EAAQf,KACZA,KAAKsoH,iBAAmB,KACxBtoH,KAAKgsH,eAAiB,KACtBhsH,KAAK+rH,iBAAmB,KACxB/rH,KAAKisH,SAAW,KAChBjsH,KAAK0lH,gBAAkB,SAAUlwG,GAC7BzU,EAAMkrH,SAAWlrH,EAAMmrH,cAAc12G,EAAGgnG,YAE5Cx8G,KAAK4nH,gBAAkB,SAAUtB,EAAKuB,EAASryG,GAC3C,IAAIyvG,EAAWlkH,EAAMwmH,YAAYtC,SAC7BqD,EAAmB,KACnB0D,EAAiB,KACjBlE,GAAY,EACZ5vD,EAAc,CACdG,eAAgBld,KAChBod,cAAepd,KACfud,QAAS33D,EAAMkrH,SAASp5F,QAExByzF,IACAgC,EAAmBhC,EAAIh7F,QACnBvqB,EAAMorH,oBAAoB32G,EAAGgnG,UAAW8L,KACxC0D,EAAiBI,GAAwB9F,EAAIt/D,SAAUjmD,EAAMkrH,SAAU3D,GACvEpwD,EAAYK,cAAgB7c,GAAkBswE,GAC9ClE,GAAa1+B,GAAmBlxB,EAAaouD,EAAIp9D,YAAao/D,GAC1DR,IACA5vD,EAAYK,cAAgBpd,KAC5B6wE,EAAiB,QAI7BjrH,EAAMgoH,YAAYT,EAAkBpwD,GAGpC+sD,EAASrmC,mBAAmBipC,IAAYmE,IAAmBxjH,SAAS2a,cAAc,qBAC7E2kG,EAIDvqF,KAHAC,KAKCqqF,IACD5C,EAASpmC,sBAAsBmtC,GAC/BjrH,EAAMunH,iBAAmBA,EACzBvnH,EAAMirH,eAAiBA,IAG/BhsH,KAAK8lH,cAAgB,SAAU3+D,GAC3B,IAAI9nC,EAAKte,EAAOunH,EAAmBjpG,EAAGipG,iBAAkB0D,EAAiB3sG,EAAG2sG,eAE5E,GADAjrH,EAAMqoH,YACFd,GAAoB0D,EAAgB,CACpC,IAAIzG,EAAWxkH,EAAMwmH,YAAYhC,SAC7B8G,EAAY9G,EAASj6F,QAAQo8B,QAC7BukE,EAAWlrH,EAAMkrH,SAErB,GADA3D,EAAiBlhE,QAAQC,QAAQ,OAAQv0B,EAASA,EAAS,GAAIq0F,GAA6B5B,EAASv+D,SAAUshE,IAAoB,CAAEmB,UAAWtiE,EAAIq1D,UAAWj1D,QAASJ,EAAIK,UAAWC,KAAM4kE,KACzLJ,EAASp5F,OAAQ,CACjB,IAAIy5F,EAAiB5wE,GAAkBswE,GACvC1D,EAAiB9tF,SAAS,CACtBhxB,KAAM,eACN47B,WAAYknF,IAEZnlE,EAAIm3D,SACJgK,EAAiB9tF,SAAS,CACtBhxB,KAAM,eACNymE,gBAAiB+7C,EAAepiG,SAAS+Y,aAIjD2lF,EAAiBlhE,QAAQC,QAAQ,eAAgB,CAC7Cx9C,MAAO,IAAI,GAASy+G,EAAkB0D,EAAevmF,IAAKumF,EAAepiG,UACzEqkC,cAAe,GACfC,OAAQ,WACJo6D,EAAiB9tF,SAAS,CACtBhxB,KAAM,gBACN47B,WAAYknF,KAGpB7C,UAAWtiE,EAAIq1D,UACf/0D,KAAM4kE,KAIlBtrH,EAAMunH,iBAAmB,KACzBvnH,EAAMirH,eAAiB,MAE3B,IAAIzE,EAAcvnH,KAAKunH,YAAc,IAAI,GAAYtC,EAAUvmC,IAC/D6oC,EAAYnC,gBAAiB,EAC7BmC,EAAYngE,QAAQ52B,GAAG,YAAaxwB,KAAK0lH,iBACzC6B,EAAYngE,QAAQ52B,GAAG,YAAaxwB,KAAK4nH,iBACzCL,EAAYngE,QAAQ52B,GAAG,UAAWxwB,KAAK8lH,eACvC9lH,KAAK+rH,iBAAmBA,EAmC5B,OAjCAD,EAAwB91G,UAAUk2G,cAAgB,SAAU1P,GACxD,MAAqC,kBAA1Bx8G,KAAK+rH,iBACL/sC,GAAch/E,KAAK+rH,kBAEO,oBAA1B/rH,KAAK+rH,iBACL/sC,GAAch/E,KAAK+rH,iBAAiBvP,IAExC+P,GAAkB/P,IAE7BsP,EAAwB91G,UAAU+yG,YAAc,SAAUgB,EAAa30F,GACnE,IAAI40F,EAAchqH,KAAKsoH,iBACnB0B,GAAeA,IAAgBD,GAC/BC,EAAYxvF,SAAS,CAAEhxB,KAAM,qBAE7BugH,GACAA,EAAYvvF,SAAS,CAAEhxB,KAAM,iBAAkB4rB,MAAOA,KAG9D02F,EAAwB91G,UAAUozG,UAAY,WACtCppH,KAAKsoH,kBACLtoH,KAAKsoH,iBAAiB9tF,SAAS,CAAEhxB,KAAM,sBAG/CsiH,EAAwB91G,UAAUm2G,oBAAsB,SAAU12G,EAAI6yG,GAClE,IAAI31E,EAAa21E,EAAiB7oH,QAAQkzC,WAC1C,MAA0B,oBAAfA,EACAA,EAAW18B,KAAKqyG,EAAiB3gE,YAAalyC,GAE/B,kBAAfk9B,IAA2BA,GAC3B7xC,QAAQs6B,GAAe3lB,EAAIk9B,KAInCm5E,EA9HiC,GAkI5C,SAASM,GAAwBplE,EAAUilE,EAAU3gG,GAEjD,IADA,IAAIkhG,EAAW15F,EAAS,GAAIm5F,EAAShtC,eAC5Bv7C,EAAK,EAAGrkB,EAAKiM,EAAQga,YAAY2+B,sBAAuBvgC,EAAKrkB,EAAG9e,OAAQmjC,IAAM,CACnF,IAAIokB,EAAYzoC,EAAGqkB,GACnB5Q,EAAS05F,EAAU1kE,EAAUd,EAAUilE,IAE3C,IAAI/vF,EAAKmiB,GAAemuE,EAAUlhG,GAAUqZ,EAAUzI,EAAGyI,QAASkW,EAAQ3e,EAAG2e,MACzEpV,EAAM+Y,GAAc7Z,EAASkW,EAAOoxE,EAASxxF,SAAUusB,EAASjiB,OAAQzZ,EAAQ7rB,QAAQ0wC,oBAAsBrvC,QAAQmrH,EAAS37G,UACnIgb,GACIya,EAAQihB,EAASzgC,MAAMwf,MAGvBihB,EAASjiB,QAAUknF,EAASz3D,YAC5BzuB,EAAQza,EAAQuZ,QAAQ38B,IAAI69B,EAAOkmF,EAASz3D,YAEhD,IAAIxuB,EAAMimF,EAAS37G,SACfgb,EAAQuZ,QAAQ38B,IAAI69B,EAAOkmF,EAAS37G,UACpCy3C,GAAmBf,EAASjiB,OAAQgB,EAAOza,GAC3C1B,EAAW2Y,GAAoBkD,EAAIjD,MAAO,CAAEuD,MAAOA,EAAOC,IAAKA,IACnE,MAAO,CAAEP,IAAKA,EAAK7b,SAAUA,GAIjC,SAAS2iG,GAAkB92G,GACvB,IAAI87C,EAAMk7D,GAAkBh3G,EAAI,SAC5B7N,EAAM2pD,EACNxvC,KAAKC,MAAMuvC,GACX,CAAE1+B,QAAQ,GACd,OAAOmsD,GAAcp3E,GAGzB,SAAS6kH,GAAkBh3G,EAAIvU,GAC3B,IAAIk/D,EAASzyD,GAAO++G,eAChBC,GAAgBvsD,EAASA,EAAS,IAAM,IAAMl/D,EAClD,OAAOuU,EAAG+H,aAAa,QAAUmvG,IAAiB,GAJtDh/G,GAAO++G,eAAiB,IAYe,WACnC,SAASE,EAAkBn3G,EAAIy3C,GAC3B,IAAInsD,EAAQf,UACK,IAAbktD,IAAuBA,EAAW,IACtCltD,KAAKwlH,kBAAoB,SAAUhwG,GAC/B,IAAIyvG,EAAWlkH,EAAMkkH,SACjB5lG,EAAKte,EAAMmsD,SAAUi2D,EAAc9jG,EAAG8jG,YAAanwE,EAAiB3zB,EAAG2zB,eAC3EiyE,EAAS9B,YACU,MAAfA,EACIA,EACC3tG,EAAG8oG,QAAU,EAAIlmE,GAAqBnF,qBAC/CgyE,EAAS1vC,MACL//D,EAAG8oG,QACoB,MAAlBtrE,EAAyBA,EAAiBoF,GAAqBpF,eAChE,GAEZhzC,KAAK0lH,gBAAkB,SAAUlwG,GACzBA,EAAG8oG,SACHv9G,EAAMkkH,SAAS1vC,OACf//D,EAAGgnG,UAAUv0G,UAAU4P,SAAS,aAChC9W,EAAMkkH,SAASrB,OAAOxD,cAAcn4G,UAAUC,IAAI,sBAG1DlI,KAAKktD,SAAWA,EAChB,IAAI+3D,EAAWjlH,KAAKilH,SAAW,IAAI,GAA0BxvG,GAC7DwvG,EAAS7B,oBAAqB,EACD,MAAzBl2D,EAAS2/D,eACT5H,EAAStB,QAAQ76F,SAAWokC,EAAS2/D,cAEhB,MAArB3/D,EAASt0C,WACTqsG,EAASrB,OAAO56G,WAAakkD,EAASt0C,UAE1CqsG,EAAS79D,QAAQ52B,GAAG,cAAexwB,KAAKwlH,mBACxCP,EAAS79D,QAAQ52B,GAAG,YAAaxwB,KAAK0lH,iBACtC,IAAI,GAAwBT,EAAU/3D,EAAS+2C,WAEnD2oB,EAAkB52G,UAAUsI,QAAU,WAClCte,KAAKilH,SAAS3mG,YArCgB,GAAtC,IAgDI,GAAyC,SAAUwb,GAEnD,SAASgzF,EAAwBvQ,GAC7B,IAAIx7G,EAAQ+4B,EAAO7jB,KAAKjW,KAAMu8G,IAAgBv8G,KAC9Ce,EAAM27G,kBAAmB,EACzB37G,EAAMgsH,eAAiB,GACvBhsH,EAAMisH,gBAAkB,KACxBjsH,EAAMykH,kBAAoB,SAAUhwG,GAChCzU,EAAMqmD,QAAQC,QAAQ,cAAe7xC,GAChCzU,EAAM27G,kBAEP37G,EAAMqmD,QAAQC,QAAQ,YAAa7xC,IAG3CzU,EAAMksH,kBAAoB,SAAUz3G,GAC3BzU,EAAM27G,kBACP37G,EAAMqmD,QAAQC,QAAQ,WAAY7xC,IAG1CzU,EAAM6kH,gBAAkB,SAAUpwG,GAC9BzU,EAAMqmD,QAAQC,QAAQ,YAAa7xC,GAC9BzU,EAAM27G,kBAEP37G,EAAMqmD,QAAQC,QAAQ,UAAW7xC,IAGzC,IAAImuG,EAAU5iH,EAAM4iH,QAAU,IAAI,GAAgBpH,GAIlD,OAHAoH,EAAQv8D,QAAQ52B,GAAG,cAAezvB,EAAMykH,mBACxC7B,EAAQv8D,QAAQ52B,GAAG,cAAezvB,EAAMksH,mBACxCtJ,EAAQv8D,QAAQ52B,GAAG,YAAazvB,EAAM6kH,iBAC/B7kH,EA4BX,OAzDA2xB,EAAUo6F,EAAyBhzF,GA+BnCgzF,EAAwB92G,UAAUsI,QAAU,WACxCte,KAAK2jH,QAAQrlG,WAEjBwuG,EAAwB92G,UAAUuuG,cAAgB,SAAUp9G,GACxDnH,KAAK08G,iBAAmBv1G,GAE5B2lH,EAAwB92G,UAAU4oE,mBAAqB,SAAUz3E,GAC7D,GAAIA,EAGInH,KAAKgtH,kBACLhtH,KAAKgtH,gBAAgB55G,MAAMC,WAAa,GACxCrT,KAAKgtH,gBAAkB,UAG1B,CACD,IAAIzN,EAAWv/G,KAAK+sH,eAEdvkH,SAAS2a,cAAcnjB,KAAK+sH,gBAC5B,KACFxN,IACAv/G,KAAKgtH,gBAAkBzN,EACvBA,EAASnsG,MAAMC,WAAa,YAIjCy5G,EA1DiC,CA2D1CnuC,IAqCE,IA/BqC,WACrC,SAASuuC,EAAoBC,EAAqBjgE,GAC9C,IAAIqvD,EAAc/zG,SAGlB2kH,IAAwB3kH,UACpB2kH,aAA+BC,SAC/B7Q,EAAc4Q,EACdjgE,EAAWA,GAAY,IAGvBA,EAAYigE,GAAuB,GAEvC,IAAIlI,EAAWjlH,KAAKilH,SAAW,IAAI,GAAwB1I,GACtB,kBAA1BrvD,EAAS2/D,aAChB5H,EAAStB,QAAQ76F,SAAWokC,EAAS2/D,aAEhCtQ,IAAgB/zG,WACrBy8G,EAAStB,QAAQ76F,SAAW,gBAEO,kBAA5BokC,EAAS6/D,iBAChB9H,EAAS8H,eAAiB7/D,EAAS6/D,gBAEvC,IAAI,GAAwB9H,EAAU/3D,EAAS+2C,WAEnDipB,EAAoBl3G,UAAUsI,QAAU,WACpCte,KAAKilH,SAAS3mG,WA1BkB,GA+B7BilD,GAAa,CACpBa,sBAAuB,CAAC,GAAc,GAAe,GAAe,IACpEC,qBAAsB,CAAC,IACvBG,oBAAqB,GACrBK,eAAgB,GAChBD,iBAAkBwmD,MAGP,M,0BC9lEA,SAASiC,KAEtB,IAAMC,EAAQC,yBAIRC,EAAc/8F,kBAAI,MAKpBk3B,EAAc,KAClB8lE,yBAAU,WACR9lE,EAAc6lE,EAAY/sH,MAAMw4F,YAMlC,IAAMy0B,EAAiB,CACrBC,SAAU,UACVC,QAAS,UACTC,SAAU,SACVC,OAAQ,UACRC,IAAK,QAMDC,EAAa,CACjBvwG,MAAO,GACPsoB,MAAO,GACPC,IAAK,GACLjB,QAAQ,EACRhK,IAAK,GACLqjB,cAAe,CACb26C,SAAU,GACVk1B,OAAQ,GACR9sC,SAAU,GACV+sC,YAAa,KAGXrkH,EAAQ4mB,kBAAI1O,KAAKC,MAAMD,KAAKE,UAAU+rG,KACtCn8F,EAAiB,WACrBhoB,EAAMpJ,MAAQshB,KAAKC,MAAMD,KAAKE,UAAU+rG,KA6BpCG,EAAwB,SAACC,EAAkBC,EAAeC,GAC9DhB,EAAM,CACJpzE,UAAWq0E,QACXjvH,MAAO,CACLme,MAAO,gBACP+wG,KAAM,YACNC,QAAS,aAUb,IANA,IAAMC,EAAgB/mE,EAAYyG,aAAaggE,EAAiBlhG,IAMvD8uD,EAAQ,EAAGA,EAAQqyC,EAAc9tH,OAAQy7E,IAAS,CACzD,IAAMjgD,EAAWsyF,EAAcryC,GAC/B0yC,EAAcr/D,QAAQtzB,EAAUqyF,EAAiBryF,IAKnD2yF,EAAc5+D,SAASs+D,EAAiBroF,MAAOqoF,EAAiBpoF,IAAK,CAAEjB,OAAQqpF,EAAiBrpF,SAKhG,IAAK,IAAIi3C,EAAQ,EAAGA,EAAQsyC,EAAsB/tH,OAAQy7E,IAAS,CACjE,IAAMjgD,EAAWuyF,EAAsBtyC,GACvC0yC,EAAcn/D,gBAAgBxzB,EAAUqyF,EAAiBhwE,cAAcriB,MAOrE4yF,EAAwB,SAAAC,GAC5BtB,EAAM,CACJpzE,UAAWq0E,QACXjvH,MAAO,CACLme,MAAO,gBACP+wG,KAAM,YACNC,QAAS,YAGb9mE,EAAYyG,aAAawgE,GAASzmH,UAQ9B0mH,EAA4B,SAAA7gE,GAChC,IACE9gC,EAOE8gC,EAPF9gC,GACAzP,EAMEuwC,EANFvwC,MACAsoB,EAKEioB,EALFjoB,MACAC,EAIEgoB,EAJFhoB,IAJF,EAQIgoB,EAFF5P,cAAiB26C,EANnB,EAMmBA,SAAUk1B,EAN7B,EAM6BA,OAAQ9sC,EANrC,EAMqCA,SAAU+sC,EAN/C,EAM+CA,YAC7CnpF,EACEipB,EADFjpB,OAGF,MAAO,CACL7X,KACAzP,QACAsoB,QACAC,MACAoY,cAAe,CACb26C,WACAk1B,SACA9sC,WACA+sC,eAEFnpF,WAOEhT,EAAW,SAAAkyE,GACftI,QAAMnhE,SAAS,oBAAqB,CAAE3wB,MAAOo6F,IAAa9sE,MAAK,WAE7D43B,QAOE/8B,EAAc,SAAAiyE,GAClBtI,QAAMnhE,SAAS,uBAAwB,CAAE3wB,MAAOo6F,IAAa9sE,MAAK,SAAAyjE,GAChE,IAAMk0B,EAAel0B,EAASlzE,KAAK7d,MAE7BwkH,EAAgB,CAAC,KAAM,QAAS,OAChCC,EAAwB,CAAC,WAAY,SAAU,WAAY,eAEjEH,EAAsBW,EAAcT,EAAeC,OAOjDx8F,EAAc,WAClB,IAAM88F,EAAU/kH,EAAMpJ,MAAMysB,GAC5ByuE,QAAMnhE,SAAS,uBAAwB,CAAEtN,GAAI0hG,IAAWz3F,MAAK,WAC3Dw3F,EAAsBC,OAOpB7/D,EAAgB,WACpBpH,EAAYoH,iBAMRmrC,EAAoBp6F,wBAAS,kBAAM67F,QAAMvmE,MAAM2jE,SAASmB,qBAE9DlrE,oBAAMkrE,GAAmB,WACvBnrC,OAOF,IAAMwrC,EAAc,SAAChjC,EAAMqa,GAEpBra,GAGLokC,QACGnhE,SAAS,uBAAwB,CAChCigE,UAAWP,EAAkBz5F,QAE9B02B,MAAK,SAAAyjE,GACJhpB,EAAgBgpB,EAASlzE,SAE1BmzE,OAAM,WACLyyB,EAAM,CACJpzE,UAAWq0E,QACXjvH,MAAO,CACLme,MAAO,iCACP+wG,KAAM,oBACNC,QAAS,gBAUb78F,EAAkBnB,kBAAI,CAC1BtrB,QAAS,CAAC4pH,GAAeC,GAAmBC,GAAgBC,IAC5Dp+E,YAAa,eACbf,cAAe,CACbhK,MAAO,kCACPC,IAAK,mDAEP6T,OAAQ0gD,EAMRhpD,UAAU,EAMV8B,yBAAyB,EAMzBb,YAAY,EAMZoD,aAAc,EAMdU,UAAU,EAEV5B,gBAvC0B,YAuCgB,IAAjBy6E,EAAiB,EAAxBtlH,MAEVulH,EAAY1B,EAAeyB,EAAc1hE,KAAKrP,cAAc26C,UAElE,MAAO,oBAEOq2B,KAGhBv2E,WAhD0B,YAgDU,IAAhBw2E,EAAgB,EAAvBxlH,MAGXA,EAAMpJ,MAAQouH,EAA0BQ,GAGxC39F,EAA4BjxB,OAAQ,GAGtC6uC,cAAe,CACbggF,cAAe,CAEb5uH,KAAM,UACN+gB,MAHa,WAKXgQ,EAA+BhxB,OAASgxB,EAA+BhxB,SAK7E4qH,UApE0B,SAoEhB9zD,GAQR1tD,EAAMpJ,MAAQshB,KAAKC,MAAMD,KAAKE,UAAU3Q,OAAOC,OAAO1H,EAAMpJ,MAAO,CAAEslC,MAAOwxB,EAAKr0D,SAEjFwuB,EAA4BjxB,OAAQ,GAQtC+qH,UAtF0B,YAsFS,IAAhB+D,EAAgB,EAAvB1lH,MACVmoB,EAAY68F,EAA0BU,KAOxCj4D,YA9F0B,YA8FW,IAAhBk4D,EAAgB,EAAvB3lH,MACZmoB,EAAY68F,EAA0BW,KAIxCniF,UAAWvtC,wBAAS,kBAAO67F,QAAMvmE,MAAM+nE,UAAUC,MAAQ,MAAQ,SACjE5mD,cAAe,MASX9kB,EAA8BjB,mBAAI,GAElCgB,EAAiChB,mBAAI,GAE3C,MAAO,CACL+8F,cACA/7F,iCACAG,kBACA/nB,QACAgoB,iBACAE,WACAC,cACAF,cACAi9B,gBACAwrC,cAGA7oE,+BCrUJ,QACEqqE,WAAY,CACVrD,aAAJ,GACI+2B,gBAAJ,GACIC,qBAAJ,IAEErzB,MANF,WAOI,IAAJ,aAGSV,GAAT,gDAGI,OAAJ,kBAAI,EAAJ,WACUA,GAAV,kDAGI,IAAJ,EAcA,KAbA,EADA,EACA,YACA,EAFA,EAEA,+BACA,EAHA,EAGA,MACA,EAJA,EAIA,eACA,EALA,EAKA,SACA,EANA,EAMA,YACA,EAPA,EAOA,YACA,EARA,EAQA,YACA,EATA,EASA,cACA,EAVA,EAUA,gBAGA,EAbA,EAaA,4BAKI,OAFApB,IAEO,CACLizB,YAAN,EACM/7F,+BAAN,EACM5nB,MAAN,EACMgoB,eAAN,EACME,SAAN,EACMC,YAAN,EACMF,YAAN,EACMi9B,cAAN,EACMn9B,gBAAN,EAGMF,4BAAN,KClGgX,MCQ5W,I,UAAY,gBACd,GACA,EACAU,GACA,EACA,KACA,KACA,OAIa,gB,8BCnBf3I,EAAOC,QAAU,IAA0B,4B,qBCA3CD,EAAOC,QAAU,IAA0B,4B,qBCA3CD,EAAOC,QAAU,IAA0B,6B,sBCA1C,SAASniB,EAAEgB,GAAqDkhB,EAAOC,QAAQnhB,EAAE,EAAQ,SAAzF,CAAyR,oBAAoB8I,MAAKA,MAAU,SAAU9J,GAAG,OAAO,SAASA,GAAG,IAAIgB,EAAE,GAAG,SAASwE,EAAEsmB,GAAG,GAAG9qB,EAAE8qB,GAAG,OAAO9qB,EAAE8qB,GAAG3J,QAAQ,IAAI0J,EAAE7qB,EAAE8qB,GAAG,CAAC7mB,EAAE6mB,EAAEzmB,GAAE,EAAG8c,QAAQ,IAAI,OAAOniB,EAAE8rB,GAAGpd,KAAKmd,EAAE1J,QAAQ0J,EAAEA,EAAE1J,QAAQ3c,GAAGqmB,EAAExmB,GAAE,EAAGwmB,EAAE1J,QAAQ,OAAO3c,EAAEF,EAAEtF,EAAEwF,EAAEmB,EAAE3F,EAAEwE,EAAET,EAAE,SAAS/E,EAAEgB,EAAE8qB,GAAGtmB,EAAEqmB,EAAE7rB,EAAEgB,IAAI+I,OAAOwL,eAAevV,EAAEgB,EAAE,CAACyhB,YAAW,EAAGjN,IAAIsW,KAAKtmB,EAAEsmB,EAAE,SAAS9rB,GAAG,oBAAoBmwB,QAAQA,OAAOi4F,aAAar+G,OAAOwL,eAAevV,EAAEmwB,OAAOi4F,YAAY,CAAClvH,MAAM,WAAW6Q,OAAOwL,eAAevV,EAAE,aAAa,CAAC9G,OAAM,KAAMsM,EAAExF,EAAE,SAASA,EAAEgB,GAAG,GAAG,EAAEA,IAAIhB,EAAEwF,EAAExF,IAAI,EAAEgB,EAAE,OAAOhB,EAAE,GAAG,EAAEgB,GAAG,iBAAiBhB,GAAGA,GAAGA,EAAEqoH,WAAW,OAAOroH,EAAE,IAAI8rB,EAAE/hB,OAAOuhB,OAAO,MAAM,GAAG9lB,EAAEsmB,EAAEA,GAAG/hB,OAAOwL,eAAeuW,EAAE,UAAU,CAACrJ,YAAW,EAAGvpB,MAAM8G,IAAI,EAAEgB,GAAG,iBAAiBhB,EAAE,IAAI,IAAI6rB,KAAK7rB,EAAEwF,EAAET,EAAE+mB,EAAED,EAAE,SAAS7qB,GAAG,OAAOhB,EAAEgB,IAAI0K,KAAK,KAAKmgB,IAAI,OAAOC,GAAGtmB,EAAEA,EAAE,SAASxF,GAAG,IAAIgB,EAAEhB,GAAGA,EAAEqoH,WAAW,WAAW,OAAOroH,EAAE8b,SAAS,WAAW,OAAO9b,GAAG,OAAOwF,EAAET,EAAE/D,EAAE,IAAIA,GAAGA,GAAGwE,EAAEqmB,EAAE,SAAS7rB,EAAEgB,GAAG,OAAO+I,OAAO0E,UAAUyc,eAAexc,KAAK1O,EAAEgB,IAAIwE,EAAEylB,EAAE,GAAGzlB,EAAEA,EAAEzG,EAAE,GAAj5B,CAAq5B,CAAC,SAASiC,EAAEwE,GAAGxE,EAAEmhB,QAAQniB,GAAG,SAASA,EAAEgB,EAAEwE,GAAG,aAAaA,EAAEsmB,EAAE9qB,GAAGwE,EAAET,EAAE/D,EAAE,aAAY,WAAY,OAAO2F,KAAKnB,EAAET,EAAE/D,EAAE,UAAS,WAAY,OAAOiqB,KAAK,IAAIa,EAAEtmB,EAAE,GAAGqmB,EAAErmB,EAAEA,EAAEsmB,GAAG7mB,EAAE,CAAC,WAAW,UAAU,YAAY,gBAAgB,SAAS,gBAAgB,SAASQ,IAAI,OAAOA,EAAEsE,OAAOC,QAAQ,SAAShK,GAAG,IAAI,IAAIgB,EAAE,EAAEA,EAAEjI,UAAUC,OAAOgI,IAAI,CAAC,IAAIwE,EAAEzM,UAAUiI,GAAG,IAAI,IAAI8qB,KAAKtmB,EAAEuE,OAAO0E,UAAUyc,eAAexc,KAAKlJ,EAAEsmB,KAAK9rB,EAAE8rB,GAAGtmB,EAAEsmB,IAAI,OAAO9rB,IAAIG,MAAM1H,KAAKM,WAAW,IAAI8lB,EAAE,SAAS7e,GAAG,OAAOA,EAAEstB,QAAQ,kBAAkB,SAASjU,eAAesS,EAAE,SAAS3rB,GAAG,OAAOyF,EAAE,GAAGzF,IAAIqF,EAAEJ,EAAE8T,OAAO,CAAC,gBAAgB,cAAc,gBAAgB,UAAU,wBAAwB,cAAcha,EAAE,CAAC,SAAS,cAAc4H,EAAE,CAAChN,KAAK,aAAaivB,OAAO,SAAS5oB,GAAG,OAAOA,EAAE,QAAQ,CAAC+oB,MAAM,CAAC9mB,KAAK,OAAO,cAAa,GAAIlK,MAAM,CAACuB,SAASb,KAAKa,UAAU2vB,GAAG,CAACxe,MAAMhS,KAAK8uB,YAAYxvB,MAAM,CAACmB,MAAM,CAAC4iB,QAAQ,KAAKgE,UAAS,EAAGwoG,UAAU,SAAStoH,GAAG,OAAO,OAAOA,GAAGA,aAAapE,MAAM,iBAAiBoE,GAAGA,aAAa5G,QAAQ4G,aAAaM,OAAO,iBAAiBN,IAAIoG,OAAO,CAACnE,KAAK8H,OAAO+R,QAAQ,WAAW,MAAM,CAACzd,MAAK,EAAGmO,YAAY,QAAQ8lC,OAAO,CAACrwC,KAAK3B,MAAMwb,QAAQ,WAAW,OAAO7W,IAAI3L,SAAS,CAAC2I,KAAK1I,QAAQuiB,SAAQ,IAAKqE,KAAK,WAAW,MAAM,CAACooG,GAAG,OAAO3gG,QAAQ,WAAW,IAAI5nB,EAAEvH,KAAK,IAAIA,KAAK8vH,GAAG,CAAC,IAAIvnH,EAAE2qB,EAAElzB,KAAK2N,QAAQ3N,KAAK65C,OAAOnqC,SAAQ,SAAU3C,GAAG,IAAIsmB,EAAE7mB,EAAE4mB,EAAEhN,EAAE3U,cAAc1E,IAAI,GAAGxE,EAAEwE,IAAIsmB,EAAE9qB,EAAEwE,IAAI,GAAGsmB,aAAaxrB,MAAMwrB,EAAE,CAACA,IAAI/S,OAAO9T,GAAE,WAAY,IAAI,IAAIjE,EAAEjI,UAAUC,OAAO8yB,EAAE,IAAIxrB,MAAMU,GAAG6qB,EAAE,EAAEA,EAAE7qB,EAAE6qB,IAAIC,EAAED,GAAG9yB,UAAU8yB,GAAG7rB,EAAEyzF,MAAMtzF,MAAMH,EAAE,CAAC6e,EAAErZ,IAAIuT,OAAO+S,UAAU9qB,EAAEwL,YAAY/T,KAAKS,OAAO8H,EAAEwL,YAAY/T,KAAK8vH,GAAG,IAAI18F,EAAEhN,EAAEpmB,KAAK+vH,UAAUxnH,GAAGvI,KAAKgwH,UAAUt6G,iBAAiB,OAAO1V,KAAKmX,QAAQnX,KAAKiwH,IAAI,WAAWjwH,KAAKwE,SAASxE,KAAKkwH,OAAO,WAAWlwH,KAAKmwH,cAAc,CAACC,WAAU,MAAOlwH,QAAQ,CAAC6vH,QAAQ,WAAW,OAAO/vH,KAAK2N,OAAO/H,KAAK5F,KAAKuvB,IAAIvmB,WAAWhJ,KAAKuvB,KAAKT,QAAQ,SAASvnB,GAAG,IAAIgB,EAAEvI,KAAK+M,EAAExF,EAAEyC,OAAOhK,KAAKurB,WAAU,WAAYhjB,EAAEyyF,MAAM,QAAQjuF,EAAEtM,WAAWuvH,QAAQ,WAAW,OAAOhwH,KAAK8vH,GAAGtuH,UAAUxB,KAAK8vH,GAAG99G,OAAOmF,OAAO,SAAS5P,GAAGvH,KAAKg7F,MAAM,OAAOzzF,EAAEyC,OAAOvJ,QAAQ+D,QAAQ,SAAS+C,EAAEgB,GAAGvI,KAAKg7F,MAAM,QAAQzyF,IAAI4nH,cAAc,SAAS5oH,GAAGA,EAAEvH,KAAKgwH,UAAUtmH,aAAa,WAAWnC,GAAGvH,KAAKgwH,UAAUvxG,gBAAgB,cAAcuQ,MAAM,CAACrhB,OAAO,CAAC4rF,MAAK,EAAGhkF,QAAQ,SAAShO,GAAG,IAAIgB,EAAEvI,KAAK+M,EAAEmmB,EAAE3rB,GAAGqF,EAAE8C,SAAQ,SAAUnI,UAAUwF,EAAExF,MAAMvH,KAAK8vH,GAAGztG,IAAItV,GAAGzG,EAAEoJ,SAAQ,SAAUnI,QAAG,IAASwF,EAAExF,IAAIgB,EAAEunH,GAAGztG,IAAI9a,EAAEwF,EAAExF,SAAS9G,MAAM,SAAS8G,GAAGA,IAAIvH,KAAKuvB,IAAI9uB,OAAOT,KAAK8vH,IAAI9vH,KAAK8vH,GAAGxsH,QAAQiE,GAAE,KAAM4xF,cAAc,WAAWn5F,KAAK8vH,KAAK9vH,KAAKgwH,UAAUn6G,oBAAoB,OAAO7V,KAAKmX,QAAQnX,KAAK8vH,GAAGxxG,UAAUte,KAAK8vH,GAAG,QAAQt9F,EAAE,SAASjrB,EAAEgB,GAAG,IAAIwE,EAAE,aAAa,iBAAiBxE,IAAIwE,EAAExE,GAAGhB,EAAE2yC,UAAUntC,EAAEmB,IAAIA,EAAE0rF,QAAQpnE,EAAEjqB,EAAE8a,QAAQnV,KAAKmV,Y,qBCA/0HoG,EAAOC,QAAU,IAA0B,4B,kCCA3C,IAAIoyE,EAAS,CACT7oF,KAAM,SAASwC,EAAI46G,GAGf,IAAI/wH,EAAQ,CACRuK,MAAO,YACPs2G,WAAY,KAGhBmQ,EAASh/G,OAAOkY,KAAK6mG,EAAQtkG,WAAWzsB,GAExCmW,EAAGC,iBAAiBpW,EAAMuK,OAAO,SAASA,GACtC0mH,EAAQ1mH,EAAO4L,EAAI46G,EAAQ5vH,UAG/B,IAAIgiD,EAAK4tE,EAAQ5vH,OAASq7F,EAAO1+C,OAAS,sBACtCmiD,EAASzD,EAAOyD,QAAU,OAE9B,SAASgxB,EAAQ1mH,EAAO4L,GACpB,IAAIzL,EAASyL,EAET+6G,EAAexkH,SAAUouD,iBAAiBpwD,GAAmB,YAAE6qB,QAAQ,KAAM,KAG7EogC,EAAcjrD,EAAOia,wBACrBO,EAAcywC,EAAKzwC,KACnBF,EAAc2wC,EAAK3wC,IACnB3Q,EAAc3J,EAAO0J,YACrBsa,EAAchkB,EAAO2Z,aACrB8sG,EAAc5mH,EAAM6mH,QAAUlsG,EAC9BmsG,EAAc9mH,EAAM+mH,QAAUtsG,EAC9BusG,EAAcltH,KAAK0M,IAAIogH,EAAI98G,EAAQ88G,GACnCK,EAAcntH,KAAK0M,IAAIsgH,EAAI3iG,EAAS2iG,GACpCv9G,EAAczR,OAAOy4D,iBAAiBpwD,GACtC+mH,EAAcptH,KAAKqtH,KAAMH,EAAOA,EAASC,EAAOA,GAChDrhG,EAAe+gG,EAAe,EAAMA,EAAe,EAGnDS,EAASzoH,SAASJ,cAAc,OAChC8oH,EAAkB1oH,SAASJ,cAAc,OACzC8oH,EAAgBlpH,UAAY,mBAC5BipH,EAAOjpH,UAAY,SAGvBipH,EAAO79G,MAAM8zF,UAAW,MACxB+pB,EAAO79G,MAAMs5E,WAAY,MACzBukC,EAAO79G,MAAMO,MAAO,MACpBs9G,EAAO79G,MAAM4a,OAAQ,MACrBijG,EAAO79G,MAAM+sG,WAAY,OAAS7gH,EAAM6gH,WAAa,kCACrD8Q,EAAO79G,MAAM+9G,aAAc,MAC3BF,EAAO79G,MAAMg+G,cAAe,OAC5BH,EAAO79G,MAAMhO,SAAU,WACvB6rH,EAAO79G,MAAMmsF,OAAQA,EACrB0xB,EAAO79G,MAAMiqC,gBAAmBoF,EAGhCyuE,EAAgB99G,MAAMhO,SAAU,WAChC8rH,EAAgB99G,MAAMoR,KAAO,EAAIiL,EAAS,KAC1CyhG,EAAgB99G,MAAMkR,IAAM,EAAImL,EAAS,KACzCyhG,EAAgB99G,MAAM4a,OAAS,IAC/BkjG,EAAgB99G,MAAMO,MAAQ,IAC9Bu9G,EAAgB99G,MAAMg+G,cAAgB,OACtCF,EAAgB99G,MAAMumD,SAAW,SAGjC,IAAI03D,EAA0BrnH,EAAOoJ,MAAc,SAAE7S,OAAS,EAAKyJ,EAAOoJ,MAAMhO,SAAWg1D,iBAAiBpwD,GAAQ5E,SA+BpH,SAASksH,IACL7pH,YAAW,WACPwpH,EAAO79G,MAAMiqC,gBAAkB,qBAChC,KAGH51C,YAAW,WACPypH,EAAgBloH,WAAWH,YAAYqoH,KACxC,KAEHz7G,EAAGI,oBAAoB,UAAWy7G,GAAa,GAI/C7pH,YAAW,WAGP,IADA,IAAI8pH,GAAgB,EACZ/kH,EAAI,EAAGA,EAAIxC,EAAOqsB,WAAW91B,OAAQiM,IACH,qBAAnCxC,EAAOqsB,WAAW7pB,GAAGxE,YACpBupH,GAAgB,GAIrBA,IAEKvnH,EAAOoJ,MAAMhO,SADW,WAAzBisH,EACyBA,EAEA,MAIjC/xH,EAAM6gH,WAAa,KA5DG,aAAzBkR,IACArnH,EAAOoJ,MAAMhO,SAAW,YAG5B8rH,EAAgBvnH,YAAYsnH,GAC5BjnH,EAAOL,YAAYunH,GAEnBD,EAAO79G,MAAMs5E,WAAe+jC,EAAK,KACjCQ,EAAO79G,MAAM8zF,UAAeypB,EAAK,KAKjCO,EAAgB99G,MAAMO,MAAUA,EAAQ,KACxCu9G,EAAgB99G,MAAM4a,OAAUA,EAAS,KACzCkjG,EAAgB99G,MAAMo+G,oBAAuBp+G,EAAMo+G,oBACnDN,EAAgB99G,MAAMq+G,qBAAwBr+G,EAAMq+G,qBACpDP,EAAgB99G,MAAMs+G,uBAA0Bt+G,EAAMs+G,uBACtDR,EAAgB99G,MAAMu+G,wBAA2Bv+G,EAAMu+G,wBAEvDT,EAAgB99G,MAAMi6B,UAAY,MAElC5lC,YAAW,WACPwpH,EAAO79G,MAAMO,MAAkB,EAATo9G,EAAa,KACnCE,EAAO79G,MAAM4a,OAAkB,EAAT+iG,EAAa,KACnCE,EAAO79G,MAAMs5E,WAAe+jC,EAAKM,EAAS,KAC1CE,EAAO79G,MAAM8zF,UAAeypB,EAAKI,EAAS,OAC3C,GAoCe,cAAflnH,EAAML,KACLiM,EAAGC,iBAAiB,UAAW47G,GAAa,GAE5CA,OAMhB,SAAShB,EAASvkG,EAAUzsB,GACxBysB,EAAUrc,SAAQ,SAASk0B,GACpBj0B,MAAMqhC,OAAOpN,IACZtkC,EAAMuK,MAAQ+5B,EAEdtkC,EAAM6gH,WAAav8E,KAIhB,U,gUCpJf,SAASrX,EAAQC,EAAQC,GAAkB,IAAIjD,EAAOlY,OAAOkY,KAAKgD,GAAS,GAAIlb,OAAOob,sBAAuB,CAAE,IAAIC,EAAUrb,OAAOob,sBAAsBF,GAAaC,IAAgBE,EAAUA,EAAQnM,QAAO,SAAUoM,GAAO,OAAOtb,OAAOub,yBAAyBL,EAAQI,GAAK5C,eAAgBR,EAAK5T,KAAKlO,MAAM8hB,EAAMmD,GAAY,OAAOnD,EAE9U,SAASsD,EAAc9iB,GAAU,IAAK,IAAIwC,EAAI,EAAGA,EAAIlM,UAAUC,OAAQiM,IAAK,CAAE,IAAI+c,EAAyB,MAAhBjpB,UAAUkM,GAAalM,UAAUkM,GAAK,GAAQA,EAAI,EAAK+f,EAAQjb,OAAOiY,IAAS,GAAM7Z,SAAQ,SAAUrP,GAAO0sB,EAAgB/iB,EAAQ3J,EAAKkpB,EAAOlpB,OAAsBiR,OAAO0b,0BAA6B1b,OAAO2b,iBAAiBjjB,EAAQsH,OAAO0b,0BAA0BzD,IAAmBgD,EAAQjb,OAAOiY,IAAS7Z,SAAQ,SAAUrP,GAAOiR,OAAOwL,eAAe9S,EAAQ3J,EAAKiR,OAAOub,yBAAyBtD,EAAQlpB,OAAe,OAAO2J,EAE7gB,SAAS+iB,EAAgBnlB,EAAKvH,EAAKI,GAAiK,OAApJJ,KAAOuH,EAAO0J,OAAOwL,eAAelV,EAAKvH,EAAK,CAAEI,MAAOA,EAAOupB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtiB,EAAIvH,GAAOI,EAAgBmH,EAapM,ICjBHi0F,EDiBO,EAAQ,eAAsB,eAAS/uE,EAAcA,EAAcA,EAAcA,EAAcA,EAAc,GAAII,EAAA,MAAU,QAAmB,QAAsB,QAAgB,SAAkB,QAGtM0kG,EAA0B,aAAI/xH,OAAO,CAC9CqB,KAAM,OACNusB,OAAQ,CAACP,EAAA,KAAS,OAClB,OAAkB,OAAe,QACjC2kG,OAAQ,CACNC,QAAS,CACPpyG,KAAM,eACN2D,SAAS,IAGb/jB,MAAO,EACP0vB,MAAO,CACL+iG,qBAAsB,SAA8B3pG,EAAU+D,GACvD,eAAW/D,EAAU+D,IACxBnsB,KAAKg7F,MAAM,OAAkB5yE,O,oCChCrC,SAAS,EAAQoE,EAAQC,GAAkB,IAAIjD,EAAOlY,OAAOkY,KAAKgD,GAAS,GAAIlb,OAAOob,sBAAuB,CAAE,IAAIC,EAAUrb,OAAOob,sBAAsBF,GAAaC,IAAgBE,EAAUA,EAAQnM,QAAO,SAAUoM,GAAO,OAAOtb,OAAOub,yBAAyBL,EAAQI,GAAK5C,eAAgBR,EAAK5T,KAAKlO,MAAM8hB,EAAMmD,GAAY,OAAOnD,EAE9U,SAAS,EAAcxf,GAAU,IAAK,IAAIwC,EAAI,EAAGA,EAAIlM,UAAUC,OAAQiM,IAAK,CAAE,IAAI+c,EAAyB,MAAhBjpB,UAAUkM,GAAalM,UAAUkM,GAAK,GAAQA,EAAI,EAAK,EAAQ8E,OAAOiY,IAAS,GAAM7Z,SAAQ,SAAUrP,GAAO,EAAgB2J,EAAQ3J,EAAKkpB,EAAOlpB,OAAsBiR,OAAO0b,0BAA6B1b,OAAO2b,iBAAiBjjB,EAAQsH,OAAO0b,0BAA0BzD,IAAmB,EAAQjY,OAAOiY,IAAS7Z,SAAQ,SAAUrP,GAAOiR,OAAOwL,eAAe9S,EAAQ3J,EAAKiR,OAAOub,yBAAyBtD,EAAQlpB,OAAe,OAAO2J,EAE7gB,SAAS,EAAgBpC,EAAKvH,EAAKI,GAAiK,OAApJJ,KAAOuH,EAAO0J,OAAOwL,eAAelV,EAAKvH,EAAK,CAAEI,MAAOA,EAAOupB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtiB,EAAIvH,GAAOI,EAAgBmH,EAqB3M,IAAIoqH,EAAkB,CAAC,mBAAoB,mBAEvCp0B,EAAkB,eAAe,WACjCC,EAAaD,EAAgBE,MAC7BC,EAAaH,EAAgBt+F,MAC7B0+F,EAAkBJ,EAAgBK,KAClCC,EAAmBN,EAAgB/zF,MAI5B,EAAQ,eAAsB,eAAS,EAAc,EAAc,EAAc,EAAc,EAAc,EAAc,EAAc,EAAc,GAAIqjB,EAAA,MAAU6wE,GAAa,QAAmB,QAAmB,QAAgB,QAAiB,QAAkB,GAAI,CACxRk0B,YAAa,eAAS,QAA0B,GAEhDC,cAAe,eAAS,QAExBC,QAAS,eAAS,QAAmB,GACrCC,QAAS,eAAS,QAAmB,GACrC7uB,UAAW,eAAS,QAAmB,MACpC,wBAGM8uB,EAA2B,aAAIxyH,OAAO,CAC/C4tB,OAAQ,CAACP,EAAA,KAAS2wE,EAAY,OAAoB,OAAkB,OAAkB,OAAe,OAAgB,QACrHuC,cAAc,EACd9gG,MAAO,EACPooB,KAAM,WACJ,MAAO,CACL4qG,aAActyH,KAAKg+F,KAGvBl+F,SAAU,CACRiE,OAAQ,WACN,OAAQ/D,KAAKoyH,SAEfG,UAAW,WAGT,OAAOvyH,KAAKkB,MAAQlB,KAAKsuB,UAE3BkkG,aAAc,WACZ,IAAIzuH,EAAS/D,KAAK+D,OACdo0B,EAAOn4B,KAAKm4B,KACZorE,EAAYvjG,KAAKujG,UACjBjjC,EAAU,CACZ,gBAAiBijC,GAUnB,OAPIvjG,KAAKmyH,UACP7xD,EAAU,CAACA,EAAS,mBAAoB,EAAgB,CACtD,YAAav8D,EACb,sBAAuBA,GACtB,aAAauc,OAAO6X,GAAOA,KAGzBmoC,IAGXtxC,OAAQ6sE,EAAS,GAAI,EAAgBA,EAAQmC,GAAiB,SAAU51E,GACjE,eAAWA,EAAUpoB,KAAKsyH,gBAC7BtyH,KAAKsyH,aAAelqG,MAEpB,EAAgByzE,EAAQ,gBAAgB,SAAsBzzE,EAAU+D,GACrE,eAAW/D,EAAU+D,IACxBnsB,KAAKg7F,MAAMkD,EAAkB91E,MAE7ByzE,GACJ1rE,OAAQ,SAAgB5jB,GACtB,IAAIxL,EAAQf,KAERy7F,EAAez7F,KAAKy7F,aACpBnrE,EAAQ,eAAKtwB,KAAKyyH,OAAQT,GAC1BU,EAAkBj3B,EAAem2B,EAAa,OAC9Ce,EAAU3yH,KAAKD,YAAYiB,KAAI,SAAUZ,EAAQ47E,GACnD,IAAI37E,EAAM,aAAaigB,OAAO07D,GAC9B,OAAOzvE,EAAEmmH,EAAiB,CACxBpzH,MAAO,CAELuB,SAAUT,EAAOS,WAAY,EAC7BqsB,GAAInsB,EAAMutB,OAAOjuB,GACjBI,MAAOL,EAAOK,OAMhB6vB,MAAOA,EACPjwB,IAAKA,GACJ,CAACkM,EAAE,OAAQ,CACZgkB,SAAU,OAAA3vB,EAAA,MAAWR,EAAOQ,KAAMR,EAAOM,aAG7C,OAAO6L,EAAE,MAAO,CACd6jB,MAAO,CAACpwB,KAAKwyH,aAAc,oBAC3BliG,MAAO,EAAc,EAAc,GAAI,eAAKtwB,KAAKyyH,OAAQT,IAAmB,GAAI,CAC9E,eAAgBhyH,KAAK2uB,oBACrB,gBAAiB3uB,KAAKqnB,SAAW,OAAS,KAC1C6F,GAAIltB,KAAKsuB,SACT4yE,KAAMzF,EAAe,aAAe,QAEpCn/E,SAAU,QAEX,CAACtc,KAAKw/F,cAAc,QAAkBmzB,EAAS3yH,KAAKw/F,sB,4CChI3D/1E,EAAOC,QAAU,IAA0B","file":"js/chunk-77582be2.7a97bd98.js","sourcesContent":["import { Vue } from '../vue';\nimport { PROP_TYPE_ARRAY_OBJECT, PROP_TYPE_STRING } from '../constants/props';\nimport { get } from '../utils/get';\nimport { stripTags } from '../utils/html';\nimport { isArray, isPlainObject, isUndefined } from '../utils/inspect';\nimport { keys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { warn } from '../utils/warn'; // --- Constants ---\n\nvar OPTIONS_OBJECT_DEPRECATED_MSG = 'Setting prop \"options\" to an object is deprecated. Use the array format instead.'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  disabledField: makeProp(PROP_TYPE_STRING, 'disabled'),\n  htmlField: makeProp(PROP_TYPE_STRING, 'html'),\n  options: makeProp(PROP_TYPE_ARRAY_OBJECT, []),\n  textField: makeProp(PROP_TYPE_STRING, 'text'),\n  valueField: makeProp(PROP_TYPE_STRING, 'value')\n}, 'formOptionControls'); // --- Mixin ---\n// @vue/component\n\nexport var formOptionsMixin = Vue.extend({\n  props: props,\n  computed: {\n    formOptions: function formOptions() {\n      return this.normalizeOptions(this.options);\n    }\n  },\n  methods: {\n    normalizeOption: function normalizeOption(option) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      // When the option is an object, normalize it\n      if (isPlainObject(option)) {\n        var value = get(option, this.valueField);\n        var text = get(option, this.textField);\n        return {\n          value: isUndefined(value) ? key || text : value,\n          text: stripTags(String(isUndefined(text) ? key : text)),\n          html: get(option, this.htmlField),\n          disabled: Boolean(get(option, this.disabledField))\n        };\n      } // Otherwise create an `<option>` object from the given value\n\n\n      return {\n        value: key || option,\n        text: stripTags(String(option)),\n        disabled: false\n      };\n    },\n    normalizeOptions: function normalizeOptions(options) {\n      var _this = this;\n\n      // Normalize the given options array\n      if (isArray(options)) {\n        return options.map(function (option) {\n          return _this.normalizeOption(option);\n        });\n      } else if (isPlainObject(options)) {\n        // Deprecate the object options format\n        warn(OPTIONS_OBJECT_DEPRECATED_MSG, this.$options.name); // Normalize a `options` object to an array of options\n\n        return keys(options).map(function (key) {\n          return _this.normalizeOption(options[key] || {}, key);\n        });\n      } // If not an array or object, return an empty array\n\n      /* istanbul ignore next */\n\n\n      return [];\n    }\n  }\n});","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarEventHandler.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&lang=scss&\"","export const HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport const defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: (err) => typeof console !== \"undefined\" && console.warn(err),\n    getWeek: (givenDate) => {\n        const date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export const english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: (nth) => {\n        const s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export const pad = (number, length = 2) => `000${number}`.slice(length * -1);\nexport const int = (bool) => (bool === true ? 1 : 0);\nexport function debounce(fn, wait) {\n    let t;\n    return function () {\n        clearTimeout(t);\n        t = setTimeout(() => fn.apply(this, arguments), wait);\n    };\n}\nexport const arrayify = (obj) => obj instanceof Array ? obj : [obj];\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    const e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    const wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (const key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            const path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nconst doNothing = () => undefined;\nexport const monthToStr = (monthNumber, shorthand, locale) => locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber];\nexport const revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    H: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: (dateObj, amPM, locale) => {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: (dateObj, seconds) => {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: (_, unixSeconds) => new Date(parseFloat(unixSeconds) * 1000),\n    W: function (dateObj, weekNum, locale) {\n        const weekNumber = parseInt(weekNum);\n        const date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: (dateObj, year) => {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: (_, ISODate) => new Date(ISODate),\n    d: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    i: (dateObj, minutes) => {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: (dateObj, month) => {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: (dateObj, month) => {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: (dateObj, seconds) => {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: (_, unixMillSeconds) => new Date(parseFloat(unixMillSeconds)),\n    w: doNothing,\n    y: (dateObj, year) => {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport const tokenRegex = {\n    D: \"(\\\\w+)\",\n    F: \"(\\\\w+)\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"(\\\\w+)\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"(\\\\w+)\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport const formats = {\n    Z: (date) => date.toISOString(),\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: (date) => pad(date.getHours()),\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: (date, locale) => locale.amPM[int(date.getHours() > 11)],\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: (date) => pad(date.getSeconds()),\n    U: (date) => date.getTime() / 1000,\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: (date) => pad(date.getFullYear(), 4),\n    d: (date) => pad(date.getDate()),\n    h: (date) => (date.getHours() % 12 ? date.getHours() % 12 : 12),\n    i: (date) => pad(date.getMinutes()),\n    j: (date) => date.getDate(),\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: (date) => pad(date.getMonth() + 1),\n    n: (date) => date.getMonth() + 1,\n    s: (date) => date.getSeconds(),\n    u: (date) => date.getTime(),\n    w: (date) => date.getDay(),\n    y: (date) => String(date.getFullYear()).substring(2),\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport const createDateFormatter = ({ config = defaults, l10n = english, isMobile = false, }) => (dateObj, frmt, overrideLocale) => {\n    const locale = overrideLocale || l10n;\n    if (config.formatDate !== undefined && !isMobile) {\n        return config.formatDate(dateObj, frmt, locale);\n    }\n    return frmt\n        .split(\"\")\n        .map((c, i, arr) => formats[c] && arr[i - 1] !== \"\\\\\"\n        ? formats[c](dateObj, locale, config)\n        : c !== \"\\\\\"\n            ? c\n            : \"\")\n        .join(\"\");\n};\nexport const createDateParser = ({ config = defaults, l10n = english }) => (date, givenFormat, timeless, customLocale) => {\n    if (date !== 0 && !date)\n        return undefined;\n    const locale = customLocale || l10n;\n    let parsedDate;\n    const dateOrig = date;\n    if (date instanceof Date)\n        parsedDate = new Date(date.getTime());\n    else if (typeof date !== \"string\" &&\n        date.toFixed !== undefined)\n        parsedDate = new Date(date);\n    else if (typeof date === \"string\") {\n        const format = givenFormat || (config || defaults).dateFormat;\n        const datestr = String(date).trim();\n        if (datestr === \"today\") {\n            parsedDate = new Date();\n            timeless = true;\n        }\n        else if (/Z$/.test(datestr) ||\n            /GMT$/.test(datestr))\n            parsedDate = new Date(date);\n        else if (config && config.parseDate)\n            parsedDate = config.parseDate(date, format);\n        else {\n            parsedDate =\n                !config || !config.noCalendar\n                    ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                    : new Date(new Date().setHours(0, 0, 0, 0));\n            let matched, ops = [];\n            for (let i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                const token = format[i];\n                const isBackSlash = token === \"\\\\\";\n                const escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                if (tokenRegex[token] && !escaped) {\n                    regexStr += tokenRegex[token];\n                    const match = new RegExp(regexStr).exec(date);\n                    if (match && (matched = true)) {\n                        ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                            fn: revFormat[token],\n                            val: match[++matchIndex],\n                        });\n                    }\n                }\n                else if (!isBackSlash)\n                    regexStr += \".\";\n                ops.forEach(({ fn, val }) => (parsedDate = fn(parsedDate, val, locale) || parsedDate));\n            }\n            parsedDate = matched ? parsedDate : undefined;\n        }\n    }\n    if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n        config.errorHandler(new Error(`Invalid date provided: ${dateOrig}`));\n        return undefined;\n    }\n    if (timeless === true)\n        parsedDate.setHours(0, 0, 0, 0);\n    return parsedDate;\n};\nexport function compareDates(date1, date2, timeless = true) {\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport const isBetween = (ts, ts1, ts2) => {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport const duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    let hours = config.defaultHour;\n    let minutes = config.defaultMinute;\n    let seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        const minHour = config.minDate.getHours();\n        const minMinutes = config.minDate.getMinutes();\n        const minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        const maxHr = config.maxDate.getHours();\n        const maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours, minutes, seconds };\n}\n","import { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nconst DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    const self = {\n        config: Object.assign(Object.assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self._createElement = createElement;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth(month = self.currentMonth, yr = self.currentYear) {\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        const config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    const daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            const defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            const defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        const prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        let hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        const limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        const limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (limitMaxHours) {\n            const maxTime = self.config.maxTime !== undefined\n                ? self.config.maxTime\n                : self.config.maxDate;\n            hours = Math.min(hours, maxTime.getHours());\n            if (hours === maxTime.getHours())\n                minutes = Math.min(minutes, maxTime.getMinutes());\n            if (minutes === maxTime.getMinutes())\n                seconds = Math.min(seconds, maxTime.getSeconds());\n        }\n        if (limitMinHours) {\n            const minTime = self.config.minTime !== undefined\n                ? self.config.minTime\n                : self.config.minDate;\n            hours = Math.max(hours, minTime.getHours());\n            if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                minutes = minTime.getMinutes();\n            if (minutes === minTime.getMinutes())\n                seconds = Math.max(seconds, minTime.getSeconds());\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        const date = dateObj || self.latestSelectedDateObj;\n        if (date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        const eventTarget = getEventTarget(event);\n        const year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach((ev) => bind(element, ev, handler, options));\n        if (element instanceof Array)\n            return element.forEach((el) => bind(el, event, handler, options));\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: () => element.removeEventListener(event, handler),\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach((evt) => {\n                Array.prototype.forEach.call(self.element.querySelectorAll(`[data-${evt}]`), (el) => bind(el, \"click\", self[evt]));\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        const debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", (e) => {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(window.document.body, \"keydown\", onKeyDown);\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            const selText = (e) => getEventTarget(e).select();\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", () => self.secondElement && self.secondElement.select());\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", (e) => {\n                    updateTime(e);\n                    triggerChange();\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        const jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        const oldYear = self.currentYear;\n        const oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        const eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        const target = e && getEventTarget(e);\n        const input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        const event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        const fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                const { weekWrapper, weekNumbers } = buildWeeks();\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        const customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                const wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, dayNumber, i) {\n        const dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            dayNumber % 7 === 1) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        const startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        const endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (let m = startMonth; m != endMonth; m += delta) {\n            const month = self.daysContainer.children[m];\n            const startIndex = delta > 0 ? 0 : month.children.length - 1;\n            const endIndex = delta > 0 ? month.children.length : -1;\n            for (let i = startIndex; i != endIndex; i += delta) {\n                const c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        const givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        const endMonth = delta > 0 ? self.config.showMonths : -1;\n        const loopDelta = delta > 0 ? 1 : -1;\n        for (let m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            const month = self.daysContainer.children[m];\n            const startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            const numMonthDays = month.children.length;\n            for (let i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                const c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        const dayFocused = isInView(document.activeElement || document.body);\n        const startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? document.activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        const firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        const prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        const daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        let dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (let dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        const dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        const frag = document.createDocumentFragment();\n        for (let i = 0; i < self.config.showMonths; i++) {\n            const d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        const shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (let i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            const month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        const container = createElement(\"div\", \"flatpickr-month\");\n        const monthNavFragment = window.document.createDocumentFragment();\n        let monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", (e) => {\n                const target = getEventTarget(e);\n                const selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        const yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        const yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        const currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container,\n            yearElement,\n            monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (let m = self.config.showMonths; m--;) {\n            const month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: () => self.__hidePrevMonthArrow,\n            set(bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: () => self.__hideNextMonthArrow,\n            set(bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        const defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        const separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        const hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        const minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            const secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (let i = self.config.showMonths; i--;) {\n            const container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        const firstDayOfWeek = self.l10n.firstDayOfWeek;\n        let weekdays = [...self.l10n.weekdays.shorthand];\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = [\n                ...weekdays.splice(firstDayOfWeek, weekdays.length),\n                ...weekdays.splice(0, firstDayOfWeek),\n            ];\n        }\n        for (let i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = `\n      <span class='flatpickr-weekday'>\n        ${weekdays.join(\"</span><span class='flatpickr-weekday'>\")}\n      </span>\n      `;\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        const weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        const weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper,\n            weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset = true) {\n        const delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent = true, toInitial = true) {\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            const { hours, minutes, seconds } = getDefaultHours(self.config);\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (let i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                const wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach((k) => {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        if (self.config.appendTo && self.config.appendTo.contains(elem))\n            return true;\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            const eventTarget = getEventTarget(e);\n            const isCalendarElement = isCalendarElem(eventTarget);\n            const isInput = eventTarget === self.input ||\n                eventTarget === self.altInput ||\n                self.element.contains(eventTarget) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            const lostFocus = e.type === \"blur\"\n                ? isInput &&\n                    e.relatedTarget &&\n                    !isCalendarElem(e.relatedTarget)\n                : !isInput &&\n                    !isCalendarElement &&\n                    !isCalendarElem(e.relatedTarget);\n            const isIgnored = !self.config.ignoredFocusElements.some((elem) => elem.contains(eventTarget));\n            if (lostFocus && isIgnored) {\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1) {\n                    self.clear(false);\n                    self.redraw();\n                }\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        const newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless = true) {\n        var _a;\n        const dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        const bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (let i = 0, d; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                const parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        const isInput = e.target === self._input;\n        if (isInput &&\n            (self.selectedDates.length > 0 || self._input.value.length > 0) &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        const eventTarget = getEventTarget(e);\n        const isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        const allowInput = self.config.allowInput;\n        const allowKeydown = self.isOpen && (!allowInput || !isInput);\n        const allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            const isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (document.activeElement && isInView(document.activeElement)))) {\n                            const delta = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    const delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        const elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter((x) => x);\n                        const i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            const target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem) {\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(\"flatpickr-day\") ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        const hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        let containsDisabled = false;\n        let minRange = 0, maxRange = 0;\n        for (let t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        for (let m = 0; m < self.config.showMonths; m++) {\n            const month = self.daysContainer.children[m];\n            for (let i = 0, l = month.children.length; i < l; i++) {\n                const dayElem = month.children[i], date = dayElem.dateObj;\n                const timestamp = date.getTime();\n                const outOfRange = (minRange > 0 && timestamp < minRange) ||\n                    (maxRange > 0 && timestamp > maxRange);\n                if (outOfRange) {\n                    dayElem.classList.add(\"notAllowed\");\n                    [\"inRange\", \"startRange\", \"endRange\"].forEach((c) => {\n                        dayElem.classList.remove(c);\n                    });\n                    continue;\n                }\n                else if (containsDisabled && !outOfRange)\n                    continue;\n                [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach((c) => {\n                    dayElem.classList.remove(c);\n                });\n                if (elem !== undefined) {\n                    elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                        ? \"startRange\"\n                        : \"endRange\");\n                    if (initialDate < hoverDate && timestamp === initialDate)\n                        dayElem.classList.add(\"startRange\");\n                    else if (initialDate > hoverDate && timestamp === initialDate)\n                        dayElem.classList.add(\"endRange\");\n                    if (timestamp >= minRange &&\n                        (maxRange === 0 || timestamp <= maxRange) &&\n                        isBetween(timestamp, initialDate, hoverDate))\n                        dayElem.classList.add(\"inRange\");\n                }\n            }\n        }\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement = self._positionElement) {\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                const eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        const wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(() => self.hourElement.select(), 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return (date) => {\n            const dateObj = (self.config[`_${type}Date`] = self.parseDate(date, self.config.dateFormat));\n            const inverseDateObj = self.config[`_${type === \"min\" ? \"max\" : \"min\"}Date`];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter((d) => isEnabled(d));\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        const boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        const userConfig = Object.assign(Object.assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        const formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: () => self.config._enable,\n            set: (dates) => {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: () => self.config._disable,\n            set: (dates) => {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        const timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            const defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            const defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + ` h:i${userConfig.enableSeconds ? \":S\" : \"\"} K`;\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: () => self.config._minDate,\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: () => self.config._maxDate,\n            set: minMaxDateSetter(\"max\"),\n        });\n        const minMaxTimeSetter = (type) => (val) => {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: () => self.config._minTime,\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: () => self.config._maxTime,\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (let i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter((hook) => self.config[hook] !== undefined).forEach((hook) => {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (let i = 0; i < self.config.plugins.length; i++) {\n            const pluginConf = self.config.plugins[i](self) || {};\n            for (const key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(`flatpickr: invalid locale ${self.config.locale}`));\n        self.l10n = Object.assign(Object.assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.K = `(${self.l10n.amPM[0]}|${self.l10n.amPM[1]}|${self.l10n.amPM[0].toLowerCase()}|${self.l10n.amPM[1].toLowerCase()})`;\n        const userConfig = Object.assign(Object.assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        const positionElement = customPositionElement || self._positionElement;\n        const calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, ((acc, child) => acc + child.offsetHeight), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        const top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        let left = window.pageXOffset + inputBounds.left;\n        let isCenter = false;\n        let isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        const right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        const rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        const centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = `${top}px`;\n        if (!rightMost) {\n            self.calendarContainer.style.left = `${left}px`;\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = `${right}px`;\n        }\n        else {\n            const doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            const bodyWidth = window.document.body.offsetWidth;\n            const centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            const centerBefore = \".flatpickr-calendar.centerMost:before\";\n            const centerAfter = \".flatpickr-calendar.centerMost:after\";\n            const centerIndex = doc.cssRules.length;\n            const centerStyle = `{left:${inputBounds.left}px;right:auto;}`;\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(`${centerBefore},${centerAfter}${centerStyle}`, centerIndex);\n            self.calendarContainer.style.left = `${centerLeft}px`;\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        let editableSheet = null;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            const sheet = document.styleSheets[i];\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        const style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const isSelectable = (day) => day.classList &&\n            day.classList.contains(\"flatpickr-day\") &&\n            !day.classList.contains(\"flatpickr-disabled\") &&\n            !day.classList.contains(\"notAllowed\");\n        const t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        const target = t;\n        const selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        const shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            const selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            const isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            const single = self.config.mode === \"single\" && !self.config.enableTime;\n            const range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    const CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        clickOpens: [\n            () => {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (const key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach((x) => x());\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach((x) => x());\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        let dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map((d) => self.parseDate(d, format));\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map((date) => self.parseDate(date, format));\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map((date) => self.parseDate(date, format));\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(inputDate)}`));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter((d) => d instanceof Date && isEnabled(d, false)));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n    }\n    function setDate(date, triggerChange = false, format = self.config.dateFormat) {\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map((rule) => {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter((x) => x);\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        const preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        const inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", (e) => {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        const hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (let i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        const e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (let i = 0; i < self.selectedDates.length; i++) {\n            if (compareDates(self.selectedDates[i], date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach((yearElement, i) => {\n            const d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(format) {\n        return self.selectedDates\n            .map((dObj) => self.formatDate(dObj, format))\n            .filter((d, i, arr) => self.config.mode !== \"range\" ||\n            self.config.enableTime ||\n            arr.indexOf(d) === i)\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange = true) {\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        const eventTarget = getEventTarget(e);\n        const isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        const isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        const isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        const min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        let newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            const isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    const nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter((x) => x instanceof HTMLElement);\n    const instances = [];\n    for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: Object.assign({}, English),\n    default: Object.assign({}, English),\n};\nflatpickr.localize = (l10n) => {\n    flatpickr.l10ns.default = Object.assign(Object.assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = (config) => {\n    flatpickr.defaultConfig = Object.assign(Object.assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target, ...args) {\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        for (const source of args) {\n            if (source) {\n                Object.keys(source).forEach((key) => (target[key] = source[key]));\n            }\n        }\n        return target;\n    };\n}\n","module.exports = __webpack_public_path__ + \"img/calendar-illustration.fcb4640f.png\";","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// v-b-visible\n// Private visibility check directive\n// Based on IntersectionObserver\n//\n// Usage:\n//  v-b-visibility.<margin>.<once>=\"<callback>\"\n//\n//  Value:\n//  <callback>: method to be called when visibility state changes, receives one arg:\n//     true:  element is visible\n//     false: element is not visible\n//     null:  IntersectionObserver not supported\n//\n//  Modifiers:\n//    <margin>: a positive decimal value of pixels away from viewport edge\n//              before being considered \"visible\". default is 0\n//    <once>:   keyword 'once', meaning when the element becomes visible and\n//              callback is called observation/notification will stop.\n//\n// When used in a render function:\n// export default {\n//   directives: { 'b-visible': VBVisible },\n//   render(h) {\n//     h(\n//       'div',\n//       {\n//         directives: [\n//           { name: 'b-visible', value=this.callback, modifiers: { '123':true, 'once':true } }\n//         ]\n//       }\n//     )\n//   }\nimport { RX_DIGITS } from '../../constants/regex';\nimport { requestAF } from '../../utils/dom';\nimport { isFunction } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { clone, keys } from '../../utils/object';\nvar OBSERVER_PROP_NAME = '__bv__visibility_observer';\n\nvar VisibilityObserver = /*#__PURE__*/function () {\n  function VisibilityObserver(el, options, vnode) {\n    _classCallCheck(this, VisibilityObserver);\n\n    this.el = el;\n    this.callback = options.callback;\n    this.margin = options.margin || 0;\n    this.once = options.once || false;\n    this.observer = null;\n    this.visible = undefined;\n    this.doneOnce = false; // Create the observer instance (if possible)\n\n    this.createObserver(vnode);\n  }\n\n  _createClass(VisibilityObserver, [{\n    key: \"createObserver\",\n    value: function createObserver(vnode) {\n      var _this = this;\n\n      // Remove any previous observer\n      if (this.observer) {\n        /* istanbul ignore next */\n        this.stop();\n      } // Should only be called once and `callback` prop should be a function\n\n\n      if (this.doneOnce || !isFunction(this.callback)) {\n        /* istanbul ignore next */\n        return;\n      } // Create the observer instance\n\n\n      try {\n        // Future: Possibly add in other modifiers for left/right/top/bottom\n        // offsets, root element reference, and thresholds\n        this.observer = new IntersectionObserver(this.handler.bind(this), {\n          // `null` = 'viewport'\n          root: null,\n          // Pixels away from view port to consider \"visible\"\n          rootMargin: this.margin,\n          // Intersection ratio of el and root (as a value from 0 to 1)\n          threshold: 0\n        });\n      } catch (_unused) {\n        // No IntersectionObserver support, so just stop trying to observe\n        this.doneOnce = true;\n        this.observer = undefined;\n        this.callback(null);\n        return;\n      } // Start observing in a `$nextTick()` (to allow DOM to complete rendering)\n\n      /* istanbul ignore next: IntersectionObserver not supported in JSDOM */\n\n\n      vnode.context.$nextTick(function () {\n        requestAF(function () {\n          // Placed in an `if` just in case we were destroyed before\n          // this `requestAnimationFrame` runs\n          if (_this.observer) {\n            _this.observer.observe(_this.el);\n          }\n        });\n      });\n    }\n    /* istanbul ignore next */\n\n  }, {\n    key: \"handler\",\n    value: function handler(entries) {\n      var entry = entries ? entries[0] : {};\n      var isIntersecting = Boolean(entry.isIntersecting || entry.intersectionRatio > 0.0);\n\n      if (isIntersecting !== this.visible) {\n        this.visible = isIntersecting;\n        this.callback(isIntersecting);\n\n        if (this.once && this.visible) {\n          this.doneOnce = true;\n          this.stop();\n        }\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      /* istanbul ignore next */\n      this.observer && this.observer.disconnect();\n      this.observer = null;\n    }\n  }]);\n\n  return VisibilityObserver;\n}();\n\nvar destroy = function destroy(el) {\n  var observer = el[OBSERVER_PROP_NAME];\n\n  if (observer && observer.stop) {\n    observer.stop();\n  }\n\n  delete el[OBSERVER_PROP_NAME];\n};\n\nvar bind = function bind(el, _ref, vnode) {\n  var value = _ref.value,\n      modifiers = _ref.modifiers;\n  // `value` is the callback function\n  var options = {\n    margin: '0px',\n    once: false,\n    callback: value\n  }; // Parse modifiers\n\n  keys(modifiers).forEach(function (mod) {\n    /* istanbul ignore else: Until <b-img-lazy> is switched to use this directive */\n    if (RX_DIGITS.test(mod)) {\n      options.margin = \"\".concat(mod, \"px\");\n    } else if (mod.toLowerCase() === 'once') {\n      options.once = true;\n    }\n  }); // Destroy any previous observer\n\n  destroy(el); // Create new observer\n\n  el[OBSERVER_PROP_NAME] = new VisibilityObserver(el, options, vnode); // Store the current modifiers on the object (cloned)\n\n  el[OBSERVER_PROP_NAME]._prevModifiers = clone(modifiers);\n}; // When the directive options may have been updated (or element)\n\n\nvar componentUpdated = function componentUpdated(el, _ref2, vnode) {\n  var value = _ref2.value,\n      oldValue = _ref2.oldValue,\n      modifiers = _ref2.modifiers;\n  // Compare value/oldValue and modifiers to see if anything has changed\n  // and if so, destroy old observer and create new observer\n\n  /* istanbul ignore next */\n  modifiers = clone(modifiers);\n  /* istanbul ignore next */\n\n  if (el && (value !== oldValue || !el[OBSERVER_PROP_NAME] || !looseEqual(modifiers, el[OBSERVER_PROP_NAME]._prevModifiers))) {\n    // Re-bind on element\n    bind(el, {\n      value: value,\n      modifiers: modifiers\n    }, vnode);\n  }\n}; // When directive un-binds from element\n\n\nvar unbind = function unbind(el) {\n  // Remove the observer\n  destroy(el);\n}; // Export the directive\n\n\nexport var VBVisible = {\n  bind: bind,\n  componentUpdated: componentUpdated,\n  unbind: unbind\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_TEXTAREA } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { getCS, getStyle, isVisible, requestAF, setStyle } from '../../utils/dom';\nimport { isNull } from '../../utils/inspect';\nimport { mathCeil, mathMax, mathMin } from '../../utils/math';\nimport { toInteger, toFloat } from '../../utils/number';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formSelectionMixin } from '../../mixins/form-selection';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { formTextMixin, props as formTextProps } from '../../mixins/form-text';\nimport { formValidityMixin } from '../../mixins/form-validity';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { VBVisible } from '../../directives/visible/visible'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formSizeProps), formStateProps), formTextProps), {}, {\n  maxRows: makeProp(PROP_TYPE_NUMBER_STRING),\n  // When in auto resize mode, disable shrinking to content height\n  noAutoShrink: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Disable the resize handle of textarea\n  noResize: makeProp(PROP_TYPE_BOOLEAN, false),\n  rows: makeProp(PROP_TYPE_NUMBER_STRING, 2),\n  // 'soft', 'hard' or 'off'\n  // Browser default is 'soft'\n  wrap: makeProp(PROP_TYPE_STRING, 'soft')\n})), NAME_FORM_TEXTAREA); // --- Main component ---\n// @vue/component\n\nexport var BFormTextarea = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_TEXTAREA,\n  directives: {\n    'b-visible': VBVisible\n  },\n  // Mixin order is important!\n  mixins: [listenersMixin, idMixin, listenOnRootMixin, formControlMixin, formSizeMixin, formStateMixin, formTextMixin, formSelectionMixin, formValidityMixin],\n  props: props,\n  data: function data() {\n    return {\n      heightInPx: null\n    };\n  },\n  computed: {\n    computedStyle: function computedStyle() {\n      var styles = {\n        // Setting `noResize` to true will disable the ability for the user to\n        // manually resize the textarea. We also disable when in auto height mode\n        resize: !this.computedRows || this.noResize ? 'none' : null\n      };\n\n      if (!this.computedRows) {\n        // Conditionally set the computed CSS height when auto rows/height is enabled\n        // We avoid setting the style to `null`, which can override user manual resize handle\n        styles.height = this.heightInPx; // We always add a vertical scrollbar to the textarea when auto-height is\n        // enabled so that the computed height calculation returns a stable value\n\n        styles.overflowY = 'scroll';\n      }\n\n      return styles;\n    },\n    computedMinRows: function computedMinRows() {\n      // Ensure rows is at least 2 and positive (2 is the native textarea value)\n      // A value of 1 can cause issues in some browsers, and most browsers\n      // only support 2 as the smallest value\n      return mathMax(toInteger(this.rows, 2), 2);\n    },\n    computedMaxRows: function computedMaxRows() {\n      return mathMax(this.computedMinRows, toInteger(this.maxRows, 0));\n    },\n    computedRows: function computedRows() {\n      // This is used to set the attribute 'rows' on the textarea\n      // If auto-height is enabled, then we return `null` as we use CSS to control height\n      return this.computedMinRows === this.computedMaxRows ? this.computedMinRows : null;\n    },\n    computedAttrs: function computedAttrs() {\n      var disabled = this.disabled,\n          required = this.required;\n      return {\n        id: this.safeId(),\n        name: this.name || null,\n        form: this.form || null,\n        disabled: disabled,\n        placeholder: this.placeholder || null,\n        required: required,\n        autocomplete: this.autocomplete || null,\n        readonly: this.readonly || this.plaintext,\n        rows: this.computedRows,\n        wrap: this.wrap || null,\n        'aria-required': this.required ? 'true' : null,\n        'aria-invalid': this.computedAriaInvalid\n      };\n    },\n    computedListeners: function computedListeners() {\n      return _objectSpread(_objectSpread({}, this.bvListeners), {}, {\n        input: this.onInput,\n        change: this.onChange,\n        blur: this.onBlur\n      });\n    }\n  },\n  watch: {\n    localValue: function localValue() {\n      this.setHeight();\n    }\n  },\n  mounted: function mounted() {\n    this.setHeight();\n  },\n  methods: {\n    // Called by intersection observer directive\n\n    /* istanbul ignore next */\n    visibleCallback: function visibleCallback(visible) {\n      if (visible) {\n        // We use a `$nextTick()` here just to make sure any\n        // transitions or portalling have completed\n        this.$nextTick(this.setHeight);\n      }\n    },\n    setHeight: function setHeight() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        requestAF(function () {\n          _this.heightInPx = _this.computeHeight();\n        });\n      });\n    },\n\n    /* istanbul ignore next: can't test getComputedStyle in JSDOM */\n    computeHeight: function computeHeight() {\n      if (this.$isServer || !isNull(this.computedRows)) {\n        return null;\n      }\n\n      var el = this.$el; // Element must be visible (not hidden) and in document\n      // Must be checked after above checks\n\n      if (!isVisible(el)) {\n        return null;\n      } // Get current computed styles\n\n\n      var computedStyle = getCS(el); // Height of one line of text in px\n\n      var lineHeight = toFloat(computedStyle.lineHeight, 1); // Calculate height of border and padding\n\n      var border = toFloat(computedStyle.borderTopWidth, 0) + toFloat(computedStyle.borderBottomWidth, 0);\n      var padding = toFloat(computedStyle.paddingTop, 0) + toFloat(computedStyle.paddingBottom, 0); // Calculate offset\n\n      var offset = border + padding; // Minimum height for min rows (which must be 2 rows or greater for cross-browser support)\n\n      var minHeight = lineHeight * this.computedMinRows + offset; // Get the current style height (with `px` units)\n\n      var oldHeight = getStyle(el, 'height') || computedStyle.height; // Probe scrollHeight by temporarily changing the height to `auto`\n\n      setStyle(el, 'height', 'auto');\n      var scrollHeight = el.scrollHeight; // Place the original old height back on the element, just in case `computedProp`\n      // returns the same value as before\n\n      setStyle(el, 'height', oldHeight); // Calculate content height in 'rows' (scrollHeight includes padding but not border)\n\n      var contentRows = mathMax((scrollHeight - padding) / lineHeight, 2); // Calculate number of rows to display (limited within min/max rows)\n\n      var rows = mathMin(mathMax(contentRows, this.computedMinRows), this.computedMaxRows); // Calculate the required height of the textarea including border and padding (in pixels)\n\n      var height = mathMax(mathCeil(rows * lineHeight + offset), minHeight); // Computed height remains the larger of `oldHeight` and new `height`,\n      // when height is in `sticky` mode (prop `no-auto-shrink` is true)\n\n      if (this.noAutoShrink && toFloat(oldHeight, 0) > height) {\n        return oldHeight;\n      } // Return the new computed CSS height in px units\n\n\n      return \"\".concat(height, \"px\");\n    }\n  },\n  render: function render(h) {\n    return h('textarea', {\n      class: this.computedClass,\n      style: this.computedStyle,\n      directives: [{\n        name: 'b-visible',\n        value: this.visibleCallback,\n        // If textarea is within 640px of viewport, consider it visible\n        modifiers: {\n          '640': true\n        }\n      }],\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.localValue\n      },\n      on: this.computedListeners,\n      ref: 'input'\n    });\n  }\n});","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-calendar overflow-hidden border\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col app-calendar-sidebar flex-grow-0 overflow-hidden d-flex flex-column\",class:{'show': _vm.isCalendarOverlaySidebarActive}},[_c('calendar-sidebar',{attrs:{\"is-event-handler-sidebar-active\":_vm.isEventHandlerSidebarActive},on:{\"update:isEventHandlerSidebarActive\":function($event){_vm.isEventHandlerSidebarActive=$event},\"update:is-event-handler-sidebar-active\":function($event){_vm.isEventHandlerSidebarActive=$event}}})],1),_c('div',{staticClass:\"col position-relative\"},[_c('div',{staticClass:\"card shadow-none border-0 mb-0 rounded-0\"},[_c('div',{staticClass:\"card-body pb-0\"},[_c('full-calendar',{ref:\"refCalendar\",staticClass:\"full-calendar\",attrs:{\"options\":_vm.calendarOptions}})],1)])]),_c('div',{staticClass:\"body-content-overlay\",class:{'show': _vm.isCalendarOverlaySidebarActive},on:{\"click\":function($event){_vm.isCalendarOverlaySidebarActive = false}}}),_c('calendar-event-handler',{attrs:{\"event\":_vm.event,\"clear-event-data\":_vm.clearEventData},on:{\"remove-event\":_vm.removeEvent,\"add-event\":_vm.addEvent,\"update-event\":_vm.updateEvent},model:{value:(_vm.isEventHandlerSidebarActive),callback:function ($$v) {_vm.isEventHandlerSidebarActive=$$v},expression:\"isEventHandlerSidebarActive\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","var n,l,u,i,t,o,r,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return y(l,f,t,o,null)}function y(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?k(t):o,t.__h),z(u,t),t.__e!=o&&b(t)))})}function w(n,l,u,i,t,o,r,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,o,r,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&null!=_.__k&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),a||\"option\"!==u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l=\"function\"==typeof t.type?x(t,l,u):P(u,t,t,n.__k,t.__e,l));return l}function A(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof P){if(m=u.props,g=(s=P.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in P&&P.prototype.render?u.__c=h=new P(m,x):(u.__c=h=new _(m,x),h.constructor=P,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,P.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}h.context=x,h.props=m,h.state=h.__s,(s=l.__r)&&s(u),h.__d=!1,h.__v=u,h.__P=n,s=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),A=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(o=!0),null!=r)for(;_<r.length;_++)if((s=r[_])&&(s===l||(d?s.localName==d:3==s.nodeType))){l=s,r[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,o&&\"foreignObject\"!==d,r,f,r?r[0]:i.__k&&k(i,0),c),null!=r)for(_=r.length;_--;)null!=r[_]&&h(r[_]);c||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_)&&H(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,\"checked\",_,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,\"function\"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var o,r,f;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!o&&t||i).__k=v(d,null,[u]),r||e,e,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,f,!o&&t?t:r?r.__e:i.firstChild,o),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,o,r,f=a({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,o||l.ref,null)}function D(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;export{S as render,q as hydrate,v as createElement,v as h,d as Fragment,p as createRef,i as isValidElement,_ as Component,B as cloneElement,D as createContext,A as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function m(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function l(n){return o=1,p(w,n)}function p(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=m(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function h(r,o){var i=m(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function s(n){return o=5,d(function(){return{current:n}},[])}function _(n,t,u){o=6,h(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function d(n,u){var r=m(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,d(function(){return n},t)}function F(n){var r=u.context[n.__c],o=m(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=m(t++,10),o=l();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){i.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}),i=[]}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=void 0},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(g)}catch(t){n.__e(t,u.__v)}};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u;\"function\"==typeof n.__c&&n.__c(),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{l as useState,p as useReducer,y as useEffect,h as useLayoutEffect,s as useRef,_ as useImperativeHandle,d as useMemo,A as useCallback,F as useContext,T as useDebugValue,q as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as f,useDebugValue as c}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as v,Fragment as d,render as p,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function S(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:C(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function x(n){function t(t,e){var r=S({},t);return delete r.ref,n(r,(e=t.ref||e)&&(\"object\"!=typeof e||\"current\"in e)?e:null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:v(v(n).map(t))},k={map:N,forEach:N,count:function(n){return n?v(n).length:0},only:function(n){var t=v(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:v},A=h.__e;h.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t);A(n,t,e)};var O=h.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function F(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function M(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(L.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},f=!0===t.__h;r.__u++||f||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=S({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__e&&s(d,null,n.fallback);return u&&(u.__h=null),[s(d,null,t.__e?null:n.children),u]};var T=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function D(n){return this.getChildContext=function(){return n.context},n.children}function I(n){var t=this,e=n.i;t.componentWillUnmount=function(){p(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),p(s(D,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function W(n,t){return s(I,{__v:n,i:t})}(M.prototype=new a).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),T(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=v(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){T(n,e,t)})};var j=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function z(n,t,e){return null==t.__k&&(t.textContent=\"\"),p(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function B(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var H=h.event;function Z(){}function Y(){return this.cancelBubble}function $(){return this.defaultPrevented}h.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=$,n.nativeEvent=n};var q,G={configurable:!0,get:function(){return this.class}},J=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){for(var u in r={},e){var o=e[u];\"value\"===u&&\"defaultValue\"in e&&null==o||(\"defaultValue\"===u&&\"value\"in e&&null==e.value?u=\"value\":\"download\"===u&&!0===o?o=\"\":/ondoubleclick/i.test(u)?u=\"ondblclick\":/^onchange(textarea|input)/i.test(u+t)&&!V(e.type)?u=\"oninput\":/^on(Ani|Tra|Tou|BeforeInp)/.test(u)?u=u.toLowerCase():P.test(u)?u=u.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===o&&(o=void 0),r[u]=o)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=v(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=v(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r}t&&e.class!=e.className&&(G.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",G)),n.$$typeof=j,J&&J(n)};var K=h.__r;h.__r=function(n){K&&K(n),q=n.__c};var Q={ReactCurrentDispatcher:{current:{readContext:function(n){return q.__n[n.__c].props.value}}}},X=\"17.0.2\";function nn(n){return s.bind(null,n)}function tn(n){return!!n&&n.$$typeof===j}function en(n){return tn(n)?y.apply(null,arguments):n}function rn(n){return!!n.__k&&(p(null,n),!0)}function un(n){return n&&(n.base||1===n.nodeType&&n)||null}var on=function(n,t){return n(t)},ln=function(n,t){return n(t)},fn=d;export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:f,useDebugValue:c,version:\"17.0.2\",Children:k,render:z,hydrate:B,unmountComponentAtNode:rn,createPortal:W,createElement:s,createContext:_,createFactory:nn,cloneElement:en,createRef:b,Fragment:d,isValidElement:tn,findDOMNode:un,Component:a,PureComponent:E,memo:g,forwardRef:x,flushSync:ln,unstable_batchedUpdates:on,StrictMode:d,Suspense:L,SuspenseList:M,lazy:F,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Q};export{X as version,k as Children,z as render,B as hydrate,rn as unmountComponentAtNode,W as createPortal,nn as createFactory,en as cloneElement,tn as isValidElement,un as findDOMNode,E as PureComponent,g as memo,x as forwardRef,ln as flushSync,on as unstable_batchedUpdates,fn as StrictMode,L as Suspense,M as SuspenseList,F as lazy,Q as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED};\n//# sourceMappingURL=compat.module.js.map\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushToDom, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Shadow DOM consuderations\n// ----------------------------------------------------------------------------------------------------------------\nfunction getElRoot(el) {\n    return el.getRootNode ? el.getRootNode() : document;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekText);\n    }\n    else if (display === 'short') {\n        parts.push(weekText, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.viewsWithButtons);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE, // necessary?\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nfunction buildNavLinkData(date, type) {\n    if (type === void 0) { type = 'day'; }\n    return JSON.stringify({\n        date: formatDayString(date),\n        type: type,\n    });\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return (this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]);\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var customContentInfo = this.customContentInfo; // only populated if using non-[p]react node(s)\n        var innerContent = this.getInnerContent();\n        var meta = this.getContentMeta(innerContent);\n        // initial run, or content-type changing? (from vue -> react for example)\n        if (!customContentInfo || customContentInfo.contentKey !== meta.contentKey) {\n            // clearing old value\n            if (customContentInfo) {\n                if (customContentInfo.destroy) {\n                    customContentInfo.destroy();\n                }\n                customContentInfo = this.customContentInfo = null;\n            }\n            // assigning new value\n            if (meta.contentKey) {\n                customContentInfo = this.customContentInfo = __assign({ contentKey: meta.contentKey, contentVal: innerContent[meta.contentKey] }, meta.buildLifecycleFuncs());\n            }\n            // updating\n        }\n        else if (customContentInfo) {\n            customContentInfo.contentVal = innerContent[meta.contentKey];\n        }\n        return customContentInfo\n            ? [] // signal that something was specified\n            : innerContent; // assume a [p]react vdom node. use it\n    };\n    ContentHookInner.prototype.getInnerContent = function () {\n        var props = this.props;\n        var innerContent = normalizeContent(props.content, props.hookProps);\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        return innerContent == null ? null : innerContent; // convert undefined to null (better for React)\n    };\n    ContentHookInner.prototype.getContentMeta = function (innerContent) {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var contentKey = '';\n        var buildLifecycleFuncs = null;\n        if (innerContent) { // allowed to be null, for convenience to caller\n            for (var searchKey in contentTypeHandlers) {\n                if (innerContent[searchKey] !== undefined) {\n                    contentKey = searchKey;\n                    buildLifecycleFuncs = contentTypeHandlers[searchKey];\n                    break;\n                }\n            }\n        }\n        return { contentKey: contentKey, buildLifecycleFuncs: buildLifecycleFuncs };\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) { // for non-[p]react\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type, // fall back to given view name\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var viewsWithButtons = [];\n    var headerToolbar = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    var footerToolbar = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    return { headerToolbar: headerToolbar, footerToolbar: footerToolbar, viewsWithButtons: viewsWithButtons };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    return mapHash(sectionStrHash, function (sectionStr) { return parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons); });\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    return sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]);\n            //            ^ everything else is considered default\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText };\n    })); });\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: function () { return ({ render: injectHtml }); },\n            domNodes: function () { return ({ render: injectDomNodes }); },\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction injectHtml(el, html) {\n    el.innerHTML = html;\n}\nfunction injectDomNodes(el, domNodes) {\n    var oldNodes = Array.prototype.slice.call(el.childNodes); // TODO: use array util\n    var newNodes = Array.prototype.slice.call(domNodes); // TODO: use array util\n    if (!isArraysEqual(oldNodes, newNodes)) {\n        for (var _i = 0, newNodes_1 = newNodes; _i < newNodes_1.length; _i++) {\n            var newNode = newNodes_1[_i];\n            el.appendChild(newNode);\n        }\n        oldNodes.forEach(removeElement);\n    }\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (inputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    // returns number of new entries inserted\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        var entrySpan = entry.span;\n        var barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([{\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n                }], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, strictOrder = _a.strictOrder, stackCnts = _a.stackCnts;\n        var levelCnt = levelCoords.length;\n        var candidateCoord = 0;\n        var touchingLevel = -1;\n        var touchingLateral = -1;\n        var touchingEntry = null;\n        var stackCnt = 0;\n        for (var trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            var trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                break;\n            }\n            var trackingEntries = entriesByLevel[trackingLevel];\n            var trackingEntry = void 0;\n            var searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            var lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                var trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        var destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        var destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel: touchingLevel,\n            touchingLateral: touchingLateral,\n            touchingEntry: touchingEntry,\n            stackCnt: stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    var start = Math.max(span0.start, span1.start);\n    var end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start: start, end: end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\" }, props.title));\n            }\n            else {\n                var ariaAttrs = buttonIcon ? { 'aria-label': buttonName } : {};\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (buttonName === props.activeButton) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                children.push(createElement(\"button\", __assign({ disabled: isDisabled, className: buttonClasses.join(' '), onClick: buttonClick, type: \"button\" }, ariaAttrs), buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var centerContent = model.center;\n        if (model.left) {\n            forceLtr = true;\n            startContent = model.left;\n        }\n        else {\n            startContent = model.start;\n        }\n        if (model.right) {\n            forceLtr = true;\n            endContent = model.right;\n        }\n        else {\n            endContent = model.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { ref: this.handleEl, onClick: props.onClick, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.handleNavLinkClick = buildDelegationHandler('a[data-navlink]', _this._handleNavLinkClick.bind(_this));\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.headerToolbar && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.headerToolbar }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, onClick: this.handleNavLinkClick },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footerToolbar && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footerToolbar }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype._handleNavLinkClick = function (ev, anchorEl) {\n        var _a = this.props, dateEnv = _a.dateEnv, options = _a.options, calendarApi = _a.calendarApi;\n        var navLinkOptions = anchorEl.getAttribute('data-navlink');\n        navLinkOptions = navLinkOptions ? JSON.parse(navLinkOptions) : {};\n        var dateMarker = dateEnv.createMarker(navLinkOptions.date);\n        var viewType = navLinkOptions.type;\n        var customAction = viewType === 'day' ? options.navLinkDayClick :\n            viewType === 'week' ? options.navLinkWeekClick : null;\n        if (typeof customAction === 'function') {\n            customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n        }\n        else {\n            if (typeof customAction === 'string') {\n                viewType = customAction;\n            }\n            calendarApi.zoomTo(dateMarker, viewType);\n        }\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (options.navLinks && !dayMeta.isDisabled && props.colCnt > 1)\n            ? { 'data-navlink': buildNavLinkData(date), tabIndex: 0 }\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", null,\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement('tbody', {}, typeof chunkConfig.rowContent === 'function' ? chunkConfig.rowContent(arg) : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        return createElement('table', {\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', {}], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', {}], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', {}], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', {}], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        });\n        return (createElement(\"td\", { ref: chunkConfig.elRef },\n            createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n                createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                    : true }, content))));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMousedown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var theme = this.context.theme;\n        var props = this.props;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ className: classNames.join(' ') }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\" }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMousedown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMousedown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: typeof moreLinkText === 'function'\n                    ? moreLinkText.call(calendarApi, moreCnt)\n                    : \"+\" + moreCnt + \" \" + moreLinkText,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick); })),\n                _this.state.isPopoverOpen && (createElement(MorePopover, { startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.9.0'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkData, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElRoot, getElSeg, getEntrySpanEnd, getEventClassNames, getEventTargetViaRoot, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, intersectSpans, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, joinSpans, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n//# sourceMappingURL=main.js.map\n","export var OPTION_IS_COMPLEX = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n//# sourceMappingURL=options.js.map","// TODO: add types!\nimport { __assign } from \"tslib\";\n/*\nworks with objects and arrays\n*/\nexport function shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = __assign({}, val);\n        }\n    }\n    return val;\n}\nexport function mapHash(input, func) {\n    var output = {};\n    for (var key in input) {\n        if (input.hasOwnProperty(key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n//# sourceMappingURL=utils.js.map","import Vue from 'vue';\nimport { createPlugin } from '@fullcalendar/core';\n/*\nwrap it in an object with a `vue` key, which the custom content-type handler system will look for\n*/\nexport function wrapVDomGenerator(vDomGenerator) {\n    return function (props) {\n        return { vue: vDomGenerator(props) };\n    };\n}\nexport function createVueContentTypePlugin(parent) {\n    return createPlugin({\n        contentTypeHandlers: {\n            vue: function () { return buildVDomHandler(parent); }, // looks for the `vue` key\n        }\n    });\n}\nfunction buildVDomHandler(parent) {\n    var currentEl;\n    var v; // the Vue instance\n    function render(el, vDomContent) {\n        if (currentEl !== el) {\n            if (currentEl && v) { // if changing elements, recreate the vue\n                v.$destroy();\n            }\n            currentEl = el;\n        }\n        if (!v) {\n            v = initVue(vDomContent, parent);\n            // vue's mount method *replaces* the given element. create an artificial inner el\n            var innerEl = document.createElement('span');\n            el.appendChild(innerEl);\n            v.$mount(innerEl);\n        }\n        else {\n            v.content = vDomContent;\n        }\n    }\n    function destroy() {\n        if (v) { // needed?\n            v.$destroy();\n        }\n    }\n    return { render: render, destroy: destroy };\n}\nfunction initVue(initialContent, parent) {\n    return new Vue({\n        parent: parent,\n        data: {\n            content: initialContent,\n        },\n        render: function (h) {\n            var content = this.content;\n            // the slot result can be an array, but the returned value of a vue component's\n            // render method must be a single node.\n            if (content.length === 1) {\n                return content[0];\n            }\n            else {\n                return h('span', {}, content);\n            }\n        }\n    });\n}\n//# sourceMappingURL=custom-content-type.js.map","import { __assign } from \"tslib\";\nimport Vue from 'vue';\nimport { Calendar } from '@fullcalendar/core';\nimport { OPTION_IS_COMPLEX } from './options';\nimport { shallowCopy, mapHash } from './utils';\nimport { wrapVDomGenerator, createVueContentTypePlugin } from './custom-content-type';\nvar FullCalendar = Vue.extend({\n    props: {\n        options: Object\n    },\n    data: initData,\n    render: function (createElement) {\n        return createElement('div', {\n            // when renderId is changed, Vue will trigger a real-DOM async rerender, calling beforeUpdate/updated\n            attrs: { 'data-fc-render-id': this.renderId }\n        });\n    },\n    mounted: function () {\n        var internal = this.$options;\n        internal.scopedSlotOptions = mapHash(this.$scopedSlots, wrapVDomGenerator); // needed for buildOptions\n        var calendar = new Calendar(this.$el, this.buildOptions(this.options, this));\n        internal.calendar = calendar;\n        calendar.render();\n    },\n    methods: {\n        getApi: getApi,\n        buildOptions: buildOptions,\n    },\n    beforeUpdate: function () {\n        this.getApi().resumeRendering(); // the watcher handlers paused it\n    },\n    beforeDestroy: function () {\n        this.getApi().destroy();\n    },\n    watch: buildWatchers()\n});\nfunction initData() {\n    return {\n        renderId: 0\n    };\n}\nfunction buildOptions(suppliedOptions, parent) {\n    var internal = this.$options;\n    suppliedOptions = suppliedOptions || {};\n    return __assign(__assign(__assign({}, internal.scopedSlotOptions), suppliedOptions), { plugins: (suppliedOptions.plugins || []).concat([\n            createVueContentTypePlugin(parent)\n        ]) });\n}\nfunction getApi() {\n    var internal = this.$options;\n    return internal.calendar;\n}\nfunction buildWatchers() {\n    var watchers = {\n        // watches changes of ALL options and their nested objects,\n        // but this is only a means to be notified of top-level non-complex options changes.\n        options: {\n            deep: true,\n            handler: function (options) {\n                var calendar = this.getApi();\n                calendar.pauseRendering();\n                calendar.resetOptions(this.buildOptions(options, this));\n                this.renderId++; // will queue a rerender\n            }\n        }\n    };\n    var _loop_1 = function (complexOptionName) {\n        // handlers called when nested objects change\n        watchers[\"options.\" + complexOptionName] = {\n            deep: true,\n            handler: function (val) {\n                var _a;\n                // unfortunately the handler is called with undefined if new props were set, but the complex one wasn't ever set\n                if (val !== undefined) {\n                    var calendar = this.getApi();\n                    calendar.pauseRendering();\n                    calendar.resetOptions((_a = {},\n                        // the only reason we shallow-copy is to trick FC into knowing there's a nested change.\n                        // TODO: future versions of FC will more gracefully handle event option-changes that are same-reference.\n                        _a[complexOptionName] = shallowCopy(val),\n                        _a), true);\n                    this.renderId++; // will queue a rerender\n                }\n            }\n        };\n    };\n    for (var complexOptionName in OPTION_IS_COMPLEX) {\n        _loop_1(complexOptionName);\n    }\n    return watchers;\n}\nexport default FullCalendar;\n//# sourceMappingURL=FullCalendar.js.map","import FullCalendarComponent from './FullCalendar';\n/*\nRegisters the component globally if appropriate.\nThis modules exposes the component AND an install function.\n\nDerived from:\nhttps://vuejs.org/v2/cookbook/packaging-sfc-for-npm.html\n*/\nvar installed = false;\n// declare install function executed by Vue.use()\nexport function install(Vue) {\n    if (!installed) {\n        installed = true;\n        Vue.component('FullCalendar', FullCalendarComponent);\n    }\n}\n// detect a globally availble version of Vue (eg. in browser via <script> tag)\nvar GlobalVue;\nif (typeof globalThis !== 'undefined') {\n    GlobalVue = globalThis.Vue;\n}\nelse {\n    GlobalVue = window.Vue;\n}\n// auto-install if possible\nif (GlobalVue) {\n    GlobalVue.use({\n        install: install\n    });\n}\n// to allow use as module (npm/webpack/etc.) export component\nexport default FullCalendarComponent;\n// so can access any of the utils/types from this lib\nexport * from '@fullcalendar/core';\n//# sourceMappingURL=main.js.map","var _objectSpread2;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_CHECKBOX_GROUP } from '../../constants/components';\nimport { PROP_TYPE_ARRAY, PROP_TYPE_BOOLEAN } from '../../constants/props';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { MODEL_PROP_NAME, formRadioCheckGroupMixin, props as formRadioCheckGroupProps } from '../../mixins/form-radio-check-group'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, formRadioCheckGroupProps), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, MODEL_PROP_NAME, makeProp(PROP_TYPE_ARRAY, [])), _defineProperty(_objectSpread2, \"switches\", makeProp(PROP_TYPE_BOOLEAN, false)), _objectSpread2))), NAME_FORM_CHECKBOX_GROUP); // --- Main component ---\n// @vue/component\n\nexport var BFormCheckboxGroup = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_CHECKBOX_GROUP,\n  // Includes render function\n  mixins: [formRadioCheckGroupMixin],\n  provide: function provide() {\n    return {\n      bvCheckGroup: this\n    };\n  },\n  props: props,\n  computed: {\n    isRadioGroup: function isRadioGroup() {\n      return false;\n    }\n  }\n});","import axios from '@axios'\n\nexport default {\n  namespaced: true,\n  state: {\n    calendarOptions: [\n      {\n        color: 'danger',\n        label: 'Personal',\n      },\n      {\n        color: 'primary',\n        label: 'Business',\n      },\n      {\n        color: 'warning',\n        label: 'Family',\n      },\n      {\n        color: 'success',\n        label: 'Holiday',\n      },\n      {\n        color: 'info',\n        label: 'ETC',\n      },\n    ],\n    selectedCalendars: ['Personal', 'Business', 'Family', 'Holiday', 'ETC'],\n  },\n  getters: {},\n  mutations: {\n    SET_SELECTED_EVENTS(state, val) {\n      state.selectedCalendars = val\n    },\n  },\n  actions: {\n    fetchEvents(ctx, { calendars }) {\n      return new Promise((resolve, reject) => {\n        axios\n          .get('/apps/calendar/events', {\n            params: {\n              calendars: calendars.join(','),\n            },\n          })\n          .then(response => resolve(response))\n          .catch(error => reject(error))\n      })\n    },\n    addEvent(ctx, { event }) {\n      return new Promise((resolve, reject) => {\n        axios\n          .post('/apps/calendar/events', { event })\n          .then(response => resolve(response))\n          .catch(error => reject(error))\n      })\n    },\n    updateEvent(ctx, { event }) {\n      return new Promise((resolve, reject) => {\n        axios\n          .post(`/apps/calendar/events/${event.id}`, { event })\n          .then(response => resolve(response))\n          .catch(error => reject(error))\n      })\n    },\n    removeEvent(ctx, { id }) {\n      return new Promise((resolve, reject) => {\n        axios\n          .delete(`/apps/calendar/events/${id}`)\n          .then(response => resolve(response))\n          .catch(error => reject(error))\n      })\n    },\n  },\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sidebar-wrapper d-flex justify-content-between flex-column flex-grow-1\"},[_c('div',{staticClass:\"p-2\"},[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(255, 255, 255, 0.15)'),expression:\"'rgba(255, 255, 255, 0.15)'\",modifiers:{\"400\":true}}],attrs:{\"aria-controls\":\"sidebar-add-new-event\",\"aria-expanded\":String(_vm.isEventHandlerSidebarActive),\"variant\":\"primary\",\"block\":\"\"},on:{\"click\":function($event){return _vm.$emit('update:isEventHandlerSidebarActive', true)}}},[_vm._v(\" Add Event \")]),_c('div',{staticClass:\"mt-3\"},[_vm._m(0),_c('b-form-checkbox',{staticClass:\"mb-1\",model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\" View All \")]),_c('b-form-group',[_c('b-form-checkbox-group',{attrs:{\"name\":\"event-filter\",\"stacked\":\"\"},model:{value:(_vm.selectedCalendars),callback:function ($$v) {_vm.selectedCalendars=$$v},expression:\"selectedCalendars\"}},_vm._l((_vm.calendarOptions),function(item){return _c('b-form-checkbox',{key:item.label,staticClass:\"mb-1\",class:(\"custom-control-\" + (item.color)),attrs:{\"name\":\"event-filter\",\"value\":item.label}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),1)],1)],1)],1),_c('b-img',{attrs:{\"src\":require('@/assets/images/pages/calendar-illustration.png')}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h5',{staticClass:\"app-label section-label mb-1\"},[_c('span',{staticClass:\"align-middle\"},[_vm._v(\"Calendars\")])])}]\n\nexport { render, staticRenderFns }","import store from '@/store'\n\nimport { computed } from '@vue/composition-api'\n\nexport default function useCalendarSidebar() {\n  // ------------------------------------------------\n  // calendarOptions\n  // ------------------------------------------------\n  const calendarOptions = computed(() => store.state.calendar.calendarOptions)\n\n  // ------------------------------------------------\n  // selectedCalendars\n  // ------------------------------------------------\n  const selectedCalendars = computed({\n    get: () => store.state.calendar.selectedCalendars,\n    set: val => {\n      store.commit('calendar/SET_SELECTED_EVENTS', val)\n    },\n  })\n\n  // ------------------------------------------------\n  // checkAll\n  // ------------------------------------------------\n  const checkAll = computed({\n    /*\n      GET: Return boolean `true` => if length of options matches length of selected filters => Length matches when all events are selected\n      SET: If value is `true` => then add all available options in selected filters => Select All\n           Else if => all filters are selected (by checking length of both array) => Empty Selected array  => Deselect All\n    */\n    get: () => selectedCalendars.value.length === calendarOptions.value.length,\n    set: val => {\n      if (val) {\n        selectedCalendars.value = calendarOptions.value.map(i => i.label)\n      } else if (selectedCalendars.value.length === calendarOptions.value.length) {\n        selectedCalendars.value = []\n      }\n    },\n  })\n\n  return {\n    calendarOptions,\n    selectedCalendars,\n    checkAll,\n  }\n}\n","<template>\n  <div class=\"sidebar-wrapper d-flex justify-content-between flex-column flex-grow-1\">\n    <div class=\"p-2\">\n      <b-button\n        v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n        aria-controls=\"sidebar-add-new-event\"\n        :aria-expanded=\"String(isEventHandlerSidebarActive)\"\n        variant=\"primary\"\n        block\n        @click=\"$emit('update:isEventHandlerSidebarActive', true)\"\n      >\n        Add Event\n      </b-button>\n      <div class=\"mt-3\">\n        <h5 class=\"app-label section-label mb-1\">\n          <span class=\"align-middle\">Calendars</span>\n        </h5>\n        <b-form-checkbox\n          v-model=\"checkAll\"\n          class=\"mb-1\"\n        >\n          View All\n        </b-form-checkbox>\n        <b-form-group>\n          <b-form-checkbox-group\n            v-model=\"selectedCalendars\"\n            name=\"event-filter\"\n            stacked\n          >\n            <b-form-checkbox\n              v-for=\"item in calendarOptions\"\n              :key=\"item.label\"\n              name=\"event-filter\"\n              :value=\"item.label\"\n              class=\"mb-1\"\n              :class=\"`custom-control-${item.color}`\"\n            >\n              {{ item.label }}\n            </b-form-checkbox>\n          </b-form-checkbox-group>\n        </b-form-group>\n      </div>\n    </div>\n    <b-img :src=\"require('@/assets/images/pages/calendar-illustration.png')\" />\n  </div>\n</template>\n\n<script>\nimport {\n  BButton, BFormGroup, BFormCheckboxGroup, BFormCheckbox, BImg,\n} from 'bootstrap-vue'\nimport Ripple from 'vue-ripple-directive'\nimport useCalendarSidebar from './useCalendarSidebar'\n\nexport default {\n  directives: {\n    Ripple,\n  },\n  components: {\n    BButton,\n    BImg,\n    BFormCheckbox,\n    BFormGroup,\n    BFormCheckboxGroup,\n  },\n  props: {\n    isEventHandlerSidebarActive: {\n      type: Boolean,\n      require: true,\n    },\n  },\n  setup() {\n    const {\n      calendarOptions,\n      selectedCalendars,\n      checkAll,\n    } = useCalendarSidebar()\n\n    return {\n      calendarOptions,\n      selectedCalendars,\n      checkAll,\n    }\n  },\n}\n</script>\n\n<style>\n\n</style>\n","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_COLLAPSE, NAME_SIDEBAR } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { EVENT_NAME_CHANGE, EVENT_NAME_HIDDEN, EVENT_NAME_SHOWN } from '../../constants/events';\nimport { CODE_ESC } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_FOOTER, SLOT_NAME_HEADER, SLOT_NAME_HEADER_CLOSE, SLOT_NAME_TITLE } from '../../constants/slots';\nimport { attemptFocus, contains, getActiveElement, getTabables } from '../../utils/dom';\nimport { getRootActionEventName, getRootEventName } from '../../utils/events';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BIconX } from '../../icons/icons';\nimport { BButtonClose } from '../button/button-close';\nimport { BVTransition } from '../transition/bv-transition'; // --- Constants ---\n\nvar CLASS_NAME = 'b-sidebar';\nvar ROOT_ACTION_EVENT_NAME_REQUEST_STATE = getRootActionEventName(NAME_COLLAPSE, 'request-state');\nvar ROOT_ACTION_EVENT_NAME_TOGGLE = getRootActionEventName(NAME_COLLAPSE, 'toggle');\nvar ROOT_EVENT_NAME_STATE = getRootEventName(NAME_COLLAPSE, 'state');\nvar ROOT_EVENT_NAME_SYNC_STATE = getRootEventName(NAME_COLLAPSE, 'sync-state');\n\nvar _makeModelMixin = makeModelMixin('visible', {\n  type: PROP_TYPE_BOOLEAN,\n  defaultValue: false,\n  event: EVENT_NAME_CHANGE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  ariaLabelledby: makeProp(PROP_TYPE_STRING),\n  // If `true`, shows a basic backdrop\n  backdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  backdropVariant: makeProp(PROP_TYPE_STRING, 'dark'),\n  bgVariant: makeProp(PROP_TYPE_STRING, 'light'),\n  bodyClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  // `aria-label` for close button\n  closeLabel: makeProp(PROP_TYPE_STRING),\n  footerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  headerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnEsc: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnRouteChange: makeProp(PROP_TYPE_BOOLEAN, false),\n  noEnforceFocus: makeProp(PROP_TYPE_BOOLEAN, false),\n  noHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  noHeaderClose: makeProp(PROP_TYPE_BOOLEAN, false),\n  noSlide: makeProp(PROP_TYPE_BOOLEAN, false),\n  right: makeProp(PROP_TYPE_BOOLEAN, false),\n  shadow: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  sidebarClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  tag: makeProp(PROP_TYPE_STRING, 'div'),\n  textVariant: makeProp(PROP_TYPE_STRING, 'dark'),\n  title: makeProp(PROP_TYPE_STRING),\n  width: makeProp(PROP_TYPE_STRING),\n  zIndex: makeProp(PROP_TYPE_NUMBER_STRING)\n})), NAME_SIDEBAR); // --- Render methods ---\n\nvar renderHeaderTitle = function renderHeaderTitle(h, ctx) {\n  // Render a empty `<span>` when to title was provided\n  var title = ctx.normalizeSlot(SLOT_NAME_TITLE, ctx.slotScope) || ctx.title;\n\n  if (!title) {\n    return h('span');\n  }\n\n  return h('strong', {\n    attrs: {\n      id: ctx.safeId('__title__')\n    }\n  }, [title]);\n};\n\nvar renderHeaderClose = function renderHeaderClose(h, ctx) {\n  if (ctx.noHeaderClose) {\n    return h();\n  }\n\n  var closeLabel = ctx.closeLabel,\n      textVariant = ctx.textVariant,\n      hide = ctx.hide;\n  return h(BButtonClose, {\n    props: {\n      ariaLabel: closeLabel,\n      textVariant: textVariant\n    },\n    on: {\n      click: hide\n    },\n    ref: 'close-button'\n  }, [ctx.normalizeSlot(SLOT_NAME_HEADER_CLOSE) || h(BIconX)]);\n};\n\nvar renderHeader = function renderHeader(h, ctx) {\n  if (ctx.noHeader) {\n    return h();\n  }\n\n  var $content = ctx.normalizeSlot(SLOT_NAME_HEADER, ctx.slotScope);\n\n  if (!$content) {\n    var $title = renderHeaderTitle(h, ctx);\n    var $close = renderHeaderClose(h, ctx);\n    $content = ctx.right ? [$close, $title] : [$title, $close];\n  }\n\n  return h('header', {\n    staticClass: \"\".concat(CLASS_NAME, \"-header\"),\n    class: ctx.headerClass,\n    key: 'header'\n  }, $content);\n};\n\nvar renderBody = function renderBody(h, ctx) {\n  return h('div', {\n    staticClass: \"\".concat(CLASS_NAME, \"-body\"),\n    class: ctx.bodyClass,\n    key: 'body'\n  }, [ctx.normalizeSlot(SLOT_NAME_DEFAULT, ctx.slotScope)]);\n};\n\nvar renderFooter = function renderFooter(h, ctx) {\n  var $footer = ctx.normalizeSlot(SLOT_NAME_FOOTER, ctx.slotScope);\n\n  if (!$footer) {\n    return h();\n  }\n\n  return h('footer', {\n    staticClass: \"\".concat(CLASS_NAME, \"-footer\"),\n    class: ctx.footerClass,\n    key: 'footer'\n  }, [$footer]);\n};\n\nvar renderContent = function renderContent(h, ctx) {\n  // We render the header even if `lazy` is enabled as it\n  // acts as the accessible label for the sidebar\n  var $header = renderHeader(h, ctx);\n\n  if (ctx.lazy && !ctx.isOpen) {\n    return $header;\n  }\n\n  return [$header, renderBody(h, ctx), renderFooter(h, ctx)];\n};\n\nvar renderBackdrop = function renderBackdrop(h, ctx) {\n  if (!ctx.backdrop) {\n    return h();\n  }\n\n  var backdropVariant = ctx.backdropVariant;\n  return h('div', {\n    directives: [{\n      name: 'show',\n      value: ctx.localShow\n    }],\n    staticClass: 'b-sidebar-backdrop',\n    class: _defineProperty({}, \"bg-\".concat(backdropVariant), backdropVariant),\n    on: {\n      click: ctx.onBackdropClick\n    }\n  });\n}; // --- Main component ---\n// @vue/component\n\n\nexport var BSidebar = /*#__PURE__*/Vue.extend({\n  name: NAME_SIDEBAR,\n  mixins: [attrsMixin, idMixin, modelMixin, listenOnRootMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    var visible = !!this[MODEL_PROP_NAME];\n    return {\n      // Internal `v-model` state\n      localShow: visible,\n      // For lazy render triggering\n      isOpen: visible\n    };\n  },\n  computed: {\n    transitionProps: function transitionProps() {\n      return this.noSlide ?\n      /* istanbul ignore next */\n      {\n        css: true\n      } : {\n        css: true,\n        enterClass: '',\n        enterActiveClass: 'slide',\n        enterToClass: 'show',\n        leaveClass: 'show',\n        leaveActiveClass: 'slide',\n        leaveToClass: ''\n      };\n    },\n    slotScope: function slotScope() {\n      var hide = this.hide,\n          right = this.right,\n          visible = this.localShow;\n      return {\n        hide: hide,\n        right: right,\n        visible: visible\n      };\n    },\n    hasTitle: function hasTitle() {\n      var $scopedSlots = this.$scopedSlots,\n          $slots = this.$slots;\n      return !this.noHeader && !this.hasNormalizedSlot(SLOT_NAME_HEADER) && !!(this.normalizeSlot(SLOT_NAME_TITLE, this.slotScope, $scopedSlots, $slots) || this.title);\n    },\n    titleId: function titleId() {\n      return this.hasTitle ? this.safeId('__title__') : null;\n    },\n    computedAttrs: function computedAttrs() {\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        id: this.safeId(),\n        tabindex: '-1',\n        role: 'dialog',\n        'aria-modal': this.backdrop ? 'true' : 'false',\n        'aria-hidden': this.localShow ? null : 'true',\n        'aria-label': this.ariaLabel || null,\n        'aria-labelledby': this.ariaLabelledby || this.titleId || null\n      });\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.localShow = newValue;\n    }\n  }), _defineProperty(_watch, \"localShow\", function localShow(newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.emitState(newValue);\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _defineProperty(_watch, \"$route\", function $route() {\n    var newValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var oldValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (!this.noCloseOnRouteChange && newValue.fullPath !== oldValue.fullPath) {\n      this.hide();\n    }\n  }), _watch),\n  created: function created() {\n    // Define non-reactive properties\n    this.$_returnFocusEl = null;\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // Add `$root` listeners\n    this.listenOnRoot(ROOT_ACTION_EVENT_NAME_TOGGLE, this.handleToggle);\n    this.listenOnRoot(ROOT_ACTION_EVENT_NAME_REQUEST_STATE, this.handleSync); // Send out a gratuitous state event to ensure toggle button is synced\n\n    this.$nextTick(function () {\n      _this.emitState(_this.localShow);\n    });\n  },\n\n  /* istanbul ignore next */\n  activated: function activated() {\n    this.emitSync();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.localShow = false;\n    this.$_returnFocusEl = null;\n  },\n  methods: {\n    hide: function hide() {\n      this.localShow = false;\n    },\n    emitState: function emitState() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.localShow;\n      this.emitOnRoot(ROOT_EVENT_NAME_STATE, this.safeId(), state);\n    },\n    emitSync: function emitSync() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.localShow;\n      this.emitOnRoot(ROOT_EVENT_NAME_SYNC_STATE, this.safeId(), state);\n    },\n    handleToggle: function handleToggle(id) {\n      // Note `safeId()` can be null until after mount\n      if (id && id === this.safeId()) {\n        this.localShow = !this.localShow;\n      }\n    },\n    handleSync: function handleSync(id) {\n      var _this2 = this;\n\n      // Note `safeId()` can be null until after mount\n      if (id && id === this.safeId()) {\n        this.$nextTick(function () {\n          _this2.emitSync(_this2.localShow);\n        });\n      }\n    },\n    onKeydown: function onKeydown(event) {\n      var keyCode = event.keyCode;\n\n      if (!this.noCloseOnEsc && keyCode === CODE_ESC && this.localShow) {\n        this.hide();\n      }\n    },\n    onBackdropClick: function onBackdropClick() {\n      if (this.localShow && !this.noCloseOnBackdrop) {\n        this.hide();\n      }\n    },\n\n    /* istanbul ignore next */\n    onTopTrapFocus: function onTopTrapFocus() {\n      var tabables = getTabables(this.$refs.content);\n      this.enforceFocus(tabables.reverse()[0]);\n    },\n\n    /* istanbul ignore next */\n    onBottomTrapFocus: function onBottomTrapFocus() {\n      var tabables = getTabables(this.$refs.content);\n      this.enforceFocus(tabables[0]);\n    },\n    onBeforeEnter: function onBeforeEnter() {\n      // Returning focus to `document.body` may cause unwanted scrolls,\n      // so we exclude setting focus on body\n      this.$_returnFocusEl = getActiveElement(IS_BROWSER ? [document.body] : []); // Trigger lazy render\n\n      this.isOpen = true;\n    },\n    onAfterEnter: function onAfterEnter(el) {\n      if (!contains(el, getActiveElement())) {\n        this.enforceFocus(el);\n      }\n\n      this.$emit(EVENT_NAME_SHOWN);\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.enforceFocus(this.$_returnFocusEl);\n      this.$_returnFocusEl = null; // Trigger lazy render\n\n      this.isOpen = false;\n      this.$emit(EVENT_NAME_HIDDEN);\n    },\n    enforceFocus: function enforceFocus(el) {\n      if (!this.noEnforceFocus) {\n        attemptFocus(el);\n      }\n    }\n  },\n  render: function render(h) {\n    var _ref;\n\n    var bgVariant = this.bgVariant,\n        width = this.width,\n        textVariant = this.textVariant,\n        localShow = this.localShow;\n    var shadow = this.shadow === '' ? true : this.shadow;\n    var $sidebar = h(this.tag, {\n      staticClass: CLASS_NAME,\n      class: [(_ref = {\n        shadow: shadow === true\n      }, _defineProperty(_ref, \"shadow-\".concat(shadow), shadow && shadow !== true), _defineProperty(_ref, \"\".concat(CLASS_NAME, \"-right\"), this.right), _defineProperty(_ref, \"bg-\".concat(bgVariant), bgVariant), _defineProperty(_ref, \"text-\".concat(textVariant), textVariant), _ref), this.sidebarClass],\n      style: {\n        width: width\n      },\n      attrs: this.computedAttrs,\n      directives: [{\n        name: 'show',\n        value: localShow\n      }],\n      ref: 'content'\n    }, [renderContent(h, this)]);\n    $sidebar = h('transition', {\n      props: this.transitionProps,\n      on: {\n        beforeEnter: this.onBeforeEnter,\n        afterEnter: this.onAfterEnter,\n        afterLeave: this.onAfterLeave\n      }\n    }, [$sidebar]);\n    var $backdrop = h(BVTransition, {\n      props: {\n        noFade: this.noSlide\n      }\n    }, [renderBackdrop(h, this)]);\n    var $tabTrapTop = h();\n    var $tabTrapBottom = h();\n\n    if (this.backdrop && localShow) {\n      $tabTrapTop = h('div', {\n        attrs: {\n          tabindex: '0'\n        },\n        on: {\n          focus: this.onTopTrapFocus\n        }\n      });\n      $tabTrapBottom = h('div', {\n        attrs: {\n          tabindex: '0'\n        },\n        on: {\n          focus: this.onBottomTrapFocus\n        }\n      });\n    }\n\n    return h('div', {\n      staticClass: 'b-sidebar-outer',\n      style: {\n        zIndex: this.zIndex\n      },\n      attrs: {\n        tabindex: '-1'\n      },\n      on: {\n        keydown: this.onKeydown\n      }\n    }, [$tabTrapTop, $sidebar, $tabTrapBottom, $backdrop]);\n  }\n});","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalendarSidebar.vue?vue&type=template&id=b9db0c82&\"\nimport script from \"./CalendarSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./CalendarSidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-sidebar',{attrs:{\"id\":\"sidebar-add-new-event\",\"sidebar-class\":\"sidebar-lg\",\"visible\":_vm.isEventHandlerSidebarActive,\"bg-variant\":\"white\",\"shadow\":\"\",\"backdrop\":\"\",\"no-header\":\"\",\"right\":\"\"},on:{\"change\":function (val) { return _vm.$emit('update:is-event-handler-sidebar-active', val); }},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hide = ref.hide;\nreturn [_c('div',{staticClass:\"d-flex justify-content-between align-items-center content-sidebar-header px-2 py-1\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm.eventLocal.id ? 'Update': 'Add')+\" Event \")]),_c('div',[(_vm.eventLocal.id)?_c('feather-icon',{staticClass:\"cursor-pointer\",attrs:{\"icon\":\"TrashIcon\"},on:{\"click\":function($event){_vm.$emit('remove-event'); hide();}}}):_vm._e(),_c('feather-icon',{staticClass:\"ml-1 cursor-pointer\",attrs:{\"icon\":\"XIcon\",\"size\":\"16\"},on:{\"click\":hide}})],1)]),_c('validation-observer',{ref:\"refFormObserver\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{staticClass:\"p-2\",on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.onSubmit)},\"reset\":function($event){$event.preventDefault();return _vm.resetForm.apply(null, arguments)}}},[_c('validation-provider',{attrs:{\"name\":\"Title\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Title\",\"label-for\":\"event-title\"}},[_c('b-form-input',{attrs:{\"id\":\"event-title\",\"autofocus\":\"\",\"state\":_vm.getValidationState(validationContext),\"trim\":\"\",\"placeholder\":\"Event Title\"},model:{value:(_vm.eventLocal.title),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"title\", $$v)},expression:\"eventLocal.title\"}}),_c('b-form-invalid-feedback',[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"Calendar\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Calendar\",\"label-for\":\"calendar\",\"state\":_vm.getValidationState(validationContext)}},[_c('v-select',{attrs:{\"dir\":_vm.$store.state.appConfig.isRTL ? 'rtl' : 'ltr',\"options\":_vm.calendarOptions,\"label\":\"label\",\"reduce\":function (calendar) { return calendar.label; },\"input-id\":\"calendar\"},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar color = ref.color;\nvar label = ref.label;\nreturn [_c('div',{staticClass:\"rounded-circle d-inline-block mr-50\",class:(\"bg-\" + color),staticStyle:{\"height\":\"10px\",\"width\":\"10px\"}}),_c('span',[_vm._v(\" \"+_vm._s(label))])]}},{key:\"selected-option\",fn:function(ref){\nvar color = ref.color;\nvar label = ref.label;\nreturn [_c('div',{staticClass:\"rounded-circle d-inline-block mr-50\",class:(\"bg-\" + color),staticStyle:{\"height\":\"10px\",\"width\":\"10px\"}}),_c('span',[_vm._v(\" \"+_vm._s(label))])]}}],null,true),model:{value:(_vm.eventLocal.extendedProps.calendar),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"calendar\", $$v)},expression:\"eventLocal.extendedProps.calendar\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"Start Date\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Start Date\",\"label-for\":\"start-date\",\"state\":_vm.getValidationState(validationContext)}},[_c('flat-pickr',{staticClass:\"form-control\",attrs:{\"config\":{ enableTime: true, dateFormat: 'Y-m-d H:i'}},model:{value:(_vm.eventLocal.start),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"start\", $$v)},expression:\"eventLocal.start\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"End Date\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"End Date\",\"label-for\":\"end-date\",\"state\":_vm.getValidationState(validationContext)}},[_c('flat-pickr',{staticClass:\"form-control\",attrs:{\"config\":{ enableTime: true, dateFormat: 'Y-m-d H:i'}},model:{value:(_vm.eventLocal.end),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"end\", $$v)},expression:\"eventLocal.end\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('b-form-group',[_c('b-form-checkbox',{attrs:{\"name\":\"check-button\",\"switch\":\"\",\"inline\":\"\"},model:{value:(_vm.eventLocal.allDay),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"allDay\", $$v)},expression:\"eventLocal.allDay\"}},[_vm._v(\" All Day \")])],1),_c('validation-provider',{attrs:{\"name\":\"Event URL\",\"rules\":\"url\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Event URL\",\"label-for\":\"event-url\"}},[_c('b-form-input',{attrs:{\"id\":\"event-url\",\"type\":\"url\",\"state\":_vm.getValidationState(validationContext),\"placeholder\":\"htttps://www.google.com\",\"trim\":\"\"},model:{value:(_vm.eventLocal.eventUrl),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"eventUrl\", $$v)},expression:\"eventLocal.eventUrl\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('b-form-group',{attrs:{\"label\":\"Add Guests\",\"label-for\":\"add-guests\"}},[_c('v-select',{attrs:{\"dir\":_vm.$store.state.appConfig.isRTL ? 'rtl' : 'ltr',\"multiple\":\"\",\"close-on-select\":false,\"options\":_vm.guestsOptions,\"label\":\"name\",\"input-id\":\"add-guests\"},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar avatar = ref.avatar;\nvar name = ref.name;\nreturn [_c('b-avatar',{attrs:{\"size\":\"sm\",\"src\":avatar}}),_c('span',{staticClass:\"ml-50 align-middle\"},[_vm._v(\" \"+_vm._s(name))])]}},{key:\"selected-option\",fn:function(ref){\nvar avatar = ref.avatar;\nvar name = ref.name;\nreturn [_c('b-avatar',{staticClass:\"border border-white\",attrs:{\"size\":\"sm\",\"src\":avatar}}),_c('span',{staticClass:\"ml-50 align-middle\"},[_vm._v(\" \"+_vm._s(name))])]}}],null,true),model:{value:(_vm.eventLocal.extendedProps.guests),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"guests\", $$v)},expression:\"eventLocal.extendedProps.guests\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Location\",\"label-for\":\"event-location\"}},[_c('b-form-input',{attrs:{\"id\":\"event-location\",\"trim\":\"\",\"placeholder\":\"Event Location\"},model:{value:(_vm.eventLocal.extendedProps.location),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"location\", $$v)},expression:\"eventLocal.extendedProps.location\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Description\",\"label-for\":\"event-description\"}},[_c('b-form-textarea',{attrs:{\"id\":\"event-description\"},model:{value:(_vm.eventLocal.extendedProps.description),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"description\", $$v)},expression:\"eventLocal.extendedProps.description\"}})],1),_c('div',{staticClass:\"d-flex mt-2\"},[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(255, 255, 255, 0.15)'),expression:\"'rgba(255, 255, 255, 0.15)'\",modifiers:{\"400\":true}}],staticClass:\"mr-2\",attrs:{\"variant\":\"primary\",\"type\":\"submit\"}},[_vm._v(\" \"+_vm._s(_vm.eventLocal.id ? 'Update' : 'Add ')+\" \")]),_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(186, 191, 199, 0.15)'),expression:\"'rgba(186, 191, 199, 0.15)'\",modifiers:{\"400\":true}}],attrs:{\"type\":\"reset\",\"variant\":\"outline-secondary\"}},[_vm._v(\" Reset \")])],1)],1)]}}],null,true)})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ref, nextTick } from '@vue/composition-api'\n\n// ===========================================================\n// ! This is coupled with \"veeValidate\" plugin\n// ===========================================================\n\nexport default function formValidation(resetFormData, clearFormData = () => {}) {\n  // ------------------------------------------------\n  // refFormObserver\n  // ! This is for veeValidate Observer\n  // * Used for veeValidate form observer\n  // ------------------------------------------------\n  const refFormObserver = ref(null)\n\n  // ------------------------------------------------\n  // resetObserver\n  // ! This function is coupled with veeValidate\n  // * It resets form observer\n  // ------------------------------------------------\n  const resetObserver = () => {\n    refFormObserver.value.reset()\n  }\n\n  // ------------------------------------------------\n  // getValidationState\n  // ! This function is coupled with veeValidate\n  // * It returns true/false based on validation\n  // ------------------------------------------------\n  // eslint-disable-next-line object-curly-newline\n  const getValidationState = ({ dirty, validated, required: fieldRequired, changed, valid = null }) => {\n    const result = dirty || validated ? valid : null\n    return !fieldRequired && !changed ? null : result\n  }\n\n  // ------------------------------------------------\n  // resetForm\n  // ! This function is coupled with veeValidate\n  // * This uses resetFormData arg to reset form data\n  // ------------------------------------------------\n  const resetForm = () => {\n    resetFormData()\n    nextTick(() => {\n      resetObserver()\n    })\n  }\n\n  // ------------------------------------------------\n  // clearForm\n  // ! This function is coupled with veeValidate\n  // * This uses clearFormData arg to reset form data\n  // ------------------------------------------------\n  const clearForm = () => {\n    clearFormData()\n    nextTick(() => {\n      resetObserver()\n    })\n  }\n\n  return {\n    refFormObserver,\n    resetObserver,\n    getValidationState,\n    resetForm,\n    clearForm,\n  }\n}\n","import { ref, computed, watch } from '@vue/composition-api'\nimport store from '@/store'\n\nexport default function useCalendarEventHandler(props, clearForm, emit) {\n  // ------------------------------------------------\n  // eventLocal\n  // ------------------------------------------------\n  const eventLocal = ref(JSON.parse(JSON.stringify(props.event.value)))\n  const resetEventLocal = () => {\n    eventLocal.value = JSON.parse(JSON.stringify(props.event.value))\n  }\n  watch(props.event, () => {\n    resetEventLocal()\n  })\n\n  // ------------------------------------------------\n  // isEventHandlerSidebarActive\n  // * Clear form if sidebar is closed\n  // ------------------------------------------------\n  watch(props.isEventHandlerSidebarActive, val => {\n    // ? Don't reset event till transition is finished\n    if (!val) {\n      setTimeout(() => {\n        clearForm.value()\n      }, 350)\n    }\n  })\n  // ------------------------------------------------\n  // calendarOptions\n  // ------------------------------------------------\n  const calendarOptions = computed(() => store.state.calendar.calendarOptions)\n\n  const onSubmit = () => {\n    const eventData = JSON.parse(JSON.stringify(eventLocal))\n\n    // * If event has id => Edit Event\n    // Emit event for add/update event\n    if (props.event.value.id) emit('update-event', eventData.value)\n    else emit('add-event', eventData.value)\n\n    // Close sidebar\n    emit('update:is-event-handler-sidebar-active', false)\n  }\n\n  // *===============================================---*\n  // *--------- UI ---------------------------------------*\n  // *===============================================---*\n\n  // ------------------------------------------------\n  // guestOptions\n  // ------------------------------------------------\n\n  /* eslint-disable global-require */\n  const guestsOptions = [\n    { avatar: require('@/assets/images/avatars/1-small.png'), name: 'Jane Foster' },\n    { avatar: require('@/assets/images/avatars/3-small.png'), name: 'Donna Frank' },\n    { avatar: require('@/assets/images/avatars/5-small.png'), name: 'Gabrielle Robertson' },\n    { avatar: require('@/assets/images/avatars/7-small.png'), name: 'Lori Spears' },\n    { avatar: require('@/assets/images/avatars/9-small.png'), name: 'Sandy Vega' },\n    { avatar: require('@/assets/images/avatars/11-small.png'), name: 'Cheryl May' },\n  ]\n  /* eslint-enable global-require */\n\n  return {\n    eventLocal,\n    resetEventLocal,\n    calendarOptions,\n\n    // UI\n    guestsOptions,\n    onSubmit,\n  }\n}\n","<template>\n  <div>\n    <b-sidebar\n      id=\"sidebar-add-new-event\"\n      sidebar-class=\"sidebar-lg\"\n      :visible=\"isEventHandlerSidebarActive\"\n      bg-variant=\"white\"\n      shadow\n      backdrop\n      no-header\n      right\n      @change=\"(val) => $emit('update:is-event-handler-sidebar-active', val)\"\n    >\n      <template #default=\"{ hide }\">\n        <!-- Header -->\n        <div class=\"d-flex justify-content-between align-items-center content-sidebar-header px-2 py-1\">\n          <h5 class=\"mb-0\">\n            {{ eventLocal.id ? 'Update': 'Add' }} Event\n          </h5>\n          <div>\n            <feather-icon\n              v-if=\"eventLocal.id\"\n              icon=\"TrashIcon\"\n              class=\"cursor-pointer\"\n              @click=\"$emit('remove-event'); hide();\"\n            />\n            <feather-icon\n              class=\"ml-1 cursor-pointer\"\n              icon=\"XIcon\"\n              size=\"16\"\n              @click=\"hide\"\n            />\n          </div>\n        </div>\n\n        <!-- Body -->\n        <validation-observer\n          #default=\"{ handleSubmit }\"\n          ref=\"refFormObserver\"\n        >\n\n          <!-- Form -->\n          <b-form\n            class=\"p-2\"\n            @submit.prevent=\"handleSubmit(onSubmit)\"\n            @reset.prevent=\"resetForm\"\n          >\n\n            <!-- Title -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Title\"\n              rules=\"required\"\n            >\n              <b-form-group\n                label=\"Title\"\n                label-for=\"event-title\"\n              >\n                <b-form-input\n                  id=\"event-title\"\n                  v-model=\"eventLocal.title\"\n                  autofocus\n                  :state=\"getValidationState(validationContext)\"\n                  trim\n                  placeholder=\"Event Title\"\n                />\n\n                <b-form-invalid-feedback>\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- Calendar -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Calendar\"\n              rules=\"required\"\n            >\n\n              <b-form-group\n                label=\"Calendar\"\n                label-for=\"calendar\"\n                :state=\"getValidationState(validationContext)\"\n              >\n                <v-select\n                  v-model=\"eventLocal.extendedProps.calendar\"\n                  :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                  :options=\"calendarOptions\"\n                  label=\"label\"\n                  :reduce=\"calendar => calendar.label\"\n                  input-id=\"calendar\"\n                >\n\n                  <template #option=\"{ color, label }\">\n                    <div\n                      class=\"rounded-circle d-inline-block mr-50\"\n                      :class=\"`bg-${color}`\"\n                      style=\"height:10px;width:10px\"\n                    />\n                    <span> {{ label }}</span>\n                  </template>\n\n                  <template #selected-option=\"{ color, label }\">\n                    <div\n                      class=\"rounded-circle d-inline-block mr-50\"\n                      :class=\"`bg-${color}`\"\n                      style=\"height:10px;width:10px\"\n                    />\n                    <span> {{ label }}</span>\n                  </template>\n                </v-select>\n\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- Start Date -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Start Date\"\n              rules=\"required\"\n            >\n\n              <b-form-group\n                label=\"Start Date\"\n                label-for=\"start-date\"\n                :state=\"getValidationState(validationContext)\"\n              >\n                <flat-pickr\n                  v-model=\"eventLocal.start\"\n                  class=\"form-control\"\n                  :config=\"{ enableTime: true, dateFormat: 'Y-m-d H:i'}\"\n                />\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- End Date -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"End Date\"\n              rules=\"required\"\n            >\n\n              <b-form-group\n                label=\"End Date\"\n                label-for=\"end-date\"\n                :state=\"getValidationState(validationContext)\"\n              >\n                <flat-pickr\n                  v-model=\"eventLocal.end\"\n                  class=\"form-control\"\n                  :config=\"{ enableTime: true, dateFormat: 'Y-m-d H:i'}\"\n                />\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- All Day -->\n            <b-form-group>\n              <b-form-checkbox\n                v-model=\"eventLocal.allDay\"\n                name=\"check-button\"\n                switch\n                inline\n              >\n                All Day\n              </b-form-checkbox>\n            </b-form-group>\n\n            <!-- Event URL -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Event URL\"\n              rules=\"url\"\n            >\n\n              <b-form-group\n                label=\"Event URL\"\n                label-for=\"event-url\"\n              >\n                <b-form-input\n                  id=\"event-url\"\n                  v-model=\"eventLocal.eventUrl\"\n                  type=\"url\"\n                  :state=\"getValidationState(validationContext)\"\n                  placeholder=\"htttps://www.google.com\"\n                  trim\n                />\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- Guests -->\n            <b-form-group\n              label=\"Add Guests\"\n              label-for=\"add-guests\"\n            >\n              <v-select\n                v-model=\"eventLocal.extendedProps.guests\"\n                :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                multiple\n                :close-on-select=\"false\"\n                :options=\"guestsOptions\"\n                label=\"name\"\n                input-id=\"add-guests\"\n              >\n\n                <template #option=\"{ avatar, name }\">\n                  <b-avatar\n                    size=\"sm\"\n                    :src=\"avatar\"\n                  />\n                  <span class=\"ml-50 align-middle\"> {{ name }}</span>\n                </template>\n\n                <template #selected-option=\"{ avatar, name }\">\n                  <b-avatar\n                    size=\"sm\"\n                    class=\"border border-white\"\n                    :src=\"avatar\"\n                  />\n                  <span class=\"ml-50 align-middle\"> {{ name }}</span>\n                </template>\n              </v-select>\n            </b-form-group>\n\n            <!-- Location -->\n            <b-form-group\n              label=\"Location\"\n              label-for=\"event-location\"\n            >\n              <b-form-input\n                id=\"event-location\"\n                v-model=\"eventLocal.extendedProps.location\"\n                trim\n                placeholder=\"Event Location\"\n              />\n            </b-form-group>\n\n            <!-- Textarea -->\n            <b-form-group\n              label=\"Description\"\n              label-for=\"event-description\"\n            >\n              <b-form-textarea\n                id=\"event-description\"\n                v-model=\"eventLocal.extendedProps.description\"\n              />\n            </b-form-group>\n\n            <!-- Form Actions -->\n            <div class=\"d-flex mt-2\">\n              <b-button\n                v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                variant=\"primary\"\n                class=\"mr-2\"\n                type=\"submit\"\n              >\n                {{ eventLocal.id ? 'Update' : 'Add ' }}\n              </b-button>\n              <b-button\n                v-ripple.400=\"'rgba(186, 191, 199, 0.15)'\"\n                type=\"reset\"\n                variant=\"outline-secondary\"\n              >\n                Reset\n              </b-button>\n            </div>\n          </b-form>\n        </validation-observer>\n      </template>\n    </b-sidebar>\n  </div>\n</template>\n\n<script>\nimport {\n  BSidebar, BForm, BFormGroup, BFormInput, BFormCheckbox, BAvatar, BFormTextarea, BButton, BFormInvalidFeedback,\n} from 'bootstrap-vue'\nimport vSelect from 'vue-select'\nimport flatPickr from 'vue-flatpickr-component'\nimport Ripple from 'vue-ripple-directive'\nimport { ValidationProvider, ValidationObserver } from 'vee-validate'\nimport { required, email, url } from '@validations'\nimport formValidation from '@core/comp-functions/forms/form-validation'\nimport { ref, toRefs } from '@vue/composition-api'\nimport useCalendarEventHandler from './useCalendarEventHandler'\n\nexport default {\n  components: {\n    BButton,\n    BSidebar,\n    BForm,\n    BFormGroup,\n    BFormInput,\n    BFormCheckbox,\n    BFormTextarea,\n    BAvatar,\n    vSelect,\n    flatPickr,\n    ValidationProvider,\n    BFormInvalidFeedback,\n    ValidationObserver,\n  },\n  directives: {\n    Ripple,\n  },\n  model: {\n    prop: 'isEventHandlerSidebarActive',\n    event: 'update:is-event-handler-sidebar-active',\n  },\n  props: {\n    isEventHandlerSidebarActive: {\n      type: Boolean,\n      required: true,\n    },\n    event: {\n      type: Object,\n      required: true,\n    },\n    clearEventData: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      required,\n      email,\n      url,\n    }\n  },\n  setup(props, { emit }) {\n    /*\n     ? This is handled quite differently in SFC due to deadlock of `useFormValidation` and this composition function.\n     ? If we don't handle it the way it is being handled then either of two composition function used by this SFC get undefined as one of it's argument.\n     * The Trick:\n\n     * We created reactive property `clearFormData` and set to null so we can get `resetEventLocal` from `useCalendarEventHandler` composition function.\n     * Once we get `resetEventLocal` function which is required by `useFormValidation` we will pass it to `useFormValidation` and in return we will get `clearForm` function which shall be original value of `clearFormData`.\n     * Later we just assign `clearForm` to `clearFormData` and can resolve the deadlock. \n\n     ? Behind The Scene\n     ? When we passed it to `useCalendarEventHandler` for first time it will be null but right after it we are getting correct value (which is `clearForm`) and assigning that correct value.\n     ? As `clearFormData` is reactive it is being changed from `null` to corrent value and thanks to reactivity it is also update in `useCalendarEventHandler` composition function and it is getting correct value in second time and can work w/o any issues.\n    */\n    const clearFormData = ref(null)\n\n    const {\n      eventLocal,\n      resetEventLocal,\n      calendarOptions,\n\n      // UI\n      onSubmit,\n      guestsOptions,\n    } = useCalendarEventHandler(toRefs(props), clearFormData, emit)\n\n    const {\n      refFormObserver,\n      getValidationState,\n      resetForm,\n      clearForm,\n    } = formValidation(resetEventLocal, props.clearEventData)\n\n    clearFormData.value = clearForm\n\n    return {\n      // Add New Event\n      eventLocal,\n      calendarOptions,\n      onSubmit,\n      guestsOptions,\n\n      // Form Validation\n      resetForm,\n      refFormObserver,\n      getValidationState,\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import '@core/scss/vue/libs/vue-select.scss';\n@import '@core/scss/vue/libs/vue-flatpicker.scss';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarEventHandler.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarEventHandler.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalendarEventHandler.vue?vue&type=template&id=56a81a94&\"\nimport script from \"./CalendarEventHandler.vue?vue&type=script&lang=js&\"\nexport * from \"./CalendarEventHandler.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CalendarEventHandler.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkData, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, memoize, MoreLinkRoot, getSegMeta, setRef, DayCellRoot, WeekNumberRoot, buildEntryKey, intersectSpans, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = this.context.options.navLinks\n            ? { 'data-navlink': buildNavLinkData(props.date), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), onClick: handleClick }, innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context, rootElRef = _a.rootElRef;\n        var options = context.options;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = options.navLinks\n            ? { 'data-navlink': buildNavLinkData(date, 'week'), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.index];\n        var hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.index];\n            var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            var isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var touchingEntry = insertion.touchingEntry, touchingLevel = insertion.touchingLevel, touchingLateral = insertion.touchingLateral;\n        if (this.hiddenConsumes && touchingEntry) {\n            var touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                eventInstanceHeights: this.queryEventInstanceHeights(),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", null, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkData, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, renderScrollShim, DateComponent, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkRoot, setRef, SegHierarchy, groupIntersectingEntries, buildEntryKey, binarySearch, getEntrySpanEnd, StandardEvent, DayCellContent, Fragment, getSegMeta, memoize, sortEventSegs, DayCellRoot, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (options.navLinks && dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? { 'data-navlink': buildNavLinkData(range.start, 'week'), tabIndex: 0 }\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", null, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", null, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n        var len = positions.els.length;\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { className: \"fc-timegrid-slots\", ref: this.rootElRef },\n            createElement(\"table\", { className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var _a = this, context = _a.context, props = _a.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TimeColMoreLink = /** @class */ (function (_super) {\n    __extends(TimeColMoreLink, _super);\n    function TimeColMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    TimeColMoreLink.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: function () { return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: function (el) {\n                setRef(rootElRef, el);\n                setRef(_this.rootElRef, el);\n            }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick },\n            createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent))); }));\n    };\n    return TimeColMoreLink;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    var hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    var web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    var segRects = webToRects(web);\n    return { segRects: segRects, hiddenGroups: hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    var entriesByLevel = hierarchy.entriesByLevel;\n    var buildNode = cacheable(function (level, lateral) { return level + ':' + lateral; }, function (level, lateral) {\n        var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        var nextLevelRes = buildNodes(siblingRange, buildNode);\n        var entry = entriesByLevel[level][lateral];\n        return [\n            __assign(__assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    var level = siblingRange.level, lateralStart = siblingRange.lateralStart, lateralEnd = siblingRange.lateralEnd;\n    var lateral = lateralStart;\n    var pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n    var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    var afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    var levelCnt = levelCoords.length;\n    var level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        var entries = entriesByLevel[level];\n        var entry = void 0;\n        var searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        var lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        var lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level: level, lateralStart: lateralStart, lateralEnd: lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    var stretchNode = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node); }, function (node, startCoord, prevThickness) {\n        var nextLevelNodes = node.nextLevelNodes, thickness = node.thickness;\n        var allThickness = thickness + prevThickness;\n        var thicknessFraction = thickness / allThickness;\n        var endCoord;\n        var newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (var _i = 0, nextLevelNodes_1 = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                var childNode = nextLevelNodes_1[_i];\n                if (endCoord === undefined) {\n                    var res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    var res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        var newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map(function (node) { return stretchNode(node, 0, 0)[1]; });\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    var rects = [];\n    var processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node); }, function (node, levelCoord, stackDepth) {\n        var rect = __assign(__assign({}, node), { levelCoord: levelCoord,\n            stackDepth: stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        var stackForward = 0;\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    var cache = {};\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = keyFunc.apply(void 0, args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc.apply(void 0, args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords, eventMinHeight) {\n    if (slatCoords === void 0) { slatCoords = null; }\n    if (eventMinHeight === void 0) { eventMinHeight = 0; }\n    var vcoords = [];\n    if (slatCoords) {\n        for (var i = 0; i < segs.length; i += 1) {\n            var seg = segs[i];\n            var spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            var spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    var segInputs = [];\n    var dumbSegs = []; // segs without coords\n    for (var i = 0; i < segs.length; i += 1) {\n        var vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    var _a = buildPositioning(segInputs, eventOrderStrict, eventMaxStack), segRects = _a.segRects, hiddenGroups = _a.hiddenGroups;\n    var segPlacements = [];\n    for (var _i = 0, segRects_1 = segRects; _i < segRects_1.length; _i++) {\n        var segRect = segRects_1[_i];\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (var _b = 0, dumbSegs_1 = dumbSegs; _b < dumbSegs_1.length; _b++) {\n        var dumbSeg = dumbSegs_1[_b];\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements: segPlacements, hiddenGroups: hiddenGroups };\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isShort) {\n            classNames.push('fc-timegrid-event-short');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sortEventSegs = memoize(sortEventSegs);\n        return _this;\n    }\n    // TODO: memoize event-placement?\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        var sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict, eventMinHeight = _a.eventMinHeight;\n        var _b = this.props, date = _b.date, slatCoords = _b.slatCoords, eventSelection = _b.eventSelection, todayRange = _b.todayRange, nowDate = _b.nowDate;\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        var _c = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack), segPlacements = _c.segPlacements, hiddenGroups = _c.hiddenGroups;\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map(function (segPlacement) {\n                var seg = segPlacement.seg, rect = segPlacement.rect;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                var vStyle = computeSegVStyle(rect && rect.span);\n                var hStyle = (!isMirror && rect) ? _this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                var isInset = Boolean(rect) && rect.stackForward > 0;\n                var isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign(__assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    };\n    // will already have eventMinHeight applied because segInputs already had it\n    TimeCol.prototype.renderHiddenGroups = function (hiddenGroups, segs) {\n        var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n        return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup) {\n            var positionCss = computeSegVStyle(hiddenGroup.span);\n            var hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _a = this, props = _a.props, context = _a.context;\n        var segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        var children = segVCoords.map(function (vcoords, i) {\n            var seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeSegHStyle = function (segHCoords) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        var farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        var props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    };\n    return TimeCol;\n}(BaseComponent));\nfunction renderPlainFgSegs(sortedFgSegs, _a) {\n    var todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n    var hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map(function (seg) {\n        var instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map(function (segEntry) { return allSegs[segEntry.index]; });\n}\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", null,\n                    createElement(\"tr\", null,\n                        props.axis && (createElement(\"td\", { className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleRootEl = function (el) {\n            if (el) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: el,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var cell = this.props.cells[colIndex];\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile: dateProfile,\n                dateSpan: __assign({ range: { start: start, end: end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(DateComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { getDateMeta, buildNavLinkData, getDayClassNames, createElement, RenderHook, formatDayString, BaseComponent, Fragment, createFormatter, EventRoot, isMultiDayRange, buildSegTimeText, memoize, ViewRoot, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, DateComponent, startOfDay, addDays, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nvar ListViewHeaderRow = /** @class */ (function (_super) {\n    __extends(ListViewHeaderRow, _super);\n    function ListViewHeaderRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewHeaderRow.prototype.render = function () {\n        var _a = this.props, dayDate = _a.dayDate, todayRange = _a.todayRange;\n        var _b = this.context, theme = _b.theme, dateEnv = _b.dateEnv, options = _b.options, viewApi = _b.viewApi;\n        var dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        var text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        var sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        var navLinkData = options.navLinks\n            ? buildNavLinkData(dayDate)\n            : null;\n        var hookProps = __assign({ date: dateEnv.toDate(dayDate), view: viewApi, text: text,\n            sideText: sideText,\n            navLinkData: navLinkData }, dayMeta);\n        var classNames = ['fc-list-day'].concat(getDayClassNames(dayMeta, theme));\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInnerContent, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"tr\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": formatDayString(dayDate) },\n            createElement(\"th\", { colSpan: 3 },\n                createElement(\"div\", { className: 'fc-list-day-cushion ' + theme.getClass('tableCellShaded'), ref: innerElRef }, innerContent)))); }));\n    };\n    return ListViewHeaderRow;\n}(BaseComponent));\nfunction renderInnerContent(props) {\n    var navLinkAttrs = props.navLinkData // is there a type for this?\n        ? { 'data-navlink': props.navLinkData, tabIndex: 0 }\n        : {};\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", __assign({ className: \"fc-list-day-text\" }, navLinkAttrs), props.text)),\n        props.sideText && (createElement(\"a\", __assign({ className: \"fc-list-day-side-text\" }, navLinkAttrs), props.sideText))));\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nvar ListViewEventRow = /** @class */ (function (_super) {\n    __extends(ListViewEventRow, _super);\n    function ListViewEventRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewEventRow.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventRoot, { seg: seg, timeText: \"\" // BAD. because of all-day content\n            , disableDragging: true, disableResizing: true, defaultContent: renderEventInnerContent, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, isSelected: props.isSelected, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"tr\", { className: ['fc-list-event', hookProps.event.url ? 'fc-event-forced-url' : ''].concat(classNames).join(' '), ref: rootElRef },\n            buildTimeContent(seg, timeFormat, context),\n            createElement(\"td\", { className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: { borderColor: hookProps.borderColor || hookProps.backgroundColor } })),\n            createElement(\"td\", { className: \"fc-list-event-title\", ref: innerElRef }, innerContent))); }));\n    };\n    return ListViewEventRow;\n}(BaseComponent));\nfunction renderEventInnerContent(props) {\n    var event = props.event;\n    var url = event.url;\n    var anchorAttrs = url ? { href: url } : {};\n    return (createElement(\"a\", __assign({}, anchorAttrs), event.title));\n}\nfunction buildTimeContent(seg, timeFormat, context) {\n    var options = context.options;\n    if (options.displayEventTime !== false) {\n        var eventDef = seg.eventRange.def;\n        var eventInstance = seg.eventRange.instance;\n        var doAllDay = false;\n        var timeText = void 0;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            var hookProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { className: ['fc-list-event-time'].concat(classNames).join(' '), ref: rootElRef }, innerContent)); }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    function ListView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.computeDateVars = memoize(computeDateVars);\n        _this.eventStoreToSegs = memoize(_this._eventStoreToSegs);\n        _this.setRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    ListView.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var extraClassNames = [\n            'fc-list',\n            context.theme.getClass('table'),\n            context.options.stickyHeaderDates !== false ? 'fc-list-sticky' : '',\n        ];\n        var _b = this.computeDateVars(props.dateProfile), dayDates = _b.dayDates, dayRanges = _b.dayRanges;\n        var eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.setRootEl }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: extraClassNames.concat(classNames).join(' ') },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                _this.renderSegList(eventSegs, dayDates) :\n                _this.renderEmptyMessage()))); }));\n    };\n    ListView.prototype.renderEmptyMessage = function () {\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var hookProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.noEventsClassNames, content: options.noEventsContent, defaultContent: renderNoEventsInner, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { className: ['fc-list-empty'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(\"div\", { className: \"fc-list-empty-cushion\", ref: innerElRef }, innerContent))); }));\n    };\n    ListView.prototype.renderSegList = function (allSegs, dayDates) {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) {\n            var innerNodes = [];\n            for (var dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                var daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    var dayStr = dayDates[dayIndex].toISOString();\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (var _i = 0, daySegs_1 = daySegs; _i < daySegs_1.length; _i++) {\n                        var seg = daySegs_1[_i];\n                        innerNodes.push(createElement(ListViewEventRow, __assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    };\n    ListView.prototype._eventStoreToSegs = function (eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    };\n    ListView.prototype.eventRangesToSegs = function (eventRanges, dayRanges) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    };\n    ListView.prototype.eventRangeToSegs = function (eventRange, dayRanges) {\n        var dateEnv = this.context.dateEnv;\n        var nextDayThreshold = this.context.options.nextDayThreshold;\n        var range = eventRange.range;\n        var allDay = eventRange.def.allDay;\n        var dayIndex;\n        var segRange;\n        var seg;\n        var segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange: eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex: dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    };\n    return ListView;\n}(DateComponent));\nfunction renderNoEventsInner(hookProps) {\n    return hookProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    var dayStart = startOfDay(dateProfile.renderRange.start);\n    var viewEnd = dateProfile.renderRange.end;\n    var dayDates = [];\n    var dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates: dayDates, dayRanges: dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    var segsByDay = []; // sparse array\n    var i;\n    var seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nvar OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n    // noEventsText is defined in base options\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar main = createPlugin({\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n    },\n});\n\nexport default main;\nexport { ListView };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, getElRoot, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function (scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function (scrollStartEl) {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(getElRoot(scrollStartEl).querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                var initialHit = _this.hitDragging.initialHit;\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !getElRoot(_this.subjectEl).querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1, // the pre-change data\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    var dateEnv = hit0.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = getEventTargetViaRoot(pev.origEvent);\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n//# sourceMappingURL=main.js.map\n","// Full Calendar Plugins\nimport dayGridPlugin from '@fullcalendar/daygrid'\nimport timeGridPlugin from '@fullcalendar/timegrid'\nimport listPlugin from '@fullcalendar/list'\nimport interactionPlugin from '@fullcalendar/interaction'\n\n// Notification\nimport { useToast } from 'vue-toastification/composition'\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\n\n// eslint-disable-next-line object-curly-newline\nimport { ref, computed, watch, onMounted } from '@vue/composition-api'\nimport store from '@/store'\n\nexport default function userCalendar() {\n  // Use toast\n  const toast = useToast()\n  // ------------------------------------------------\n  // refCalendar\n  // ------------------------------------------------\n  const refCalendar = ref(null)\n\n  // ------------------------------------------------\n  // calendarApi\n  // ------------------------------------------------\n  let calendarApi = null\n  onMounted(() => {\n    calendarApi = refCalendar.value.getApi()\n  })\n\n  // ------------------------------------------------\n  // calendars\n  // ------------------------------------------------\n  const calendarsColor = {\n    Business: 'primary',\n    Holiday: 'success',\n    Personal: 'danger',\n    Family: 'warning',\n    ETC: 'info',\n  }\n\n  // ------------------------------------------------\n  // event\n  // ------------------------------------------------\n  const blankEvent = {\n    title: '',\n    start: '',\n    end: '',\n    allDay: false,\n    url: '',\n    extendedProps: {\n      calendar: '',\n      guests: [],\n      location: '',\n      description: '',\n    },\n  }\n  const event = ref(JSON.parse(JSON.stringify(blankEvent)))\n  const clearEventData = () => {\n    event.value = JSON.parse(JSON.stringify(blankEvent))\n  }\n\n  // *===========================================================================---*\n  // *--------- Calendar API Function/Utils --------------------------------------------*\n  // Template Future Update: We might move this utils function in its own file\n  // *===========================================================================---*\n\n  // ------------------------------------------------\n  // (UI) addEventInCalendar\n  // ? This is useless because this just add event in calendar and not in our data\n  // * If we try to call it on new event then callback & try to toggle from calendar we get two events => One from UI and one from data\n  // ------------------------------------------------\n  // const addEventInCalendar = eventData => {\n  //   toast({\n  //     component: ToastificationContent,\n  //     position: 'bottom-right',\n  //     props: {\n  //       title: 'Event Added',\n  //       icon: 'CheckIcon',\n  //       variant: 'success',\n  //     },\n  //   })\n  //   calendarApi.addEvent(eventData)\n  // }\n\n  // ------------------------------------------------\n  // (UI) updateEventInCalendar\n  // ------------------------------------------------\n  const updateEventInCalendar = (updatedEventData, propsToUpdate, extendedPropsToUpdate) => {\n    toast({\n      component: ToastificationContent,\n      props: {\n        title: 'Event Updated',\n        icon: 'CheckIcon',\n        variant: 'success',\n      },\n    })\n\n    const existingEvent = calendarApi.getEventById(updatedEventData.id)\n\n    // --- Set event properties except date related ----- //\n    // ? Docs: https://fullcalendar.io/docs/Event-setProp\n    // dateRelatedProps => ['start', 'end', 'allDay']\n    // eslint-disable-next-line no-plusplus\n    for (let index = 0; index < propsToUpdate.length; index++) {\n      const propName = propsToUpdate[index]\n      existingEvent.setProp(propName, updatedEventData[propName])\n    }\n\n    // --- Set date related props ----- //\n    // ? Docs: https://fullcalendar.io/docs/Event-setDates\n    existingEvent.setDates(updatedEventData.start, updatedEventData.end, { allDay: updatedEventData.allDay })\n\n    // --- Set event's extendedProps ----- //\n    // ? Docs: https://fullcalendar.io/docs/Event-setExtendedProp\n    // eslint-disable-next-line no-plusplus\n    for (let index = 0; index < extendedPropsToUpdate.length; index++) {\n      const propName = extendedPropsToUpdate[index]\n      existingEvent.setExtendedProp(propName, updatedEventData.extendedProps[propName])\n    }\n  }\n\n  // ------------------------------------------------\n  // (UI) removeEventInCalendar\n  // ------------------------------------------------\n  const removeEventInCalendar = eventId => {\n    toast({\n      component: ToastificationContent,\n      props: {\n        title: 'Event Removed',\n        icon: 'TrashIcon',\n        variant: 'danger',\n      },\n    })\n    calendarApi.getEventById(eventId).remove()\n  }\n\n  // ------------------------------------------------\n  // grabEventDataFromEventApi\n  // ? It will return just event data from fullCalendar's EventApi which is not required for event mutations and other tasks\n  // ! You need to update below function as per your extendedProps\n  // ------------------------------------------------\n  const grabEventDataFromEventApi = eventApi => {\n    const {\n      id,\n      title,\n      start,\n      end,\n      // eslint-disable-next-line object-curly-newline\n      extendedProps: { calendar, guests, location, description },\n      allDay,\n    } = eventApi\n\n    return {\n      id,\n      title,\n      start,\n      end,\n      extendedProps: {\n        calendar,\n        guests,\n        location,\n        description,\n      },\n      allDay,\n    }\n  }\n\n  // ------------------------------------------------\n  // addEvent\n  // ------------------------------------------------\n  const addEvent = eventData => {\n    store.dispatch('calendar/addEvent', { event: eventData }).then(() => {\n      // eslint-disable-next-line no-use-before-define\n      refetchEvents()\n    })\n  }\n\n  // ------------------------------------------------\n  // updateEvent\n  // ------------------------------------------------\n  const updateEvent = eventData => {\n    store.dispatch('calendar/updateEvent', { event: eventData }).then(response => {\n      const updatedEvent = response.data.event\n\n      const propsToUpdate = ['id', 'title', 'url']\n      const extendedPropsToUpdate = ['calendar', 'guests', 'location', 'description']\n\n      updateEventInCalendar(updatedEvent, propsToUpdate, extendedPropsToUpdate)\n    })\n  }\n\n  // ------------------------------------------------\n  // removeEvent\n  // ------------------------------------------------\n  const removeEvent = () => {\n    const eventId = event.value.id\n    store.dispatch('calendar/removeEvent', { id: eventId }).then(() => {\n      removeEventInCalendar(eventId)\n    })\n  }\n\n  // ------------------------------------------------\n  // refetchEvents\n  // ------------------------------------------------\n  const refetchEvents = () => {\n    calendarApi.refetchEvents()\n  }\n\n  // ------------------------------------------------\n  // selectedCalendars\n  // ------------------------------------------------\n  const selectedCalendars = computed(() => store.state.calendar.selectedCalendars)\n\n  watch(selectedCalendars, () => {\n    refetchEvents()\n  })\n\n  // --------------------------------------------------------------------------------------------------\n  // AXIOS: fetchEvents\n  // * This will be called by fullCalendar to fetch events. Also this can be used to refetch events.\n  // --------------------------------------------------------------------------------------------------\n  const fetchEvents = (info, successCallback) => {\n    // If there's no info => Don't make useless API call\n    if (!info) return\n\n    // Fetch Events from API endpoint\n    store\n      .dispatch('calendar/fetchEvents', {\n        calendars: selectedCalendars.value,\n      })\n      .then(response => {\n        successCallback(response.data)\n      })\n      .catch(() => {\n        toast({\n          component: ToastificationContent,\n          props: {\n            title: 'Error fetching calendar events',\n            icon: 'AlertTriangleIcon',\n            variant: 'danger',\n          },\n        })\n      })\n  }\n\n  // ------------------------------------------------------------------------\n  // calendarOptions\n  // * This isn't considered in UI because this is the core of calendar app\n  // ------------------------------------------------------------------------\n  const calendarOptions = ref({\n    plugins: [dayGridPlugin, interactionPlugin, timeGridPlugin, listPlugin],\n    initialView: 'dayGridMonth',\n    headerToolbar: {\n      start: 'sidebarToggle, prev,next, title',\n      end: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth',\n    },\n    events: fetchEvents,\n\n    /*\n      Enable dragging and resizing event\n      ? Docs: https://fullcalendar.io/docs/editable\n    */\n    editable: true,\n\n    /*\n      Enable resizing event from start\n      ? Docs: https://fullcalendar.io/docs/eventResizableFromStart\n    */\n    eventResizableFromStart: true,\n\n    /*\n      Automatically scroll the scroll-containers during event drag-and-drop and date selecting\n      ? Docs: https://fullcalendar.io/docs/dragScroll\n    */\n    dragScroll: true,\n\n    /*\n      Max number of events within a given day\n      ? Docs: https://fullcalendar.io/docs/dayMaxEvents\n    */\n    dayMaxEvents: 2,\n\n    /*\n      Determines if day names and week names are clickable\n      ? Docs: https://fullcalendar.io/docs/navLinks\n    */\n    navLinks: true,\n\n    eventClassNames({ event: calendarEvent }) {\n      // eslint-disable-next-line no-underscore-dangle\n      const colorName = calendarsColor[calendarEvent._def.extendedProps.calendar]\n\n      return [\n        // Background Color\n        `bg-light-${colorName}`,\n      ]\n    },\n    eventClick({ event: clickedEvent }) {\n      // * Only grab required field otherwise it goes in infinity loop\n      // ! Always grab all fields rendered by form (even if it get `undefined`) otherwise due to Vue3/Composition API you might get: \"object is not extensible\"\n      event.value = grabEventDataFromEventApi(clickedEvent)\n\n      // eslint-disable-next-line no-use-before-define\n      isEventHandlerSidebarActive.value = true\n    },\n\n    customButtons: {\n      sidebarToggle: {\n        // --- This dummy text actual icon rendering is handled using SCSS ----- //\n        text: 'sidebar',\n        click() {\n          // eslint-disable-next-line no-use-before-define\n          isCalendarOverlaySidebarActive.value = !isCalendarOverlaySidebarActive.value\n        },\n      },\n    },\n\n    dateClick(info) {\n      /*\n        ! Vue3 Change\n        Using Vue.set isn't working for now so we will try to check reactivity in Vue 3 as it can handle this automatically\n        ```\n        event.value.start = info.date\n        ```\n      */\n      event.value = JSON.parse(JSON.stringify(Object.assign(event.value, { start: info.date })))\n      // eslint-disable-next-line no-use-before-define\n      isEventHandlerSidebarActive.value = true\n    },\n\n    /*\n      Handle event drop (Also include dragged event)\n      ? Docs: https://fullcalendar.io/docs/eventDrop\n      ? We can use `eventDragStop` but it doesn't return updated event so we have to use `eventDrop` which returns updated event\n    */\n    eventDrop({ event: droppedEvent }) {\n      updateEvent(grabEventDataFromEventApi(droppedEvent))\n    },\n\n    /*\n      Handle event resize\n      ? Docs: https://fullcalendar.io/docs/eventResize\n    */\n    eventResize({ event: resizedEvent }) {\n      updateEvent(grabEventDataFromEventApi(resizedEvent))\n    },\n\n    // Get direction from app state (store)\n    direction: computed(() => (store.state.appConfig.isRTL ? 'rtl' : 'ltr')),\n    rerenderDelay: 350,\n  })\n\n  // ------------------------------------------------------------------------\n\n  // *===============================================---*\n  // *--------- UI ---------------------------------------*\n  // *===============================================---*\n\n  const isEventHandlerSidebarActive = ref(false)\n\n  const isCalendarOverlaySidebarActive = ref(false)\n\n  return {\n    refCalendar,\n    isCalendarOverlaySidebarActive,\n    calendarOptions,\n    event,\n    clearEventData,\n    addEvent,\n    updateEvent,\n    removeEvent,\n    refetchEvents,\n    fetchEvents,\n\n    // ----- UI ----- //\n    isEventHandlerSidebarActive,\n  }\n}\n","<template>\n  <div class=\"app-calendar overflow-hidden border\">\n    <div class=\"row no-gutters\">\n      <!-- Sidebar -->\n      <div\n        class=\"col app-calendar-sidebar flex-grow-0 overflow-hidden d-flex flex-column\"\n        :class=\"{'show': isCalendarOverlaySidebarActive}\"\n      >\n        <calendar-sidebar :is-event-handler-sidebar-active.sync=\"isEventHandlerSidebarActive\" />\n      </div>\n\n      <!-- Calendar -->\n      <div class=\"col position-relative\">\n        <div class=\"card shadow-none border-0 mb-0 rounded-0\">\n          <div class=\"card-body pb-0\">\n            <full-calendar\n              ref=\"refCalendar\"\n              :options=\"calendarOptions\"\n              class=\"full-calendar\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <!-- Sidebar Overlay -->\n      <div\n        class=\"body-content-overlay\"\n        :class=\"{'show': isCalendarOverlaySidebarActive}\"\n        @click=\"isCalendarOverlaySidebarActive = false\"\n      />\n      <calendar-event-handler\n        v-model=\"isEventHandlerSidebarActive\"\n        :event=\"event\"\n        :clear-event-data=\"clearEventData\"\n        @remove-event=\"removeEvent\"\n        @add-event=\"addEvent\"\n        @update-event=\"updateEvent\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport FullCalendar from '@fullcalendar/vue'\nimport store from '@/store'\nimport { onUnmounted } from '@vue/composition-api'\nimport calendarStoreModule from './calendarStoreModule'\nimport CalendarSidebar from './calendar-sidebar/CalendarSidebar.vue'\nimport CalendarEventHandler from './calendar-event-handler/CalendarEventHandler.vue'\nimport useCalendar from './useCalendar'\n\nexport default {\n  components: {\n    FullCalendar, // make the <FullCalendar> tag available\n    CalendarSidebar,\n    CalendarEventHandler,\n  },\n  setup() {\n    const CALENDAR_APP_STORE_MODULE_NAME = 'calendar'\n\n    // Register module\n    if (!store.hasModule(CALENDAR_APP_STORE_MODULE_NAME)) store.registerModule(CALENDAR_APP_STORE_MODULE_NAME, calendarStoreModule)\n\n    // UnRegister on leave\n    onUnmounted(() => {\n      if (store.hasModule(CALENDAR_APP_STORE_MODULE_NAME)) store.unregisterModule(CALENDAR_APP_STORE_MODULE_NAME)\n    })\n\n    const {\n      refCalendar,\n      isCalendarOverlaySidebarActive,\n      event,\n      clearEventData,\n      addEvent,\n      updateEvent,\n      removeEvent,\n      fetchEvents,\n      refetchEvents,\n      calendarOptions,\n\n      // ----- UI ----- //\n      isEventHandlerSidebarActive,\n    } = useCalendar()\n\n    fetchEvents()\n\n    return {\n      refCalendar,\n      isCalendarOverlaySidebarActive,\n      event,\n      clearEventData,\n      addEvent,\n      updateEvent,\n      removeEvent,\n      refetchEvents,\n      calendarOptions,\n\n      // ----- UI ----- //\n      isEventHandlerSidebarActive,\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import \"@core/scss/vue/apps/calendar.scss\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Calendar.vue?vue&type=template&id=3c333a1e&\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calendar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/3-small.33d29f56.png\";","module.exports = __webpack_public_path__ + \"img/7-small.c4993d9a.png\";","module.exports = __webpack_public_path__ + \"img/11-small.4ade0856.png\";","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"flatpickr\")):\"function\"==typeof define&&define.amd?define(\"VueFlatpickr\",[\"flatpickr\"],e):\"object\"==typeof exports?exports.VueFlatpickr=e(require(\"flatpickr\")):t.VueFlatpickr=e(t.flatpickr)}(\"undefined\"!=typeof self?self:this,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Component\",(function(){return c})),n.d(e,\"Plugin\",(function(){return p}));var r=n(0),o=n.n(r),i=[\"onChange\",\"onClose\",\"onDestroy\",\"onMonthChange\",\"onOpen\",\"onYearChange\"];function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a=function(t){return t.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase()},f=function(t){return u({},t)},l=i.concat([\"onValueUpdate\",\"onDayCreate\",\"onParseConfig\",\"onReady\",\"onPreCalendarPosition\",\"onKeyDown\"]),s=[\"locale\",\"showMonths\"],c={name:\"flat-pickr\",render:function(t){return t(\"input\",{attrs:{type:\"text\",\"data-input\":!0},props:{disabled:this.disabled},on:{input:this.onInput}})},props:{value:{default:null,required:!0,validator:function(t){return null===t||t instanceof Date||\"string\"==typeof t||t instanceof String||t instanceof Array||\"number\"==typeof t}},config:{type:Object,default:function(){return{wrap:!1,defaultDate:null}}},events:{type:Array,default:function(){return i}},disabled:{type:Boolean,default:!1}},data:function(){return{fp:null}},mounted:function(){var t=this;if(!this.fp){var e=f(this.config);this.events.forEach((function(n){var r,i=o.a.defaultConfig[n]||[];e[n]=(r=e[n]||[],r instanceof Array?r:[r]).concat(i,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t.$emit.apply(t,[a(n)].concat(r))}))})),e.defaultDate=this.value||e.defaultDate,this.fp=new o.a(this.getElem(),e),this.fpInput().addEventListener(\"blur\",this.onBlur),this.$on(\"on-close\",this.onClose),this.$watch(\"disabled\",this.watchDisabled,{immediate:!0})}},methods:{getElem:function(){return this.config.wrap?this.$el.parentNode:this.$el},onInput:function(t){var e=this,n=t.target;this.$nextTick((function(){e.$emit(\"input\",n.value)}))},fpInput:function(){return this.fp.altInput||this.fp.input},onBlur:function(t){this.$emit(\"blur\",t.target.value)},onClose:function(t,e){this.$emit(\"input\",e)},watchDisabled:function(t){t?this.fpInput().setAttribute(\"disabled\",t):this.fpInput().removeAttribute(\"disabled\")}},watch:{config:{deep:!0,handler:function(t){var e=this,n=f(t);l.forEach((function(t){delete n[t]})),this.fp.set(n),s.forEach((function(t){void 0!==n[t]&&e.fp.set(t,n[t])}))}},value:function(t){t!==this.$el.value&&this.fp&&this.fp.setDate(t,!0)}},beforeDestroy:function(){this.fp&&(this.fpInput().removeEventListener(\"blur\",this.onBlur),this.fp.destroy(),this.fp=null)}},p=function(t,e){var n=\"flat-pickr\";\"string\"==typeof e&&(n=e),t.component(n,c)};c.install=p;e.default=c}]).default}));","module.exports = __webpack_public_path__ + \"img/5-small.a4eb6d6e.png\";","var Ripple = {\n    bind: function(el, binding){\n\n        // Default values.\n        var props = {\n            event: 'mousedown',\n            transition: 600\n        };\n\n        setProps(Object.keys(binding.modifiers),props);\n\n        el.addEventListener(props.event, function(event) {\n            rippler(event, el, binding.value);\n        });\n\n        var bg = binding.value || Ripple.color || 'rgba(0, 0, 0, 0.35)';\n        var zIndex = Ripple.zIndex || '9999';\n\n        function rippler(event, el) {\n            var target = el;\n            // Get border to avoid offsetting on ripple container position\n            var targetBorder = parseInt((getComputedStyle(target).borderWidth).replace('px', ''));\n\n            // Get necessary variables\n            var rect        = target.getBoundingClientRect(),\n                left        = rect.left,\n                top         = rect.top,\n                width       = target.offsetWidth,\n                height      = target.offsetHeight,\n                dx          = event.clientX - left,\n                dy          = event.clientY - top,\n                maxX        = Math.max(dx, width - dx),\n                maxY        = Math.max(dy, height - dy),\n                style       = window.getComputedStyle(target),\n                radius      = Math.sqrt((maxX * maxX) + (maxY * maxY)),\n                border      = (targetBorder > 0 ) ? targetBorder : 0;\n\n            // Create the ripple and its container\n            var ripple = document.createElement(\"div\"),\n                rippleContainer = document.createElement(\"div\");\n                rippleContainer.className = 'ripple-container';\n                ripple.className = 'ripple';\n\n            //Styles for ripple\n            ripple.style.marginTop= '0px';\n            ripple.style.marginLeft= '0px';\n            ripple.style.width= '1px';\n            ripple.style.height= '1px';\n            ripple.style.transition= 'all ' + props.transition + 'ms cubic-bezier(0.4, 0, 0.2, 1)';\n            ripple.style.borderRadius= '50%';\n            ripple.style.pointerEvents= 'none';\n            ripple.style.position= 'relative';\n            ripple.style.zIndex= zIndex;\n            ripple.style.backgroundColor  = bg;\n\n            //Styles for rippleContainer\n            rippleContainer.style.position= 'absolute';\n            rippleContainer.style.left = 0 - border + 'px';\n            rippleContainer.style.top = 0 - border + 'px';\n            rippleContainer.style.height = '0';\n            rippleContainer.style.width = '0';\n            rippleContainer.style.pointerEvents = 'none';\n            rippleContainer.style.overflow = 'hidden';\n\n            // Store target position to change it after\n            var storedTargetPosition =  ((target.style.position).length > 0) ? target.style.position : getComputedStyle(target).position;\n            // Change target position to relative to guarantee ripples correct positioning\n            if (storedTargetPosition !== 'relative') {\n                target.style.position = 'relative';\n            }\n\n            rippleContainer.appendChild(ripple);\n            target.appendChild(rippleContainer);\n\n            ripple.style.marginLeft   = dx + \"px\";\n            ripple.style.marginTop    = dy + \"px\";\n\n            // No need to set positioning because ripple should be child of target and to it's relative position.\n            // rippleContainer.style.left    = left + (((window.pageXOffset || document.scrollLeft) - (document.clientLeft || 0)) || 0) + \"px\";\n            // rippleContainer.style.top     = top + (((window.pageYOffset || document.scrollTop) - (document.clientTop || 0)) || 0) + \"px\";\n            rippleContainer.style.width   = width + \"px\";\n            rippleContainer.style.height  = height + \"px\";\n            rippleContainer.style.borderTopLeftRadius  = style.borderTopLeftRadius;\n            rippleContainer.style.borderTopRightRadius  = style.borderTopRightRadius;\n            rippleContainer.style.borderBottomLeftRadius  = style.borderBottomLeftRadius;\n            rippleContainer.style.borderBottomRightRadius  = style.borderBottomRightRadius;\n\n            rippleContainer.style.direction = 'ltr';\n\n            setTimeout(function() {\n                ripple.style.width  = radius * 2 + \"px\";\n                ripple.style.height = radius * 2 + \"px\";\n                ripple.style.marginLeft   = dx - radius + \"px\";\n                ripple.style.marginTop    = dy - radius + \"px\";\n            }, 0);\n\n            function clearRipple() {\n                setTimeout(function() {\n                    ripple.style.backgroundColor = \"rgba(0, 0, 0, 0)\";\n                }, 250);\n\n                // Timeout set to get a smooth removal of the ripple\n                setTimeout(function() {\n                    rippleContainer.parentNode.removeChild(rippleContainer);\n                }, 850);\n\n                el.removeEventListener('mouseup', clearRipple, false);\n\n                // After removing event set position to target to it's original one\n                // Timeout it's needed to avoid jerky effect of ripple jumping out parent target\n                setTimeout(function () {\n\n                    var clearPosition = true;\n                    for(var i = 0; i < target.childNodes.length; i++) {\n                        if(target.childNodes[i].className === 'ripple-container') {\n                            clearPosition = false;\n                        }\n                    }\n\n                    if(clearPosition) {\n                        if(storedTargetPosition !== 'static') {\n                            target.style.position = storedTargetPosition;\n                        } else {\n                            target.style.position = '';\n                        }\n                    }\n\n                }, props.transition + 250)\n            }\n\n            if(event.type === 'mousedown') {\n                el.addEventListener('mouseup', clearRipple, false);\n            } else {\n                clearRipple();\n            }\n        }\n    }\n};\n\nfunction setProps(modifiers,props) {\n    modifiers.forEach(function(item) {\n        if(isNaN(Number(item)))\n            props.event = item;\n        else\n            props.transition = item;\n    });\n}\n\nexport default Ripple;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_RADIO } from '../../constants/components';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { sortKeys } from '../../utils/object';\nimport { makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { MODEL_EVENT_NAME, formRadioCheckMixin, props as formRadioCheckProps } from '../../mixins/form-radio-check';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { idMixin, props as idProps } from '../../mixins/id'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formRadioCheckProps), formSizeProps), formStateProps)), NAME_FORM_RADIO); // --- Main component ---\n// @vue/component\n\nexport var BFormRadio = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_RADIO,\n  mixins: [idMixin, formRadioCheckMixin, // Includes shared render function\n  formControlMixin, formSizeMixin, formStateMixin],\n  inject: {\n    bvGroup: {\n      from: 'bvRadioGroup',\n      default: false\n    }\n  },\n  props: props,\n  watch: {\n    computedLocalChecked: function computedLocalChecked(newValue, oldValue) {\n      if (!looseEqual(newValue, oldValue)) {\n        this.$emit(MODEL_EVENT_NAME, newValue);\n      }\n    }\n  }\n});","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_STRING } from '../constants/props';\nimport { SLOT_NAME_FIRST } from '../constants/slots';\nimport { htmlOrText } from '../utils/html';\nimport { looseEqual } from '../utils/loose-equal';\nimport { makeModelMixin } from '../utils/model';\nimport { omit, pick, sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { BFormCheckbox } from '../components/form-checkbox/form-checkbox';\nimport { BFormRadio } from '../components/form-radio/form-radio';\nimport { formControlMixin, props as formControlProps } from './form-control';\nimport { formCustomMixin, props as formCustomProps } from './form-custom';\nimport { formOptionsMixin, props as formOptionsProps } from './form-options';\nimport { formSizeMixin, props as formSizeProps } from './form-size';\nimport { formStateMixin, props as formStateProps } from './form-state';\nimport { idMixin, props as idProps } from './id';\nimport { normalizeSlotMixin } from './normalize-slot'; // --- Constants ---\n// Attributes to pass down to checks/radios instead of applying them to the group\n\nvar PASS_DOWN_ATTRS = ['aria-describedby', 'aria-labelledby'];\n\nvar _makeModelMixin = makeModelMixin('checked'),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formOptionsProps), formSizeProps), formStateProps), formCustomProps), {}, {\n  ariaInvalid: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  // Only applicable when rendered with button style\n  buttonVariant: makeProp(PROP_TYPE_STRING),\n  // Render as button style\n  buttons: makeProp(PROP_TYPE_BOOLEAN, false),\n  stacked: makeProp(PROP_TYPE_BOOLEAN, false),\n  validated: makeProp(PROP_TYPE_BOOLEAN, false)\n})), 'formRadioCheckGroups'); // --- Mixin ---\n// @vue/component\n\nexport var formRadioCheckGroupMixin = Vue.extend({\n  mixins: [idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formOptionsMixin, formSizeMixin, formStateMixin, formCustomMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      localChecked: this[MODEL_PROP_NAME]\n    };\n  },\n  computed: {\n    inline: function inline() {\n      return !this.stacked;\n    },\n    groupName: function groupName() {\n      // Checks/Radios tied to the same model must have the same name,\n      // especially for ARIA accessibility\n      return this.name || this.safeId();\n    },\n    groupClasses: function groupClasses() {\n      var inline = this.inline,\n          size = this.size,\n          validated = this.validated;\n      var classes = {\n        'was-validated': validated\n      };\n\n      if (this.buttons) {\n        classes = [classes, 'btn-group-toggle', _defineProperty({\n          'btn-group': inline,\n          'btn-group-vertical': !inline\n        }, \"btn-group-\".concat(size), size)];\n      }\n\n      return classes;\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue) {\n    if (!looseEqual(newValue, this.localChecked)) {\n      this.localChecked = newValue;\n    }\n  }), _defineProperty(_watch, \"localChecked\", function localChecked(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _watch),\n  render: function render(h) {\n    var _this = this;\n\n    var isRadioGroup = this.isRadioGroup;\n    var attrs = pick(this.$attrs, PASS_DOWN_ATTRS);\n    var optionComponent = isRadioGroup ? BFormRadio : BFormCheckbox;\n    var $inputs = this.formOptions.map(function (option, index) {\n      var key = \"BV_option_\".concat(index);\n      return h(optionComponent, {\n        props: {\n          // Individual radios or checks can be disabled in a group\n          disabled: option.disabled || false,\n          id: _this.safeId(key),\n          value: option.value // We don't need to include these, since the input's will know they are inside here\n          // form: this.form || null,\n          // name: this.groupName,\n          // required: Boolean(this.name && this.required)\n\n        },\n        attrs: attrs,\n        key: key\n      }, [h('span', {\n        domProps: htmlOrText(option.html, option.text)\n      })]);\n    });\n    return h('div', {\n      class: [this.groupClasses, 'bv-no-focus-ring'],\n      attrs: _objectSpread(_objectSpread({}, omit(this.$attrs, PASS_DOWN_ATTRS)), {}, {\n        'aria-invalid': this.computedAriaInvalid,\n        'aria-required': this.required ? 'true' : null,\n        id: this.safeId(),\n        role: isRadioGroup ? 'radiogroup' : 'group',\n        // Add `tabindex=\"-1\"` to allow group to be focused if needed by screen readers\n        tabindex: '-1'\n      })\n    }, [this.normalizeSlot(SLOT_NAME_FIRST), $inputs, this.normalizeSlot()]);\n  }\n});","module.exports = __webpack_public_path__ + \"img/9-small.30df7a62.png\";"],"sourceRoot":""}